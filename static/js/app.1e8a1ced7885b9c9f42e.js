webpackJsonp([1],{0:function(t,e){},"05Ij":function(t,e){t.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}},1:function(t,e){},"1/oy":function(t,e){},"1QQ/":function(t,e){t.exports={_from:"bigi@^1.4.2",_id:"bigi@1.4.2",_inBundle:!1,_integrity:"sha1-nGZalfiLiwj8Bc/XMfVhhZ1yWCU=",_location:"/bigi",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"bigi@^1.4.2",name:"bigi",escapedName:"bigi",rawSpec:"^1.4.2",saveSpec:null,fetchSpec:"^1.4.2"},_requiredBy:["/ecurve","/eosjs-ecc"],_resolved:"https://registry.npmjs.org/bigi/-/bigi-1.4.2.tgz",_shasum:"9c665a95f88b8b08fc05cfd731f561859d725825",_spec:"bigi@^1.4.2",_where:"C:\\Users\\root\\Desktop\\Work\\Github\\novusphere-eos\\node_modules\\eosjs-ecc",bugs:{url:"https://github.com/cryptocoinjs/bigi/issues"},bundleDependencies:!1,dependencies:{},deprecated:!1,description:"Big integers.",devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},homepage:"https://github.com/cryptocoinjs/bigi#readme",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],main:"./lib/index.js",name:"bigi",repository:{url:"git+https://github.com/cryptocoinjs/bigi.git",type:"git"},scripts:{"browser-test":"mochify --wd -R spec",coverage:"istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info",jshint:"jshint --config jshint.json lib/*.js ; true",test:"_mocha -- test/*.js",unit:"mocha"},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]},version:"1.4.2"}},2:function(t,e){},3:function(t,e){},"6ZSt":function(t,e){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"9M+g":function(t,e){},GfHa:function(t,e){},Hujw:function(t,e){t.exports={get_actions:{params:{account_name:"account_name",pos:"int32?",offset:"int32?"},results:{actions:"ordered_action_result[]",last_irreversible_block:"uint32",time_limit_exceeded_error:"bool?"},structs:[{name:"ordered_action_result",fields:{global_action_seq:"uint64",account_action_seq:"int32",block_num:"uint32",block_time:"block_timestamp_type",action_trace:"variant"}}]},get_controlled_accounts:{params:{controlling_account:"account_name"},results:{controlled_accounts:"account_name[]"}},get_key_accounts:{params:{public_key:"public_key_type"},results:{account_names:"account_name[]"}},get_transaction:{brief:"Retrieve a transaction from the blockchain.",params:{id:"transaction_id_type"},results:{id:"transaction_id_type",trx:"variant",block_time:"block_timestamp_type",block_num:"uint32",last_irreversible_block:"uint32",traces:"variant[]"}}}},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("e6fC"),o=a("7t+N"),r=a.n(o),i=a("U0v6"),c=a("C/JF"),u=a("fhbW"),l=a("DfMW"),d=(a("Jmt5"),a("K3J8"),a("9M+g"),a("VaBq"),a("mvHQ")),p=a.n(d),m=a("Xxa5"),_=a.n(m),f=a("exGp"),h=a.n(f),v=a("Dfrr"),b=a.n(v),y=a("dXij"),g=a.n(y),w=a("DlMc"),k=a("//Fk"),x=a.n(k),C=function(t){if(0==t.indexOf("magnet:"))return"magnet link";var e=document.createElement("a");return e.href=t,e.host.toLowerCase()},$=function(t,e){return new x.a(function(a,n){r.a.get(t,e,function(t){a(t)}).fail(function(t){n(t)})})},S=a("Zrlr"),A=a.n(S),P=a("wxAW"),E=a.n(P),j=a("HKE2"),T=a.n(j),M=["A","B","BLOCKQUOTE","CODE","DEL","DD","DL","EM","H1","H2","H3","H4","I","IMG","KBD","LI","OL","P","PRE","S","SUP","SUB","STRONG","STRIKE","UL","BR","HR","#text"],q=new RegExp("javascript","i"),F=new RegExp("vbscript","i"),N=new RegExp("data","i"),R=function(){function t(e,a){A()(this,t),this.text=e.replace(/&#x200B;/g,""),this.html="",this.attachments=[],(void 0==a||a>=1538136731)&&(this.useTwitter=!0),this._generateHtml(),this._postProcess()}return E()(t,[{key:"_generateHtml",value:function(){var t,e,a=[];this.useTwitter&&a.push((t=function(t){return'<a href="\\#/u/'+t.trim().substring(1)+'">'+t+"</a>"},e=function(t){return'<a href="\\#/tag/'+t+'">#'+t+"</a>"},function(){return[{type:"lang",regex:"\\s([@][\\w_-]+)",replace:function(e,a,n){return"\\"===a?e:t(e)}},{type:"lang",regex:"\\B(\\\\)?#([a-zA-Z0-9_]+)\\b",replace:function(t,a,n){return"\\"===a?t:e(n)}},{type:"lang",regex:"\\\\@",replace:"@"}]}));var n=new T.a.Converter({extensions:a,simplifiedAutoLink:!0,requireSpaceBeforeHeadingText:!!this.useTwitter});this.html=n.makeHtml(this.text)}},{key:"_postProcess",value:function(){for(var t=r.a.parseHTML(this.html),e="",a=0;a<t.length;a++)e+=this._strip(t[a]);this.html=e}},{key:"_safeAttribute",value:function(t){return 0==t.search(q)||0==t.search(F)||0==t.search(N)?"javascript:void(0)":t}},{key:"_strip",value:function(t){if(t.children)for(var e=0;e<t.children.length;e++)this._strip(t.children[e]);if("SCRIPT"==t.nodeName)t.innerHTML="";else if(-1==M.indexOf(t.nodeName)){"IFRAME"==t.nodeName&&this.attachments.push({value:this._safeAttribute(t.getAttribute("src")),width:this._safeAttribute(t.getAttribute("width")),height:this._safeAttribute(t.getAttribute("height")),display:"iframe",type:"url"});for(e=0;e<t.attributes.length;e++)t.attributes[e].value="";t.innerHTML="",t.style="display: none;"}if(t.attributes)for(e=0;e<t.attributes.length;e++)t.attributes[e].value=this._safeAttribute(t.attributes[e].value);return t.outerHTML?t.outerHTML:""}}]),t}(),B=a("woOf"),H=a.n(B),O=a("rViV"),U=a.n(O),z=a("JRkP"),D=a.n(z),I=a("hu3b"),L=a.n(I),V=function(){function t(e){A()(this,t),this.config=e}return E()(t,[{key:"api",value:function(t){var e=this;return new x.a(function(a,n){r.a.post(e.config.url+"/api",p()(t),function(t){if(t.error)throw console.log(t),t;a(t)}).fail(function(t){n(t)})})}},{key:"wait",value:function(t,e){var a=this;return new x.a(function(n,s){var o,r=(o=h()(_.a.mark(function s(){var o;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.api(e);case 2:o=s.sent,o.cursor.firstBatch.length>0?n(o):setTimeout(r,t);case 5:case"end":return s.stop()}},s,this)})),function(){return o.apply(this,arguments)});r()})}},{key:"waitTx",value:function(){var t=h()(_.a.mark(function t(e,a,n,s){var o;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wait(a,{find:s||this.config.collection,maxTimeMS:n,filter:{transaction:e}});case 2:return o=t.sent,t.abrupt("return",o);case 4:case"end":return t.stop()}},t,this)}));return function(e,a,n,s){return t.apply(this,arguments)}}()}]),t}(),G=a("fZjL"),J=a.n(G),K=1e3,W={version:15,eos_referendum:!0,subscribed_subs:["all","novusphere","eos","anon","anon-r-eos","anon-pol-econ","music","bounties"],new_posts:{},last_notification:0,moderation:{hide_spam_threads:!0,mods:[],accounts:[],transactions:[]},anon_id:{name:"",key:""},settings:{atmos_upvotes:!0,scatter_timeout:1500,theme:"https://eos-forum.org/static/css/theme/day.css",novusphere_api:"https://db.novusphere.io",eos_api:{host:"eos.greymass.com",port:"443",protocol:"https"}}};if(window.__PRESETS__=window.localStorage.getItem("presets"),window.__PRESETS__){console.log("Found presets");try{window.__PRESETS__=JSON.parse(window.__PRESETS__),console.log("Loaded presets")}catch(t){window.__PRESETS__=null,console.log("Failed to load presets"),console.log(t)}window.__PRESETS__.storage&&(W=r.a.extend(!0,W,window.__PRESETS__.storage),window.__PRESETS__.storage.subscribed_subs&&(W.subscribed_subs=window.__PRESETS__.storage.subscribed_subs))}var Q=r.a.extend(!0,{},W);function Y(){var t=J()(Q.new_posts);if(t.length>K)for(var e=K-t.length,a=0;a<e;a++)delete Q.new_posts[t[a]];window.localStorage.setItem("eosforum",p()(Q))}window.__getStorage=function(){return Q},window.__saveStorage=function(){Y()},window.__forgetStorage=function(){window.localStorage.setItem("eosforum",""),window.location.reload()},window.__forgetSettings=function(){Q.settings=W.settings,Y(),window.location.reload()};var Z={url:"https://db.novusphere.io",collection:"eosforum",collection_post_state:"ns_post_state",collection_post_vote:"ns_post_vote"};function X(){return Z.url=Q.settings.novusphere_api,new V(Z)}var tt,et,at,nt,st,ot=new(function(){function t(){A()(this,t)}return E()(t,[{key:"skip_page",value:function(t,e){return(t-1)*e}},{key:"sort_by_score",value:function(t){return{score:t?1:-1}}},{key:"sort_by_time",value:function(t){return{createdAt:t?1:-1}}},{key:"match_notifications",value:function(t,e){return e||(e=15391e5),{createdAt:{$gt:e},"data.json_metadata.sub":{$exists:!0,$ne:""},"data.poster":{$ne:t},$or:[{"data.reply_to_poster":t},{"data.json_metadata.parent_poster":t}]}}},{key:"match_thread",value:function(t){return 64==t.length?{transaction:t}:{id:parseInt(t)}}},{key:"match_thread_txids",value:function(t){return{transaction:{$in:t}}}},{key:"match_thread_replies",value:function(t){return{"data.reply_to_post_uuid":t}}},{key:"match_threads",value:function(t,e){var a={"data.json_metadata.sub":t,"data.reply_to_post_uuid":"",createdAt:{$gte:1531434299}};return"all"==t?a["data.json_metadata.sub"]={$exists:!0,$ne:""}:"anon"==t?a["data.json_metadata.sub"]={$regex:"(^anon$|^anon-)",$options:"i"}:Array.isArray(t)&&(a["data.json_metadata.sub"]={$in:t}),e&&e.length>0&&(a["data.poster"]={$nin:e}),a}},{key:"match_threads_by_account",value:function(t){return{"data.json_metadata.edit":!1,"data.json_metadata.sub":{$exists:!0,$ne:""},"data.reply_to_post_uuid":"","data.poster":t,createdAt:{$gte:1531434299}}}},{key:"match_posts_by_tag",value:function(t){"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)t[e]=t[e].toLowerCase();return{"data.json_metadata.edit":!1,"data.tags":{$in:t},createdAt:{$gte:1531434299}}}},{key:"match_post_edits",value:function(t,e){return{"data.poster":t,"data.json_metadata.parent_uuid":e,"data.json_metadata.edit":!0}}},{key:"match_posts_by_account",value:function(t,e){var a=this.match_threads_by_account(t);return e?a["data.reply_to_post_uuid"]={$ne:""}:delete a["data.reply_to_post_uuid"],a}},{key:"match_valid_parent",value:function(){return{$or:[{parent:null},{"parent.data.json_metadata":{$ne:null}}]}}},{key:"lookup_post_parent",value:function(){return{from:X().config.collection,localField:"data.reply_to_post_uuid",foreignField:"data.post_uuid",as:"parent"}}},{key:"lookup_post_state",value:function(){return{from:X().config.collection_post_state,localField:"transaction",foreignField:"txid",as:"state"}}},{key:"lookup_thread_replies",value:function(){return{from:X().config.collection,localField:"data.post_uuid",foreignField:"data.reply_to_post_uuid",as:"replies"}}},{key:"lookup_post_replies",value:function(){return{from:X().config.collection,localField:"data.post_uuid",foreignField:"data.json_metadata.parent_uuid",as:"replies"}}},{key:"lookup_post_my_vote",value:function(t){return{from:X().config.collection_post_vote,let:{transaction:"$transaction"},pipeline:[{$match:{account:t}},{$project:{account:"$account",txid:"$txid",test:{$eq:["$$transaction","$txid"]}}},{$match:{test:!0}}],as:"my_vote"}}},{key:"project_post",value:function(t){var e={id:"$id",transaction:"$transaction",createdAt:"$createdAt",data:"$data",replies:"$replies",up:(t=r.a.extend({normalize_up:!1,normalize_parent:!1,normalize_my_vote:!1,recent_edit:!1,total_replies:!1,score:!0},t)).normalize_up?{$ifNull:[{$arrayElemAt:["$state.up",0]},0]}:"$up",up_atmos:t.normalize_up?{$ifNull:[{$arrayElemAt:["$state.up_atmos",0]},0]}:"$up_atmos",parent:t.normalize_parent?{$arrayElemAt:["$parent",0]}:"$parent",score:"$score",my_vote:t.normalize_my_vote?{$arrayElemAt:["$my_vote",0]}:"$my_vote",recent_edit:"$recent_edit"};return t.score&&(e.score=this.score()),t.recent_edit&&(e.recent_edit={$arrayElemAt:[{$filter:this.recent_edit()},-1]}),t.total_replies&&(e.total_replies={$size:{$filter:{input:"$replies",as:"reply",cond:{$ne:["$$reply.data.json_metadata.edit",!0]}}}}),e}},{key:"recent_edit",value:function(){return{input:"$replies",as:"reply",cond:{$and:[{$eq:["$$reply.data.json_metadata.edit",!0]},{$eq:["$$reply.data.json_metadata.parent_uuid","$data.post_uuid"]},{$eq:["$$reply.data.poster","$data.poster"]}]}}}},{key:"score",value:function(){var t=(new Date).getTime()/1e3,e=[1,{$ifNull:[{$arrayElemAt:["$state.up",0]},0]}];return Q.settings.atmos_upvotes&&(e=[{$add:e},{$ifNull:[{$arrayElemAt:["$state.up_atmos",0]},0]}]),{$divide:[{$add:e},{$pow:[{$add:[{$divide:[{$subtract:[t,"$createdAt"]},3600]},2]},.7]}]}}}]),t}()),rt=(tt=h()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.scatter){t.next=8;break}console.log("Scatter loaded (plugin)"),bt=window.scatter,vt=ft,window.scatter=null,bt.identity&&ct(!0),t.next=21;break;case 8:if(!window.lynxMobile){t.next=15;break}console.log("Lynx loaded (mobile)"),bt=window.lynxMobile,vt=ht,window.lynxMobile=null,t.next=21;break;case 15:if(!(wt<1e4)){t.next=21;break}return console.log("Trying to connect to scatter with timeout "+wt+"ms..."),t.next=19,D.a.scatter.connect("eos-forum",{initTimeout:wt});case 19:t.sent?(console.log("Scatter loaded (desktop)"),bt=D.a.scatter,vt=ft,window.scatter=null,D.a.scatter.identity&&ct(!0)):(console.log("Scatter could not be loaded"),wt=Math.min(1e4,wt+1500));case 21:vt==_t&&setTimeout(rt,2500);case 22:case"end":return t.stop()}},t,this)})),function(){return tt.apply(this,arguments)}),it=(et=h()(_.a.mark(function t(e){var a,n,s,o;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!gt.account){t.next=13;break}return a=kt(),t.t0=parseFloat,t.next=5,a.getCurrencyBalance("novusphereio",gt.account,"ATMOS");case 5:return t.t1=t.sent[0],n=(0,t.t0)(t.t1),s=X(),t.next=10,s.api({aggregate:s.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:ot.match_notifications(gt.account,Q.last_notification)},{$count:"n"}]});case 10:o=t.sent.cursor.firstBatch,gt.atmos=(isNaN(n)?0:n).toFixed(3),gt.notifications=o.length>0?o[0].n:0;case 13:e||setTimeout(it,yt);case 14:case"end":return t.stop()}},t,this)})),function(t){return et.apply(this,arguments)}),ct=(at=h()(_.a.mark(function t(e){var a,n,s,o;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(gt.account||!e){t.next=25;break}if(vt!=ft){t.next=14;break}return a=bt,t.next=5,a.getIdentity({accounts:[{chainId:dt.chainId,blockchain:dt.blockchain}]});case 5:n=t.sent,gt.account=n.accounts[0].name,gt.auth=n.accounts[0].authority,gt.atmos="0.000",gt.notifications=0,it(!0),window.dispatchEvent(new Event("identity")),t.next=25;break;case 14:if(vt!=ht){t.next=25;break}return s=bt,t.next=18,s.requestSetAccountName();case 18:o=t.sent,gt.account=o,gt.auth="active",gt.atmos="0.000",gt.notifications=0,it(!0),window.dispatchEvent(new Event("identity"));case 25:return t.abrupt("return",gt);case 26:case"end":return t.stop()}},t,this)})),function(t){return at.apply(this,arguments)}),ut=(nt=h()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return vt==ft&&bt.forgetIdentity(),gt=H()({},mt),window.dispatchEvent(new Event("identity")),t.abrupt("return",gt);case 4:case"end":return t.stop()}},t,this)})),function(){return nt.apply(this,arguments)}),lt=(st=h()(_.a.mark(function t(e){var a,n,s,o,r,i;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Array.isArray(e)||(e=[e]),t.next=3,ct();case 3:if(a=t.sent,n={authorization:[{actor:a.account,permission:a.auth}]},vt!=ft){t.next=13;break}return s=kt(),t.next=9,s.transaction(e.map(function(t){return t.contract}),function(t){for(var a=0;a<e.length;a++){var s=e[a];t[s.contract][s.name](s.data,n)}});case 9:return o=t.sent,t.abrupt("return",o.transaction_id);case 13:if(vt!=ht){t.next=20;break}return r=bt,i=e.map(function(t){return{account:t.contract,name:t.name,data:t.data,authorization:n.authorization}}),t.next=18,r.transact(i);case 18:return o=t.sent,t.abrupt("return",o.transaction_id);case 20:return t.abrupt("return",null);case 21:case"end":return t.stop()}},t,this)})),function(t){return st.apply(this,arguments)});D.a.plugins(new L.a);var dt={blockchain:"eos",host:"eos.greymass.com",port:"443",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},pt={broadcast:!0,sign:!0,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},mt={account:"",auth:"",atmos:"0.000",notifications:0},_t=0,ft=1,ht=2,vt=_t,bt=null,yt=5e3,gt=H()({},mt),wt=Q.settings.scatter_timeout;function kt(){if(vt==ft){var t=bt;return dt.host=Q.settings.eos_api.host,dt.port=Q.settings.eos_api.port,t.eos(dt,U.a,pt,Q.settings.eos_api.protocol)}var e=Q.settings.eos_api;return U()({httpEndpoint:e.protocol+"://"+e.host,chainId:pt.chainId,keyProvider:[]})}!function(){var t=window.localStorage.getItem("eosforum");try{(function(t){for(;t.version<Q.version;)t.version<5?t.subscribed_subs=Q.subscribed_subs:t.version<7?t.settings=Q.settings:t.version<8?t.settings.atmos_upvotes=Q.settings.atmos_upvotes:t.version<9?t.settings.scatter_timeout=Q.settings.scatter_timeout:t.version<11?t.settings.theme=Q.settings.theme:t.version<12?t.eos_referendum=Q.eos_referendum:t.version<13?t.moderation=Q.moderation:t.version<14?t.moderation.hide_spam_threads=Q.moderation.hide_spam_threads:t.version<15&&(t.anon_id=Q.anon_id),t.version++;return t.version>=Q.version?(Q=t,console.log("Loaded storage version "+Q.version),!0):(console.log("Loaded storage failed"),!1)})(JSON.parse(t))||(console.log("Failed to import/migrate storage"),console.log(t)),Y()}catch(t){return console.log("Failed to load storage"),void console.log(t)}}(),it(),rt();var xt={url:"https://eos-service.novusphere.io",anon_account:"eosforumanon"},Ct=function(){function t(e){A()(this,t),this.config=e}return E()(t,[{key:"anonymousPost",value:function(){var t=h()(_.a.mark(function t(e){var a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this,t.abrupt("return",new x.a(function(t,n){r.a.post(a.config.url+"/eosforum/anon",e,function(e){t(e)}).fail(function(){n()})}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}();var $t,St,At,Pt,Et,jt,Tt,Mt,qt,Ft,Nt=a("c/Tr"),Rt=a.n(Nt),Bt=a("lHA8"),Ht=a.n(Bt),Ot=new(function(){function t(){A()(this,t),this.resetCache()}return E()(t,[{key:"resetCache",value:function(){this.cache={}}},{key:"resolve",value:function(){var t=h()(_.a.mark(function t(e,a){var n,s;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("197001"!=a){t.next=2;break}return t.abrupt("return",null);case 2:if(0!=(n=e).indexOf("https:")&&0!=n.indexOf("http:")){t.next=6;break}t.next=11;break;case 6:if(!(n.indexOf("/")>-1)){t.next=10;break}n="https://raw.githubusercontent.com/"+n+"/master",t.next=11;break;case 10:return t.abrupt("return",null);case 11:return t.prev=11,n=n+"/"+a+".json",t.t0=JSON,t.next=16,$(n);case 16:return t.t1=t.sent,s=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",s);case 21:return t.prev=21,t.t2=t.catch(11),t.abrupt("return",null);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(e,a){return t.apply(this,arguments)}}()},{key:"dateToKey",value:function(t){return 100*t.getUTCFullYear()+(t.getUTCMonth()+1)}},{key:"getCacheSet",value:function(){var t=h()(_.a.mark(function t(e){var a,n,s,o,r,i,c,u,l,d,p,m,f;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=(new Date).getTime(),n=new Date(1e3*e),s=this.dateToKey(n),!(null==(o=this.cache[s])||a-o.last_updated>=6e5)){t.next=28;break}r=function(t,e){if(e)for(var a=0;a<e.length;a++)t.add(e[a])},o={last_updated:a,accounts:[],transactions:[],nsfw:[],pinned:[]},i=new Ht.a,c=new Ht.a,u=new Ht.a,l={},d=0;case 12:if(!(d<Q.moderation.mods.length)){t.next=22;break}return t.next=15,this.resolve(Q.moderation.mods[d],s);case 15:if(null!=(p=t.sent)){t.next=18;break}return t.abrupt("continue",19);case 18:try{if(r(i,p.account),r(c,p.transactions),r(u,p.nsfw),p.pinned)for(m in p.pinned)(f=l[m])||(f=new Ht.a,l[m]=f),r(f,p.pinned[m])}catch(t){console.log("error with moderator "+Q.moderation.mods[d]+" for "+s)}case 19:d++,t.next=12;break;case 22:for(m in l)l[m]=Rt()(l[m]);o.account=Rt()(i),o.transactions=Rt()(c),o.nsfw=Rt()(u),o.pinned=l,this.cache[s]=o;case 28:return t.abrupt("return",o);case 29:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getCurrentSet",value:function(){var t=h()(_.a.mark(function t(){var e,a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getCacheSet(e.getTime()/1e3);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getBlockedAccounts",value:function(){var t=h()(_.a.mark(function t(){var e,a,n,s,o;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getCurrentSet();case 3:return a=t.sent,t.next=6,this.getCacheSet((e.getTime()-26784e5)/1e3);case 6:for(n=t.sent,s=new Ht.a,o=0;o<a.accounts.length;o++)s.add(a.accounts[o]);for(o=0;o<n.accounts.length;o++)s.add(n.accounts[o]);for(o=0;o<Q.moderation.accounts.length;o++)s.add(Q.moderation.accounts[o]);return t.abrupt("return",Rt()(s));case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getPinned",value:function(){var t=h()(_.a.mark(function t(e){var a,n,s,o,r;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCurrentSet();case 2:return a=t.sent,n=[],(s=a.pinned.all)&&(n=g()(n,s)),0==e.indexOf("anon-")&&(o=a.pinned.anon)&&(n=g()(n,o)),(r=a.pinned[e])&&(n=g()(n,r)),t.abrupt("return",n);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"isNsfw",value:function(){var t=h()(_.a.mark(function t(e,a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCacheSet(e);case 2:return n=t.sent,t.abrupt("return",n.nsfw.includes(a));case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},{key:"isBlocked",value:function(){var t=h()(_.a.mark(function t(e,a,n){var s;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!Q.moderation.accounts.includes(n)){t.next=2;break}return t.abrupt("return",!0);case 2:if(!a||!Q.moderation.transactions.includes(a)){t.next=4;break}return t.abrupt("return",!0);case 4:if(e){t.next=6;break}return t.abrupt("return",!1);case 6:return t.next=8,this.getCacheSet(e);case 8:return s=t.sent,t.abrupt("return",n&&s.accounts.includes(n)||a&&s.transactions.includes(a));case 10:case"end":return t.stop()}},t,this)}));return function(e,a,n){return t.apply(this,arguments)}}()}]),t}()),Ut=function(){function t(e){A()(this,t),this.value="",this.type="",this.display="",this.width=0,this.height=0,e&&e.value&&e.type&&e.display&&(this.value=e.value,this.type=e.type,this.display=e.display,this.width=e.width?e.width:0,this.height=e.height?e.height:0)}return E()(t,[{key:"hasAttachment",value:function(t){return this.display==t}},{key:"isIframe",value:function(){return this.hasAttachment("iframe")}},{key:"isImg",value:function(){return this.hasAttachment("img")}},{key:"isMp4",value:function(){return this.hasAttachment("mp4")}},{key:"isMp3",value:function(){return this.hasAttachment("mp3")}},{key:"isLink",value:function(){return this.hasAttachment("link")}},{key:"normalize",value:function(){var t=h()(_.a.mark(function t(){var e,a,n,s,o,r,i;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this)||!e.value){t.next=27;break}if("ipfs"!=e.type){t.next=7;break}e.type="url",e.value="https://gateway.ipfs.io/ipfs/"+e.value,t.next=26;break;case 7:if("url"!=e.type){t.next=26;break}if("youtu.be"==(a=C(e.value))&&(n=e.value.split("/"),e.value="https://www.youtube.com/?v="+n[n.length-1],a="youtube.com"),"youtube.com"!=a&&"www.youtube.com"!=a||(s=e.value.match(/v\=[A-Za-z0-9_\-]+/))&&s.length>0&&(e.width=560,e.height=315,e.value="https://www.youtube.com/embed/"+s[0].substring(2),e.display="iframe"),"i.imgur.com"==a&&(e.display="img"),"twitter.com"==a&&(e.value="https://twitframe.com/show?url="+e.value,e.width=560,e.height=400,e.display="iframe"),"d.tube"==a&&(s=e.value.indexOf("v/")+2,e.value="https://emb.d.tube/#!/"+e.value.substring(s),e.width=560,e.height=400,e.display="iframe"),"soundcloud.com"!=a){t.next=25;break}return t.prev=15,t.next=18,$("https://soundcloud.com/oembed?format=json&url="+e.value);case 18:o=t.sent,(r=o.html.match(/src=\".+\"/)).length>0&&(i=(i=r[0].substring(5)).substring(0,i.length-1),e.value=i,e.width=560,e.height=300,e.display="iframe"),t.next=25;break;case 23:t.prev=23,t.t0=t.catch(15);case 25:"bitchute.com"!=a&&"www.bitchute.com"!=a||(s=e.value.match(/video\/[a-zA-Z0-9]+/))&&s.length>0&&(e.width=560,e.height=315,e.value="https://www.bitchute.com/embed/"+s[0].substring(6),e.display="iframe");case 26:"iframe"==e.display&&(e.width||e.height||(e.width=560,e.height=315));case 27:case"end":return t.stop()}},t,this,[[15,23]])}));return function(){return t.apply(this,arguments)}}()}]),t}(),zt=function(){function t(e){A()(this,t),e=H()({name:"",pub:"",sig:""},e),this.name=e.name?e.name:"",this.pub=e.pub?e.pub:"",this.sig=e.sig?e.sig:"",this.verified=!1}return E()(t,[{key:"verify",value:function(t){this.sig&&this.pub&&(this.verified=b.a.verify(this.sig,t,this.pub,"utf8"))}}]),t}(),Dt=function t(e){A()(this,t),e=H()({title:"",sub:"",parent_uuid:"",parent_poster:"",edit:!1,attachment:null,reddit:null,anon_id:null},e),this.type=e.type,this.title=e.title,this.sub=e.sub,this.parent_uuid=e.parent_uuid,this.parent_poster=e.parent_poster,this.edit=!!e.edit,this.attachment=new Ut(e.attachment),this.reddit=new function t(e){A()(this,t),this.author="",this.permalink="",e&&e.author&&e.permalink&&(this.author=e.author,this.permalink=e.permalink)}(e.reddit),this.anon_id=new zt(e.anon_id)},It=function t(e,a){A()(this,t),e=H()({poster:"",post_uuid:"",content:"",reply_to_poster:"",reply_to_post_uuid:"",certify:0,json_metadata:null,tags:[]},e),this.poster=e.poster,this.post_uuid=e.post_uuid,this.content=e.content,this.reply_to_poster=e.reply_to_poster,this.reply_to_post_uuid=e.reply_to_post_uuid,this.certify=e.certify,this.json_metadata=new Dt(e.json_metadata),this.json_metadata.anon_id.verify(this.content),this.tags=e.tags},Lt=function(){function t(e){A()(this,t),e=H()({createdAt:0,transaction:"",id:0,data:null,up:0,up_atmos:0,total_replies:0,recent_edit:null,parent:null,my_vote:null},e),this.parent=null,this.depth=0,this.is_pinned=!1,this.new_replies=0,this.children=[],this.createdAt=e.createdAt,this.transaction=e.transaction,this.id=e.id,this.data=new It(e.data,this.createdAt),this.up=e.up,this.total_replies=e.total_replies,this.my_vote=e.my_vote,Q.settings.atmos_upvotes&&(this.up=Math.floor(this.up+(e.up_atmos?e.up_atmos:0))),this.o_transaction=this.transaction,this.o_id=this.id,e.recent_edit&&this.applyEdit(e.recent_edit),e.parent&&(this.parent=new t(e.parent),this.data.json_metadata.title=this.parent.data.json_metadata.title)}return E()(t,null,[{key:"fromArray",value:function(){var e=h()(_.a.mark(function e(a){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.map(function(e){return e instanceof t?e:new t(e)}),e.next=3,x.a.all(n.map(function(t){return t.normalize()}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sortChildren",value:function(t){for(var e=0;e<t.length;e++)t[e].children.sort(function(t,e){return e.score-t.score})}}]),E()(t,[{key:"getTitle",value:function(){var t=this.data.json_metadata.title;return!t&&this.parent&&this.parent.data.json_metadata.title&&(t=this.parent.data.json_metadata.title),t||(t="untitled"),t}},{key:"getUrlTitle",value:function(){var t=this.getTitle().replace(/[^a-zA-Z0-9 ]/g,"");return t=t.replace(/ /g,"_")}},{key:"addChild",value:function(t){t.depth=this.depth+1,this.children.push(t)}},{key:"applyEdit",value:function(t){this.createdAt=t.createdAt,this.transaction=t.transaction,this.id=t.id,this.data.content=t.data.content,this.data.json_metadata.edit=!0,t.data.json_metadata.title&&(this.data.json_metadata.title=t.data.json_metadata.title),t.data.json_metadata.attachment&&(this.data.json_metadata.attachment=new Ut(t.data.json_metadata.attachment))}},{key:"normalize",value:function(){var t=h()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.data.json_metadata.attachment.normalize();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),Vt=function(){var t=h()(_.a.mark(function t(e,a,n){var s,o,r,i,c,u,l,d,p,m;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=parseInt(e||1),a||(a=Q.subscribed_subs),s=X(),!Q.moderation.hide_spam_threads){t.next=9;break}return t.next=6,Ot.getBlockedAccounts();case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=[];case 10:return o=t.t0,t.next=13,s.api({count:s.config.collection,maxTimeMS:1e3,query:ot.match_threads(a,o)});case 13:return r=t.sent.n,i=Math.ceil(r/ie),t.next=17,ct();case 17:return c=t.sent,t.next=20,s.api({aggregate:s.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:ot.match_threads(a,o)},{$lookup:ot.lookup_post_state()},{$project:ot.project_post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:n},{$skip:ot.skip_page(e,ie)},{$limit:ie},{$lookup:ot.lookup_thread_replies()},{$lookup:ot.lookup_post_my_vote(c.account)},{$project:ot.project_post({normalize_my_vote:!0,recent_edit:!0,total_replies:!0})}]});case 20:return u=t.sent.cursor.firstBatch,t.t1=s,t.t2=s.config.collection,t.t3={},t.t4=ot,t.next=27,Ot.getPinned(a);case 27:return t.t5=t.sent,t.t6=t.t4.match_thread_txids.call(t.t4,t.t5),t.t7={$match:t.t6},t.t8={$lookup:ot.lookup_post_state()},t.t9={$project:ot.project_post({normalize_up:!0,normalize_parent:!0})},t.t10={$lookup:ot.lookup_thread_replies()},t.t11={$lookup:ot.lookup_post_my_vote(c.account)},t.t12={$project:ot.project_post({normalize_my_vote:!0,recent_edit:!0,total_replies:!0})},t.t13=[t.t7,t.t8,t.t9,t.t10,t.t11,t.t12],t.t14={aggregate:t.t2,maxTimeMS:1e3,cursor:t.t3,pipeline:t.t13},t.next=39,t.t1.api.call(t.t1,t.t14);case 39:return l=t.sent.cursor.firstBatch,t.next=42,Lt.fromArray(g()(l,u.filter(function(t){return!l.find(function(e){return e.id==t.id})})));case 42:for(u=t.sent,d=0;d<u.length;d++)p=u[d],d<l.length&&(p.is_pinned=!0),(m=Q.new_posts[p.data.post_uuid])&&isNaN(m)&&(m=m.replies),p.new_replies=void 0==m?p.total_replies+1:p.total_replies-m,p.new_replies=Math.max(p.new_replies,0);return t.abrupt("return",{is_subscribed:Q.subscribed_subs.includes(a),posts:u,pages:i,current_page:e,sub:Array.isArray(a)?"":a});case 45:case"end":return t.stop()}},t,this)}));return function(e,a,n){return t.apply(this,arguments)}}(),Gt=function(){var t=h()(_.a.mark(function t(e){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct();case 2:if(!t.sent.account&&"anon"!=e&&0!=e.indexOf("anon-")){t.next=10;break}if("anon-r-eos"!=e){t.next=7;break}throw"You cannot make new threads in this sub from eos-forum";case 7:return t.abrupt("return",!0);case 10:throw"You must be logged in to post a new thread here!";case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),Jt=function(){var t=h()(_.a.mark(function t(e,a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}if(!Q.subscribed_subs.includes(a)){t.next=3;break}return t.abrupt("return");case 3:return Q.subscribed_subs.push(a),Y(),t.abrupt("return",!0);case 8:if(!((n=Q.subscribed_subs.indexOf(a))<0)){t.next=11;break}return t.abrupt("break",14);case 11:Q.subscribed_subs.splice(n,1);case 12:t.next=8;break;case 14:return Y(),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),Kt=function(){var t=h()(_.a.mark(function t(e,a,n){var s,o,r,i,c;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),a=a.toLowerCase(),s=X(),t.next=5,s.api({count:s.config.collection,maxTimeMS:1e3,query:ot.match_posts_by_tag(a)});case 5:return o=t.sent.n,r=Math.ceil(o/ie),t.next=9,ct();case 9:return i=t.sent,t.next=12,s.api({aggregate:s.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:ot.match_posts_by_tag(a)},{$lookup:ot.lookup_post_state()},{$lookup:ot.lookup_post_parent()},{$project:ot.project_post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:n},{$skip:ot.skip_page(e,ie)},{$limit:ie},{$lookup:ot.lookup_post_replies()},{$lookup:ot.lookup_post_my_vote(i.account)},{$project:ot.project_post({normalize_my_vote:!0,recent_edit:!0})},{$match:ot.match_valid_parent()}]});case 12:return c=t.sent.cursor.firstBatch,t.next=15,Lt.fromArray(c);case 15:return c=t.sent,t.abrupt("return",{posts:c,pages:r,current_page:e,tag:a});case 17:case"end":return t.stop()}},t,this)}));return function(e,a,n){return t.apply(this,arguments)}}(),Wt=function(){var t=h()(_.a.mark(function t(e,a){var n,s,o,r,i,c,u,l,d,p,m,f,h,v;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=X(),t.next=3,ct();case 3:return s=t.sent,t.next=6,n.api({aggregate:n.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:ot.match_thread(e)},{$lookup:ot.lookup_post_state()},{$lookup:ot.lookup_post_my_vote(s.account)},{$project:ot.project_post({normalize_up:!0,normalize_my_vote:!0})}]});case 6:return o=t.sent.cursor.firstBatch[0],o=new Lt(o),r=Q.new_posts[o.data.post_uuid],o.__seen=r?r.seen:(new Date).getTime()/1e3,t.next=12,n.api({aggregate:n.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:ot.match_thread_replies(o.data.post_uuid)},{$lookup:ot.lookup_post_state()},{$lookup:ot.lookup_post_my_vote(s.account)},{$project:ot.project_post({normalize_up:!0,normalize_my_vote:!0})}]});case 12:return(i=t.sent.cursor.firstBatch).splice(0,0,o),t.next=16,Lt.fromArray(i);case 16:for(i=t.sent,c={},u=0,l=0;l<i.length;l++)d=i[l],c[d.data.post_uuid]=d,l>0&&(d.parent=o,p=(p=d.data.json_metadata.parent_uuid)||o.data.post_uuid,m=c[p],d.data.json_metadata.edit?d.data.poster==m.data.poster&&d.createdAt>m.createdAt&&m.applyEdit(d):(u++,m.addChild(d)));return Lt.sortChildren(i),Q.new_posts[o.data.post_uuid]={replies:u,seen:(new Date).getTime()/1e3},Y(),f=o,a&&(h=function t(e){for(var a=0;a<e.children.length;a++){var n=e.children[a];n.depth=e.depth+1,t(n)}return e},64==a.length?v=i.find(function(t){return t.transaction==a}):(a=parseInt(a),v=i.find(function(t){return t.o_id==a})),v.depth=0,v.data.json_metadata.title=o.data.json_metadata.title,o=h(v)),t.abrupt("return",{opening_post:f,main_post:o});case 26:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),Qt=($t=h()(_.a.mark(function t(e){var a,n,s,o,r;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),a=X(),t.next=4,ct();case 4:if((n=t.sent).account){t.next=7;break}return t.abrupt("return",{pages:0,posts:[]});case 7:return t.next=9,a.api({count:a.config.collection,maxTimeMS:1e3,query:ot.match_notifications(n.account)});case 9:return s=t.sent.n,o=Math.ceil(s/ie),t.next=13,a.api({aggregate:a.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:ot.match_notifications(n.account)},{$lookup:ot.lookup_post_state()},{$lookup:ot.lookup_post_parent()},{$project:ot.project_post({normalize_up:!0,normalize_parent:!0})},{$sort:ot.sort_by_time()},{$skip:ot.skip_page(e,ie)},{$limit:ie},{$lookup:ot.lookup_post_replies()},{$lookup:ot.lookup_post_my_vote(n.account)},{$project:ot.project_post({normalize_my_vote:!0,recent_edit:!0})},{$match:ot.match_valid_parent()}]});case 13:return r=t.sent.cursor.firstBatch,t.next=16,Lt.fromArray(r);case 16:return r=t.sent,t.abrupt("return",{current_page:e,pages:o,posts:r});case 18:case"end":return t.stop()}},t,this)})),function(t){return $t.apply(this,arguments)}),Yt=(St=h()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct();case 2:t.sent.notifications=0,Q.last_notification=(new Date).getTime()/1e3,Y();case 6:case"end":return t.stop()}},t,this)})),function(){return St.apply(this,arguments)}),Zt=(At=h()(_.a.mark(function t(e,a,n){var s,o,r,i,c,u,l,d,p,m;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),t.next=3,Ot.isBlocked(0,null,a);case 3:return s=t.sent,o=kt(),r=X(),t.t0=parseFloat,t.next=9,o.getCurrencyBalance("novusphereio",a,"ATMOS");case 9:return t.t1=t.sent[0],i=(0,t.t0)(t.t1),i=(isNaN(i)?0:i).toFixed(3),t.next=14,r.api({count:r.config.collection,maxTimeMS:1e3,query:ot.match_posts_by_account(a,!0)});case 14:return c=t.sent.n,t.next=17,r.api({count:r.config.collection,maxTimeMS:1e3,query:ot.match_threads_by_account(a)});case 17:return u=t.sent.n,l=Math.ceil((c+u)/ie),t.next=21,ct();case 21:return d=t.sent,t.next=24,r.api({aggregate:r.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:ot.match_posts_by_account(a,!1)},{$lookup:ot.lookup_post_state()},{$lookup:ot.lookup_post_parent()},{$project:ot.project_post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:n},{$skip:ot.skip_page(e,ie)},{$limit:ie},{$lookup:ot.lookup_post_replies()},{$lookup:ot.lookup_post_my_vote(d.account)},{$project:ot.project_post({normalize_my_vote:!0,recent_edit:!0})},{$match:ot.match_valid_parent()}]});case 24:return p=t.sent.cursor.firstBatch,t.next=27,Lt.fromArray(p);case 27:return p=t.sent,m=p.length>0?new Date(1e3*p[0].createdAt).toLocaleString():"N/A",t.abrupt("return",{current_page:e,account:a,is_blocked:s,balance_atmos:i,n_comments:c,n_threads:u,last_activity:m,posts:p,pages:l});case 30:case"end":return t.stop()}},t,this)})),function(t,e,a){return At.apply(this,arguments)}),Xt=(Pt=h()(_.a.mark(function t(e,a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a?(n=Q.moderation.accounts.indexOf(e))>-1&&Q.moderation.accounts.splice(n,1):Q.moderation.accounts.push(e),Y();case 2:case"end":return t.stop()}},t,this)})),function(t,e){return Pt.apply(this,arguments)}),te=(Et=h()(_.a.mark(function t(e){var a,n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct();case 2:if((a=t.sent).account){t.next=5;break}throw"You must be logged in to upvote comments!";case 5:return n={contract:"novuspheredb",name:"push",data:{account:a.account,json:p()({protocol:"novusphere",method:"forum_vote",data:{txid:e.o_transaction}})}},t.next=8,lt(n);case 8:return t.sent,e.my_vote||(e.my_vote={account:a.account,txid:e.o_transaction}),t.abrupt("return",(e.up?e.up:0)+1);case 11:case"end":return t.stop()}},t,this)})),function(t){return Et.apply(this,arguments)}),ee=(jt=h()(_.a.mark(function t(e,a){var n,s,o,r,i;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=parseFloat(a),!(isNaN(a)||a<=0)){t.next=3;break}throw"Invalid quantity of atmos";case 3:return t.next=5,ct();case 5:return n=t.sent,kt(),[{actor:n.account,permission:n.auth}],s="upvote for "+e.o_transaction,o=(a/(n.account==e.data.poster?1:2)).toFixed(3)+" ATMOS",t.prev=10,r=[],n.account!=e.data.poster&&r.push({contract:"novusphereio",name:"transfer",data:{from:n.account,to:e.data.poster,quantity:o,memo:s}}),r.push({contract:"novusphereio",name:"transfer",data:{from:n.account,to:"novuspheredb",quantity:o,memo:s}}),t.next=16,lt(r);case 16:t.sent,t.next=23;break;case 19:throw t.prev=19,t.t0=t.catch(10),console.log(t.t0),"Error: upvote transaction failed!";case 23:return i=Math.floor(a/ce),t.abrupt("return",parseInt(e.up)+i);case 25:case"end":return t.stop()}},t,this,[[10,19]])})),function(t,e){return jt.apply(this,arguments)}),ae=(Tt=h()(_.a.mark(function t(e,a,n,s,o){var r,i,c,u,l,d,p,m,f,h,v,b,y,g,w,k,x;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:return o||(o=function(){}),r=new Ct(xt),t.next=6,ct();case 6:if(i=t.sent,e.poster=n?r.config.anon_account:i.account,t.prev=8,!n){t.next=26;break}if(!s){t.next=16;break}return t.next=13,confirm("Are you sure you want to post this anonymously?");case 13:if(t.sent){t.next=16;break}return o("Error: post canceled"),t.abrupt("return",!1);case 16:return t.next=18,r.anonymousPost(e);case 18:if(!(u=t.sent).error){t.next=23;break}return o("Error: "+u.error),console.log(u.error),t.abrupt("return",!1);case 23:c=u.transaction_id,t.next=57;break;case 26:if(l=kt(),d=e.content.match(/\#tip [0-9\.]+ [A-Z]+/gi),p=[{contract:re,name:"post",data:e}],!(d&&d.length>0&&!e.json_metadata.edit&&a)){t.next=54;break}return t.t0=JSON,t.next=33,$("https://raw.githubusercontent.com/eoscafe/eos-airdrops/master/tokens.json");case 33:t.t1=t.sent,(m=t.t0.parse.call(t.t0,t.t1)).splice(0,0,{name:"EOS",logo:"",logo_lg:"",symbol:"EOS",account:"eosio.token"}),f=JSON.parse(e.json_metadata).parent_poster,h=0;case 38:if(!(h<d.length)){t.next=54;break}if(v=d[h].split(" "),b=m.find(function(t){return t.symbol==v[2]})){t.next=44;break}return o("Error: could not find contract for tip symbol "+v[2]),t.abrupt("return",!1);case 44:return t.next=46,l.getCurrencyStats(b.account,b.symbol);case 46:y=t.sent,g=y[b.symbol].max_supply.split(" ")[0].split(".")[1].length,w=parseFloat(v[1]).toFixed(g),k={contract:b.account,name:"transfer",data:{from:i.account,to:f,quantity:w+" "+b.symbol,memo:"tip for "+a}},p.push(k);case 51:h++,t.next=38;break;case 54:return t.next=56,lt(p);case 56:c=t.sent;case 57:t.next=64;break;case 59:return t.prev=59,t.t2=t.catch(8),o("Creating tx and broadcasting to EOS... Failed!"),console.log(t.t2),t.abrupt("return",!1);case 64:return o("Waiting for Novusphere to index..."),x=X(),t.next=68,x.waitTx(c,500,1e3);case 68:return o(""),t.abrupt("return",c);case 70:case"end":return t.stop()}},t,this,[[8,59]])})),function(t,e,a,n,s){return Tt.apply(this,arguments)}),ne=(Mt=h()(_.a.mark(function t(e){var a,n,s,o,r,i;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=X(),t.next=3,ct();case 3:return n=t.sent,t.next=6,a.api({aggregate:a.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:{transaction:e}},{$lookup:ot.lookup_post_state()},{$lookup:ot.lookup_post_my_vote(n.account)},{$project:ot.project_post({normalize_up:!0,normalize_my_vote:!0})}]});case 6:return s=t.sent.cursor.firstBatch[0],s=new Lt(s),t.next=10,a.api({find:a.config.collection,maxTimeMS:1e3,filter:ot.match_post_edits(s.data.poster,s.data.post_uuid),sort:ot.sort_by_time(!0)});case 10:return o=t.sent.cursor.firstBatch,t.next=13,Lt.fromArray(o);case 13:for(o=t.sent,r=0;r<o.length;r++)(i=o[r]).up=s.up,i.my_vote=s.my_vote,s.addChild(i);return t.abrupt("return",{main_post:s});case 16:case"end":return t.stop()}},t,this)})),function(t){return Mt.apply(this,arguments)}),se=(qt=h()(_.a.mark(function t(){var e;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,$("https://raw.githubusercontent.com/Novusphere/eos-forum-mod-list/master/list.json");case 3:return t.t1=t.sent,e=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",e.list);case 6:case"end":return t.stop()}},t,this)})),function(){return qt.apply(this,arguments)}),oe=(Ft=h()(_.a.mark(function t(){var e,a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=X(),t.next=3,e.api({aggregate:e.config.collection,maxTimeMS:1e3,cursor:{},pipeline:[{$match:{"data.json_metadata.sub":{$exists:!0,$ne:""},"data.json_metadata.edit":!1}},{$group:{_id:"$data.json_metadata.sub",count:{$sum:1}}},{$sort:{count:-1}}]});case 3:return a=t.sent.cursor.firstBatch,t.abrupt("return",{subs:a});case 5:case"end":return t.stop()}},t,this)})),function(){return Ft.apply(this,arguments)}),re="eosforumdapp",ie=25,ce=10;window.__PRESETS__&&window.__PRESETS__.default_sub&&window.__PRESETS__.default_sub;var ue=["Did you know you in your **settings** you can toggle between a day and night theme?","Did you know you in your **settings** you can set delegated moderators to help filter spam?","Did you know you can block users who post spam by clicking their name to visit their profile and then clicking block?","Did you know you can post without an account in any of the **anon-** subs?"];window.__PRESETS__&&window.__PRESETS__.header_texts&&(ue=window.__PRESETS__.header_texts);var le={Home:Vt,Tag:Kt,Thread:Wt,Notifications:Qt,UserProfile:Zt,PostHistory:ne,Search:oe,NewThread:Gt,Subscribe:Jt,MarkNotificationsAsRead:Yt,ToggleBlockUser:Xt,Upvote:ee,UpvoteFree:te,GetReccomendedModList:se,GeneratePostUuid:function(){return Object(w.v4)()},GenerateAnonData:function(t){var e={name:Q.anon_id.name,pub:"",sig:""};return Q.anon_id.key&&b.a.isValidPrivate(Q.anon_id.key)&&(e.pub=b.a.privateToPublic(Q.anon_id.key),e.sig=b.a.sign(t,Q.anon_id.key,"utf8")),e},PushNewPost:ae,GetRandomHeaderText:function(){return ue[Math.floor(Math.random()*ue.length)]},PlaceholderPost:function(){return new Lt},UpvotesToAtmos:function(t){return t*ce},AtmosToUpvotes:function(t){return t/ce},IsAnonSub:function(t){return"anon"==t||0==t.indexOf("anon-")},ParseMarkdown:function(t,e){return new R(t,e)}},de={name:"SettingsModal",mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},computed:{anon_identity:function(){return this.anon_key?b.a.privateToPublic(this.anon_key):""}},methods:{load:function(t){var e=this;return h()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.settings=p()(Q.settings,null,2),e.mods=Q.moderation.mods,e.new_theme=Q.settings.theme,e.anon_key=Q.anon_id.key,e.anon_name=Q.anon_id.name,t.next=7,e.loadReccomendedMods();case 7:case"end":return t.stop()}},t,e)}))()},loadReccomendedMods:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.GetReccomendedModList();case 2:t.mod_list=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},modListChange:function(){this.new_mod=this.mod_list_value},themeListChange:function(){this.new_theme=this.theme_list_value},reset:function(){this.settings=p()(W.settings,null,2)},save:function(){Q.settings=JSON.parse(this.settings),this.theme=Q.settings.theme,this.mods=Q.moderation.mods,Y()},forgetAll:function(){window.__forgetStorage()},saveTheme:function(){Q.settings.theme=this.new_theme,this.theme=this.new_theme,Y()},addMod:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q.moderation.mods.includes(t.new_mod)){e.next=2;break}return e.abrupt("return");case 2:return a=Ot.dateToKey(new Date),e.next=5,Ot.resolve(t.new_mod,a);case 5:if(e.t0=e.sent,null!=e.t0){e.next=11;break}return e.next=9,confirm('"'+t.new_mod+'" does not seem like a valid moderation endpoint, are you sure you want to add it?');case 9:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:Q.moderation.mods.push(t.new_mod),Ot.resetCache(),Y(),t.mods=Q.moderation.mods,t.new_mod="";case 16:case"end":return e.stop()}},e,t)}))()},removeMod:function(t){Q.moderation.mods.splice(t,1),Ot.resetCache(),Y(),this.mods=Q.moderation.mods},newAnonId:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.randomKey();case 2:t.anon_key=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},saveAnonId:function(){this.anon_name.length>12?alert("Anonymous name must be less than 13 characters"):(Q.anon_id.name=this.anon_name,Q.anon_id.key=this.anon_key&&b.a.isValidPrivate(this.anon_key)?this.anon_key:"",Y())}},data:function(){return{settings:"",theme:Q.settings.theme,mods:[],mod_list:[],mod_list_value:"",new_mod:"",theme_list_value:"",new_theme:"",anon_name:"",anon_key:""}}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("link",{attrs:{rel:"stylesheet",type:"text/css",href:t.theme}}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"settings"}},[a("div",{staticClass:"modal-dialog modal-full",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[t._m(1),t._v(" "),a("div",{staticClass:"tab-content mt-2"},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"settings-mod",role:"tabpanel"}},[t._m(2),t._v(" "),a("form",{staticClass:"mx-4"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"},[t._v("Known")]),t._v(" "),a("div",{staticClass:"col-8"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.mod_list_value,expression:"mod_list_value"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.mod_list_value=e.target.multiple?a:a[0]},function(e){t.modListChange()}]}},t._l(t.mod_list,function(e){return a("option",{key:e.name,domProps:{value:e.endpoint}},[t._v(t._s(e.name))])}))]),t._v(" "),a("div",{staticClass:"col-2"})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"}),t._v(" "),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_mod,expression:"new_mod"}],staticClass:"form-control",attrs:{type:"text",placeholder:"endpoint"},domProps:{value:t.new_mod},on:{input:function(e){e.target.composing||(t.new_mod=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.addMod()}}},[t._v("add")])])]),t._v(" "),t._l(t.mods,function(e,n){return a("div",{key:n,staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"}),t._v(" "),a("div",{staticClass:"col-8"},[a("input",{staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e}})]),t._v(" "),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){t.removeMod(n)}}},[a("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1)])])})],2)]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"settings-anonid",role:"tabpanel"}},[t._m(3),t._v(" "),a("form",{staticClass:"mx-4"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"},[t._v("Name")]),t._v(" "),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.anon_name,expression:"anon_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"name"},domProps:{value:t.anon_name},on:{input:function(e){e.target.composing||(t.anon_name=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"},[t._v("Key")]),t._v(" "),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.anon_key,expression:"anon_key"}],staticClass:"form-control",attrs:{type:"text",placeholder:"identity key"},domProps:{value:t.anon_key},on:{input:function(e){e.target.composing||(t.anon_key=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"}),t._v(" "),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.anon_identity,expression:"anon_identity"}],staticClass:"form-control",attrs:{type:"text",readonly:"",placeholder:"identity public key"},domProps:{value:t.anon_identity},on:{input:function(e){e.target.composing||(t.anon_identity=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.newAnonId()}}},[t._v("new")]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveAnonId()}}},[t._v("save")])])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"settings-api",role:"tabpanel"}},[t._m(4),t._v(" "),a("form",{staticClass:"mx-4"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings,expression:"settings"}],staticClass:"form-control",attrs:{rows:"10",placeholder:"Content"},domProps:{value:t.settings},on:{input:function(e){e.target.composing||(t.settings=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.save()}}},[t._v("save")]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.reset()}}},[t._v("reset")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){t.forgetAll()}}},[t._v("forget all")])])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"settings-theme",role:"tabpanel"}},[t._m(5),t._v(" "),a("form",{staticClass:"mx-4"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"},[t._v("Known")]),t._v(" "),a("div",{staticClass:"col-8"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.theme_list_value,expression:"theme_list_value"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.theme_list_value=e.target.multiple?a:a[0]},function(e){t.themeListChange()}]}},[a("option",{attrs:{value:"https://eos-forum.org/static/css/theme/night.css"}},[t._v("night theme")]),t._v(" "),a("option",{attrs:{value:"https://eos-forum.org/static/css/theme/day.css"}},[t._v("day theme")])])]),t._v(" "),a("div",{staticClass:"col-2"})]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-2 col-form-label"}),t._v(" "),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_theme,expression:"new_theme"}],staticClass:"form-control",attrs:{type:"text",placeholder:"theme css url"},domProps:{value:t.new_theme},on:{input:function(e){e.target.composing||(t.new_theme=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-2"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.saveTheme()}}},[t._v("save")])])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Settings")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#settings-mod",role:"tab"}},[this._v("Moderation")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#settings-anonid",role:"tab"}},[this._v("Anon Id")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#settings-theme",role:"tab"}},[this._v("Theme")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#settings-api",role:"tab"}},[this._v("Raw")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("p",{},[this._v("\n                        Use this panel to control your delegated moderation settings.\n                        "),e("a",{attrs:{target:"_blank",href:"https://github.com/Novusphere/eos-forum-mod-list"}},[this._v("Click here to learn more")]),this._v(".\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("p",{},[this._v("\n                        Use this panel to control your anonymous identity. \n                        This is used when posting anonymously to identify your posts.\n                        You can regenerate a new anonymous identity at any time.\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("p",{staticClass:"text-alert"},[e("strong",[this._v("Warning:")]),this._v(' You should not modify these settings unless you know what you\'re doing! \n                        If you incorrectly change something, click "reset" then "save" to restore the default settings.\n                    ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("p",{},[this._v("\n                        Use this panel to control your theme settings.\n                    ")])])}]},me={name:"FaqModal",mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{},data:function(){return{}}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"faq"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("ul",{},[t._m(1),t._v(" "),a("li",{},[t._v("\n                  You can post anonymously, for free, on any anon-* sub, for example: \n                  "),a("router-link",{attrs:{to:"/e/anon"}},[t._v("anon")]),t._v(", \n                  "),a("router-link",{attrs:{to:"/e/anon-general"}},[t._v("anon-general")]),t._v("\n                  (close dialog after you click link).\n              ")],1),t._v(" "),t._m(2),t._v(" "),a("li",{},[t._v("\n                  A sub doesn't need to be created, just go to it and start posting!\n              ")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6)])]),t._v(" "),t._m(7)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("FAQ/Help")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{},[e("strong",[this._v("This is entirely open source and all data is stored on the EOS blockchain!")]),this._v("\n                  The forum software can be found on\n                  "),e("a",{attrs:{target:"_blank",href:"https://github.com/Novusphere/eos-forum"}},[this._v("GitHub")]),this._v("\n                  and can be configured to fully run locally, provided you also run a\n                  "),e("a",{attrs:{target:"_blank",href:"https://github.com/Novusphere/novusphere-db"}},[this._v("novusphere-db")]),this._v("\n                  node.\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{},[this._v("\n                  For non-anon subs, you need an EOS account and\n                  "),e("a",{attrs:{target:"_blank",href:"https://get-scatter.com/"}},[this._v("Scatter")]),this._v("\n                  to post and interact.\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{},[this._v("\n                  A guide to markdown (formatting your post) can be found \n                  "),e("a",{attrs:{target:"_blank",href:"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet"}},[this._v("here")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{},[this._v("\n                  Our main project website:\n                  "),e("a",{attrs:{target:"_blank",href:"https://novusphere.io"}},[this._v("novusphere.io")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{},[this._v("\n                  Our Twitter:\n                  "),e("a",{attrs:{target:"_blank",href:"https://twitter.com/thenovusphere"}},[this._v("@thenovusphere")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{},[this._v("\n                  Our Discord:\n                  "),e("a",{attrs:{target:"_blank",href:"https://discord.gg/PtXzUVr"}},[this._v("clicking here")]),this._v(",\n                  come chat with us live!\n              ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("close")])])}]},fe={name:"ErrorModal",mounted:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t,window.alert=function(t,e){a.text=t,r()("#errorModal").modal(e)};case 2:case"end":return e.stop()}},e,t)}))()},methods:{},data:function(){return{text:""}}},he={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"errorModal"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[this._m(0),this._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"text-alert text-center"},[this._v("\n              "+this._s(this.text)+"\n          ")])]),this._v(" "),this._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Error")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("close")])])}]},ve={name:"ConfirmModal",mounted:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t,window.confirm=function(){var t=h()(_.a.mark(function t(e,n,s){var o,i;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n&&n(a.setStatus),!0,a.text=e,(i=r()(".modal.show")).modal("hide"),r()("#confirmModal").modal({backdrop:"static",keyboard:!1});case 6:return t.next=8,new x.a(function(t){a.resolve=t});case 8:if(!(o=t.sent)||!s){t.next=17;break}return t.next=12,s();case 12:if(!t.sent){t.next=15;break}return t.abrupt("break",20);case 15:t.next=18;break;case 17:return t.abrupt("break",20);case 18:t.next=6;break;case 20:return r()("#confirmModal").modal("hide"),i.modal(),n&&n(null),t.abrupt("return",o);case 24:case"end":return t.stop()}},t,this)}));return function(e,a,n){return t.apply(this,arguments)}}();case 2:case"end":return e.stop()}},e,t)}))()},methods:{setStatus:function(t){this.text=t}},data:function(){return{resolve:null,text:""}}},be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"confirmModal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"text-center"},[t._v("\n              "+t._s(t.text)+"\n          ")])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(e){t.resolve(!0)}}},[t._v("ok")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){t.resolve(!1)}}},[t._v("cancel")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Confirm")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},ye={name:"UpvoteModal",mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},computed:{upvotes:function(){return le.AtmosToUpvotes(this.atmos)}},methods:{upvote:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.Upvote(t.post,t.atmos);case 3:t.post.up=e.sent,r()("#upvoteModal").modal("hide"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.error=e.t0;case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},modal:function(t){this.post=t,this.atmos=le.UpvotesToAtmos(1),this.error="",r()("#upvoteModal").modal()}},data:function(){return{error:"",atmos:10,post:le.PlaceholderPost()}}},ge={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"upvoteModal"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Upvote post by "+t._s(t.post.data.poster))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"text-center"},[t._v("\n              You have already used your free up vote on this post, however, you can use your ATMOS to up vote it further.\n              Half of the ATMOS used to up vote this post will go to the poster and\n              the other half is send to novuspheredb account as a DAO fund.\n              If you are up voting your own post, the entire amount will be sent to the DAO fund.\n              Enter the amount of ATMOS you would like to use below.\n          ")]),t._v(" "),a("form",{staticClass:"mt-3"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("ATMOS")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.atmos,expression:"atmos"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.atmos},on:{input:function(e){e.target.composing||(t.atmos=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Upvotes")]),t._v(" "),a("label",{staticClass:"col-sm-10 col-form-label"},[t._v(t._s(t.upvotes))])])]),t._v(" "),t.error?a("div",{staticClass:"text-center text-danger mt-3"},[a("p",[t._v(t._s(t.error))])]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.upvote()}}},[t._v("upvote")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("close")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},we={name:"App",components:{SettingsModal:a("VU/8")(de,pe,!1,null,null,null).exports,FaqModal:a("VU/8")(me,_e,!1,null,null,null).exports,ErrorModal:a("VU/8")(fe,he,!1,null,null,null).exports,ConfirmModal:a("VU/8")(ve,be,!1,null,null,null).exports,UpvoteModal:a("VU/8")(ye,ge,!1,null,null,null).exports},mounted:function(){window._VueApp=this},methods:{},computed:{},data:function(){return{}}},ke={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("SettingsModal"),this._v(" "),e("FaqModal"),this._v(" "),e("ErrorModal"),this._v(" "),e("ConfirmModal"),this._v(" "),e("UpvoteModal",{ref:"upvote"}),this._v(" "),e("router-view")],1)},staticRenderFns:[]},xe=a("VU/8")(we,ke,!1,null,null,null).exports,Ce=a("/ocq"),$e={name:"PostAttachment",props:{attachment:{type:Object,required:!1,default:null},id:{type:String,required:!0},collapse:{type:Boolean,required:!0}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.show_iframe=!t.collapse;case 1:case"end":return e.stop()}},e,t)}))()},computed:{iframe:function(){return this.hasAttachment("iframe")},img:function(){return this.hasAttachment("img")},mp4:function(){return this.hasAttachment("mp4")},mp3:function(){return this.hasAttachment("mp3")},link:function(){return this.hasAttachment("link")},any:function(){return this.attachment&&this.attachment.value&&this.attachment.display}},methods:{hasAttachment:function(t){return this.attachment.display==t}},data:function(){return{show_iframe:!1}}},Se={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.attachment&&this.attachment.value?a("div",{class:this.collapse?"row collapse":"row",attrs:{id:this.id}},[a("div",{staticClass:"col-md-12"},[t.iframe?a("div",{staticClass:"text-center"},[a("iframe",{staticStyle:{"max-width":"100%"},attrs:{src:this.show_iframe?t.attachment.value:"",height:t.attachment.height,width:t.attachment.width,frameborder:"0",allow:"encrypted-media",allowfullscreen:""}})]):t._e(),t._v(" "),t.img?a("div",{staticClass:"text-center"},[a("img",{attrs:{src:t.attachment.value}})]):t._e(),t._v(" "),t.mp4?a("div",{staticClass:"text-center"},[a("video",{staticStyle:{width:"100%"},attrs:{controls:""}},[a("source",{attrs:{src:t.attachment.value,type:"video/mp4"}})])]):t._e(),t._v(" "),t.mp3?a("div",{staticClass:"text-center"},[a("audio",{staticStyle:{width:"100%"},attrs:{controls:""}},[a("source",{attrs:{src:t.attachment.value,type:"audio/mpeg"}})])]):t._e(),t._v(" "),t.link?a("div",[a("div",{staticClass:"text-center"},[a("a",{attrs:{target:"_blank",href:t.attachment.value}},[t._v(t._s(t.attachment.value))])])]):t._e()])]):t._e()},staticRenderFns:[]},Ae={name:"Post",components:{PostAttachment:a("VU/8")($e,Se,!1,null,null,null).exports},props:{post:{type:Object,required:!0},op:{type:String,required:!1,default:""},show_content:{type:Boolean,required:!1,default:!0},submit_modal:{type:Object,required:!1,default:null},history_modal:{type:Object,required:!1,default:null}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},computed:{reddit:function(){return this.post.data.json_metadata.reddit},poster_name:function(){return this.reddit.author?this.reddit.author+"[reddit]":"eosforumanon"==this.post.data.poster&&this.post.data.json_metadata.anon_id.name?this.post.data.json_metadata.anon_id.name.substring(0,12)+"[anon]":this.post.data.poster},is_show_title:function(){return!this.post.data.reply_to_post_uuid||!(!this.post.parent||this.is_child)},is_child:function(){return this.post.depth>0},is_anon_sub:function(){var t=this.sub;return"anon"==t||0==t.indexOf("anon-")},title:function(){var t=this.post.getTitle();return!this.show_content&&t.length>80?t.substring(0,80)+"...":t},is_max_depth:function(){var t=Math.floor(window.innerWidth/65),e=this.post.depth;return this.post.parent&&(e-=this.post.parent.depth),e>=t},is_new:function(){if(!this.post.parent)return!1;var t=this.post.parent.__seen;return!!t&&this.post.createdAt>t},sub:function(){return this.post.data.json_metadata.sub},attachment:function(){return this.post.data.json_metadata.attachment.value},perma_link:function(){var t="/e/"+this.sub+"/";return this.post.parent&&(t+=this.post.parent.o_id+"/"),t+=this.post.getUrlTitle()+"/"+this.post.o_id},thread_link:function(){var t=this.post.parent?this.post.parent.o_id:this.post.o_id;return"/e/"+this.sub+"/"+t+"/"+this.post.getUrlTitle()}},methods:{load:function(){var t=this;return h()(_.a.mark(function e(){var a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:return a=e.sent,t.identity=a.account,e.next=6,Ot.isBlocked(t.post.createdAt,t.post.o_transaction,t.post.data.poster);case 6:if(t.is_moderated=e.sent,e.t0=t.post.data.tags&&t.post.data.tags.includes("nsfw"),e.t0){e.next=15;break}if(e.t1=0==t.post.depth,!e.t1){e.next=14;break}return e.next=13,Ot.isNsfw(t.post.createdAt,t.post.o_transaction);case 13:e.t1=e.sent;case 14:e.t0=e.t1;case 15:t.is_nsfw=e.t0,t.show_content&&(n=new R(t.post.data.content,t.post.createdAt),t.post_content=n.html,n.attachments.length>0&&(t.post.o_attachment=n.attachments[0],t.post.data.json_metadata.attachment=n.attachments[0]));case 17:case"end":return e.stop()}},e,t)}))()},showAttachment:function(){this.$refs.post_attachment.show_iframe=!this.$refs.post_attachment.show_iframe},hasAttachment:function(t){return!!this.post&&(!(!this.post.o_attachment||!this.post.o_attachment.value)&&(!t||this.post.o_attachment.display==t))},history:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.history_modal.load(t.post.o_transaction);case 2:r()("#postHistory").modal();case 3:case"end":return e.stop()}},e,t)}))()},edit:function(){var t=this.submit_modal.$data.post,e=this.post;t.parent_uuid=e.data.post_uuid,t.parent_tx=e.transaction,t.parent_poster=e.data.poster,t.title=e.data.json_metadata.title,t.content=e.data.content,t.edit=!0;var a=e.o_attachment;a?(t.attachment.value=a.value,t.attachment.type=a.type,t.attachment.display=a.display):(t.attachment.value="",t.attachment.type="",t.attachment.display="link"),r()("#submitPost").modal()},showQuickReply:function(){},quickReply:function(t){var e=this;return h()(_.a.mark(function a(){var n;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((n=e.submit_modal.$data.post).parent_uuid=e.post.data.post_uuid,n.parent_tx=e.post.transaction,n.parent_poster=e.post.data.poster,n.title="",n.content=e.quick_reply,n.edit=!1,!t){a.next=14;break}return a.next=10,confirm("Are you sure you want to post this?",function(t){return e.submit_modal.set_status=t},h()(_.a.mark(function a(){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.submit_modal.postContent(t);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,e)})));case 10:if(a.sent){a.next=12;break}return a.abrupt("return");case 12:a.next=17;break;case 14:return a.next=16,e.submit_modal.postContent(t);case 16:e.submit_modal.status&&alert(e.submit_modal.status);case 17:e.submit_modal.status||(e.quick_reply="",r()("#qreply-"+e.post.data.post_uuid).removeClass("show"));case 18:case"end":return a.stop()}},a,e)}))()},reply:function(){var t=this.submit_modal.$data.post;t.parent_uuid=this.post.data.post_uuid,t.parent_tx=this.post.transaction,t.parent_poster=this.post.data.poster,t.title="",t.edit=!1,r()("#submitPost").modal()},getHost:function(t){return C(t)},upvote:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.post.my_vote){e.next=3;break}return window._VueApp.$refs.upvote.modal(t.post),e.abrupt("return");case 3:return e.prev=3,e.next=6,le.UpvoteFree(t.post);case 6:t.post.up=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0),alert(e.t0);case 13:case"end":return e.stop()}},e,t,[[3,9]])}))()}},watch:{post:function(){this.load()}},data:function(){return{quick_reply:"",post_content:"",identity:"",is_moderated:!1,is_nsfw:!1}}},Pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"col-md-12 mb-3 post "+(t.post.depth>0?"post-child":"")},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("span",{staticStyle:{"font-weight":"bold","font-size":"20px"}},[t.is_show_title?a("div",[t.post.o_attachment&&"url"==t.post.o_attachment.type?a("span",[a("span",{staticClass:"title"},[a("a",{attrs:{target:"_blank",href:t.post.o_attachment.value}},[t._v(t._s(t.title))])]),t._v(" "),a("span",{staticClass:"text-xsmall domain"},[t._v("("),a("span",{staticClass:"domain-offsite"},[t._v(t._s(this.getHost(t.post.o_attachment.value)))]),t._v(" in "),a("router-link",{attrs:{to:"/e/"+t.sub}},[t._v("self."+t._s(t.sub))]),t._v(")")],1)]):a("span",[a("span",{staticClass:"title"},[a("router-link",{attrs:{to:t.thread_link}},[t._v(t._s(t.title))])],1),t._v(" "),t.sub?a("span",{staticClass:"text-xsmall domain"},[a("router-link",{attrs:{to:"/e/"+t.sub}},[t._v("(self."+t._s(t.sub)+")")])],1):t._e()]),t._v(" "),t.post.new_replies?a("span",{staticClass:"badge badge-danger text-xsmall"},[t._v("new ("+t._s(t.post.new_replies)+")")]):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"text-xsmall post-buttons"},[a("ul",{staticClass:"list-inline"},[t.show_content?a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"post-collapse",attrs:{"data-toggle":"collapse",href:"#post-"+t.post.transaction}})]):t._e(),t._v(" "),a("li",{staticClass:"list-inline-item"},[a("a",{class:t.post.my_vote?"text-mine":"",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.upvote()}}},[a("font-awesome-icon",{attrs:{icon:["fas","arrow-up"]}}),t._v(" \n                  "+t._s(t.post.up)+" upvotes\n                ")],1)]),t._v(" "),t.show_content?t._e():a("li",{staticClass:"list-inline-item"},[a("router-link",{attrs:{to:t.thread_link}},[t._v(t._s(t.post.total_replies)+" comments")])],1),t._v(" "),a("li",{staticClass:"list-inline-item"},[a("router-link",{attrs:{to:t.thread_link}},[t._v(t._s(new Date(1e3*t.post.createdAt).toLocaleString()))])],1),t._v(" "),t.reddit.author?a("li",{staticClass:"list-inline-item"},[t._v("\n                by "),a("a",{staticClass:"author",attrs:{href:"https://www.reddit.com/user/"+t.reddit.author}},[t._v(t._s(t.poster_name))])]):a("li",{staticClass:"list-inline-item"},[t._v("\n                by "),a("router-link",{class:t.post.data.poster==t.identity?"text-mine":"author",attrs:{to:"/u/"+t.post.data.poster}},[t._v(t._s(t.poster_name))]),t._v(" "),"eosforumanon"!=t.op&&t.post.data.poster==t.op?a("span",{staticClass:"badge badge-success"},[t._v("op")]):t._e()],1),t._v(" "),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"https://eosq.app/tx/"+t.post.transaction}},[t._v("on chain")])]),t._v(" "),t.reddit.author?a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"https://reddit.com"+t.reddit.permalink}},[t._v("on reddit")])]):t._e(),t._v(" "),t.history_modal&&t.show_content&&t.post.data.json_metadata.edit?a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.history()}}},[t._v("history")])]):t._e(),t._v(" "),t.is_moderated?a("li",{staticClass:"list-inline-item"},[a("span",{staticClass:"badge badge-warning text-xsmall"},[t._v("spam")])]):t._e(),t._v(" "),t.is_nsfw?a("li",{staticClass:"list-inline-item"},[a("span",{staticClass:"badge badge-nsfw text-xsmall"},[t._v("nsfw")])]):t._e(),t._v(" "),t.post.is_pinned?a("li",{staticClass:"list-inline-item"},[a("span",{staticClass:"badge badge-pinned text-xsmall"},[t._v("pinned")])]):t._e(),t._v(" "),t.is_new?a("li",{staticClass:"list-inline-item"},[a("span",{staticClass:"badge badge-warning text-xsmall"},[t._v("new")])]):t._e()])])])]),t._v(" "),t.show_content?a("div",{class:"post-attachment collapse "+(t.is_moderated&&t.is_child?"":"show"),attrs:{id:"post-"+t.post.transaction}},[a("PostAttachment",{ref:"post_attachment",attrs:{attachment:t.post.data.json_metadata.attachment,id:"content-"+t.post.data.post_uuid,collapse:t.is_child||!t.submit_modal&&this.hasAttachment("iframe")}}),t._v(" "),!t.reddit.author&&t.post.createdAt>=1540774751&&"eosforumanon"==t.post.data.poster?a("p",{staticStyle:{"font-weight":"bold"}},[this.post.data.json_metadata.anon_id.verified?a("span",[t._v("\n        Anon ID: "+t._s(t.post.data.json_metadata.anon_id.pub)+"\n      ")]):a("span",[t._v("\n        Anon ID: unknown / unverified\n      ")])]):t._e(),t._v(" "),a("p",{staticClass:"post-content",domProps:{innerHTML:t._s(t.post_content)}}),t._v(" "),a("div",{staticClass:"text-xsmall post-buttons-bottom"},[a("ul",{staticClass:"list-inline"},[t.history_modal&&t.post.depth>0?a("li",{staticClass:"list-inline-item"},[a("router-link",{attrs:{to:t.perma_link}},[t._v("permalink")])],1):t._e(),t._v(" "),t.show_content&&t.submit_modal&&(t.identity||t.is_anon_sub)&&t.post.data.poster==t.identity?a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.edit()}}},[t._v("edit")])]):t._e(),t._v(" "),t.show_content&&t.submit_modal&&(t.identity||t.is_anon_sub)?a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"highlight",attrs:{href:"javascript:void(0)","data-toggle":"collapse","data-target":"#qreply-"+t.post.data.post_uuid},on:{click:function(e){t.showQuickReply()}}},[t._v("quick-reply")])]):t._e(),t._v(" "),t.show_content&&t.submit_modal&&(t.identity||t.is_anon_sub)?a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"highlight",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.reply()}}},[t._v("reply")])]):t._e(),t._v(" "),t.show_content&&t.submit_modal&&(t.identity||t.is_anon_sub)?a("li",{staticClass:"list-inline-item"},[t.is_max_depth&&t.post.children.length>0?a("router-link",{staticClass:"highlight",attrs:{to:t.perma_link}},[t._v("view replies")]):t._e()],1):t._e(),t._v(" "),(t.is_child||!t.submit_modal&&this.hasAttachment("iframe"))&&t.post.o_attachment&&t.post.o_attachment.value?a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"highlight",attrs:{href:"javascript:void(0)","data-toggle":"collapse","data-target":"#content-"+t.post.data.post_uuid},on:{click:function(e){t.showAttachment()}}},[t._v("\n                show attachment\n            ")])]):t._e()])]),t._v(" "),a("div",{staticClass:"row collapse quick-reply",attrs:{id:"qreply-"+t.post.data.post_uuid}},[a("div",{staticClass:"col-sm-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.quick_reply,expression:"quick_reply"}],staticClass:"form-control",attrs:{rows:"2",placeholder:"Content"},domProps:{value:t.quick_reply},on:{input:function(e){e.target.composing||(t.quick_reply=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-sm-2 mt-1 mb-2"},[t.identity?a("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.quickReply(!1)}}},[t._v("post")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.quickReply(!0)}}},[t._v("post anon")])])]),t._v(" "),t._l(t.post.children,function(e){return t.is_max_depth?t._e():a("div",{key:e.o_id},[e.hide?t._e():a("div",[a("Post",{attrs:{submit_modal:t.submit_modal,history_modal:t.history_modal,post:e,op:t.op,show_content:!0}})],1)])})],2):t._e()])},staticRenderFns:[]},Ee=a("VU/8")(Ae,Pe,!1,null,null,null).exports,je={name:"PostSorter",props:{change:{type:Function,required:!1,default:null}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{setBy:function(t){this.by=t,this.change&&this.change(this.by)},getSorter:function(){return"popular"==this.by?ot.sort_by_score():ot.sort_by_time()}},data:function(){return{by:"popular"}}},Te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown d-inline-block"},[a("button",{staticClass:"btn btn-sm btn-outline-primary dropdown-toggle",attrs:{type:"button",id:"sortBy","data-toggle":"dropdown"}},[t._v("\n    "+t._s(t.by)+"\n  ")]),t._v(" "),a("div",{staticClass:"dropdown-menu"},[a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.setBy("popular")}}},[t._v("popular")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.setBy("time")}}},[t._v("time")])])])},staticRenderFns:[]},Me=a("VU/8")(je,Te,!1,null,null,null).exports,qe={name:"SubmitPostModal",props:{reply_account:{type:String,required:!1,default:""},reply_uuid:{type:String,required:!1,default:""},sub:{type:String,required:!0,default:""},post_content_callback:{type:Function,required:!1,default:function(){}}},methods:{makePost:function(t){var e=this;return h()(_.a.mark(function a(){var n,s;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.post,e.reply_uuid||0!=n.title.length){a.next=4;break}return e.setStatus("Post must have a title"),a.abrupt("return");case 4:if(0!=n.content.length){a.next=7;break}return e.setStatus("Post must have at least 1 character of content"),a.abrupt("return");case 7:if(!(n.content.length>10240)){a.next=10;break}return e.setStatus("Post is too long, over limit by "+(10240-n.content.length)+" characters"),a.abrupt("return");case 10:return s={poster:"",reply_to_poster:e.reply_account,reply_to_post_uuid:e.reply_uuid,certify:0,content:n.content,post_uuid:le.GeneratePostUuid(),json_metadata:p()({title:n.title,type:"novusphere-forum",sub:e.sub,parent_uuid:n.parent_uuid,parent_poster:n.parent_poster,edit:n.edit,attachment:{value:n.attachment.value.trim(),type:n.attachment.type,display:n.attachment.value?n.attachment.display:""},anon_id:t?le.GenerateAnonData(n.content):null})},a.abrupt("return",s);case 12:case"end":return a.stop()}},a,e)}))()},setStatus:function(t){this.status=t,this.set_status&&this.set_status(t)},postContent:function(t,e){var a=this;return h()(_.a.mark(function n(){var s,o;return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.setStatus("Creating tx and broadcasting to EOS..."),n.next=3,a.makePost(t);case 3:if(s=n.sent){n.next=6;break}return n.abrupt("return",!1);case 6:return n.next=8,le.PushNewPost(s,a.post.parent_tx,t,e,a.setStatus);case 8:if(o=n.sent){n.next=11;break}return n.abrupt("return",!1);case 11:return a.post.content="",a.post.attachment.value="",a.post.attachment.type="",a.post.attachment.display="link",r()("#submitPost").modal("hide"),a.post_content_callback(o),n.abrupt("return",!0);case 18:case"end":return n.stop()}},n,a)}))()}},computed:{post_content:function(){return le.ParseMarkdown(this.post.content).html},is_anon_sub:function(){return le.IsAnonSub(this.sub)}},data:function(){return{status:"",set_status:null,preview:!1,post:{edit:!1,parent_tx:"",parent_poster:"",parent_uuid:"",title:"",content:"",attachment:{value:"",type:"",display:"link"}}}}},Fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"submitPost"}},[a("div",{staticClass:"modal-dialog modal-full",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.reply_uuid?t.post.edit?"Edit":"Reply":"New Submission"))]),t._v(" "),t._m(0)]),t._v(" "),t.preview?a("div",[a("div",{staticClass:"modal-body"},[a("p",{staticClass:"post-content",domProps:{innerHTML:t._s(t.post_content)}})]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.preview=!1}}},[t._v("back")])])]):a("div",[a("div",{staticClass:"modal-body"},[a("form",[!t.reply_uuid||t.post.edit&&t.post.title?a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Title")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Content")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],staticClass:"form-control",attrs:{rows:"10",placeholder:"Content"},domProps:{value:t.post.content},on:{input:function(e){e.target.composing||t.$set(t.post,"content",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"}),t._v(" "),a("div",{staticClass:"col-sm-10"},[t._v("\n                "+t._s(t.post.content.length)+" / "+t._s(10240)+"\n              ")])]),t._v(" "),a("fieldset",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("legend",{staticClass:"col-form-label col-sm-2 pt-0"}),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.type,expression:"post.attachment.type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentType",value:"",checked:""},domProps:{checked:t._q(t.post.attachment.type,"")},on:{change:function(e){t.$set(t.post.attachment,"type","")}}}),t._v(" "),a("label",{staticClass:"form-check-label"},[t._v("No attachment")])]),t._v(" "),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.type,expression:"post.attachment.type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentType",value:"url"},domProps:{checked:t._q(t.post.attachment.type,"url")},on:{change:function(e){t.$set(t.post.attachment,"type","url")}}}),t._v(" "),a("label",{staticClass:"form-check-label"},[t._v("URL")])]),t._v(" "),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.type,expression:"post.attachment.type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentType",value:"ipfs"},domProps:{checked:t._q(t.post.attachment.type,"ipfs")},on:{change:function(e){t.$set(t.post.attachment,"type","ipfs")}}}),t._v(" "),a("label",{staticClass:"form-check-label"},[t._v("IPFS")])])])])]),t._v(" "),""!=t.post.attachment.type?a("fieldset",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("legend",{staticClass:"col-form-label col-sm-2 pt-0"}),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.display,expression:"post.attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"link",checked:""},domProps:{checked:t._q(t.post.attachment.display,"link")},on:{change:function(e){t.$set(t.post.attachment,"display","link")}}}),t._v(" "),a("label",{staticClass:"form-check-label"},[t._v("link")])]),t._v(" "),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.display,expression:"post.attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"iframe"},domProps:{checked:t._q(t.post.attachment.display,"iframe")},on:{change:function(e){t.$set(t.post.attachment,"display","iframe")}}}),t._v(" "),a("label",{staticClass:"form-check-label"},[t._v("iframe")])]),t._v(" "),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.display,expression:"post.attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"mp4"},domProps:{checked:t._q(t.post.attachment.display,"mp4")},on:{change:function(e){t.$set(t.post.attachment,"display","mp4")}}}),t._v(" "),a("label",{staticClass:"form-check-label"},[t._v("mp4")])]),t._v(" "),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.display,expression:"post.attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"mp3"},domProps:{checked:t._q(t.post.attachment.display,"mp3")},on:{change:function(e){t.$set(t.post.attachment,"display","mp3")}}}),t._v(" "),a("label",{staticClass:"form-check-label"},[t._v("mp3")])])])])]):t._e(),t._v(" "),""!=t.post.attachment.type?a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputAttachment"}}),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.attachment.value,expression:"post.attachment.value"}],staticClass:"form-control",attrs:{id:"inputAttachment",placeholder:"IPFS hash / URL"},domProps:{value:t.post.attachment.value},on:{input:function(e){e.target.composing||t.$set(t.post.attachment,"value",e.target.value)}}})])]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-center"},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.status))])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.postContent(!1)}}},[t._v("post")]),t._v(" "),t.is_anon_sub?a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.postContent(!0,!0)}}},[t._v("post anon")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.preview=!0}}},[t._v("preview")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("close")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},Ne=a("VU/8")(qe,Fe,!1,null,null,null).exports,Re={name:"HeaderSection",props:{load:{type:Function,required:!1}},mounted:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=le.GetRandomHeaderText(),t.random_header=new R(a).html,e.next=4,ct();case 4:t.identity=e.sent,window.addEventListener("identity",t.updateIdentity);case 6:case"end":return e.stop()}},e,t)}))()},beforeDestroy:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.removeEventListener("identity",t.updateIdentity);case 1:case"end":return e.stop()}},e,t)}))()},methods:{updateIdentity:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:t.identity=e.sent,t.load&&t.load();case 4:case"end":return e.stop()}},e,t)}))()},setIdentity:function(t){var e=this;return h()(_.a.mark(function a(){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ct(t);case 2:e.identity=a.sent;case 3:case"end":return a.stop()}},a,e)}))()},login:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(!0);case 2:t.identity=e.sent,t.identity.account||alert("Failed to find Scatter or get Scatter identity! Please see our FAQ!");case 4:case"end":return e.stop()}},e,t)}))()},logout:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut();case 2:case"end":return t.stop()}},e,t)}))()}},computed:{subs:function(){return Q.subscribed_subs}},data:function(){return{identity:mt,eos_referendum:Q.eos_referendum,random_header:""}}},Be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("ul",{staticClass:"list-inline mb-0"},[a("li",{staticClass:"list-inline-item"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"d-inline-block align-top",attrs:{src:"https://cdn.novusphere.io/static/atmos.svg",width:"30",height:"30",alt:""}})])],1),t._v(" "),t.identity.account?t._e():a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.login()}}},[t._v("login")])]),t._v(" "),t.identity.account?a("li",{staticClass:"list-inline-item"},[a("router-link",{staticClass:"text-mine",attrs:{to:"/u/"+t.identity.account}},[t._v("\n                "+t._s(t.identity.account)+" | "+t._s(t.identity.atmos)+" ATMOS\n              ")])],1):t._e(),t._v(" "),t.identity.account?a("li",{staticClass:"list-inline-item"},[a("router-link",{attrs:{to:"/notifications"}},[a("font-awesome-icon",{attrs:{icon:["fas","bell"]}}),t._v(" "),t.identity.notifications?a("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.identity.notifications))]):t._e()],1)],1):t._e(),t._v(" "),t.identity.account?a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.logout()}}},[t._v("logout")])]):t._e(),t._v(" "),t._m(0),t._v(" "),t.eos_referendum?a("li",{staticClass:"list-inline-item"},[a("router-link",{attrs:{to:"/referendum"}},[t._v("eos-referendum")])],1):t._e(),t._v(" "),t._m(1)]),t._v(" "),a("ul",{staticClass:"list-inline"},t._l(t.subs,function(e){return a("li",{key:e,staticClass:"list-inline-item"},[a("router-link",{attrs:{to:"/e/"+e}},[t._v(t._s(e))])],1)})),t._v(" "),a("div",{staticClass:"text-center ml-1 mr-1",domProps:{innerHTML:t._s(t.random_header)}})]),t._v(" "),a("div",{staticClass:"header-second"},[a("div",{staticClass:"ml-3"},[t._t("default"),t._v(" "),a("div",{staticClass:"mt-1"})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"list-inline-item"},[e("a",{attrs:{href:"#settings","data-toggle":"modal"}},[this._v("settings")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"list-inline-item"},[e("a",{attrs:{href:"#faq","data-toggle":"modal"}},[this._v("faq/help")])])}]},He=a("VU/8")(Re,Be,!1,null,null,null).exports,Oe={name:"MainSection",mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{},data:function(){return{random_header:""}}},Ue={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid main-section"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"ml-2 mr-2"},[this._t("default")],2)])]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row footer"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-center"},[t._v("\n              This is an experimental Reddit-style forum built on EOS by the "),a("a",{attrs:{href:"https://novusphere.io"}},[t._v("Novusphere Community")]),t._v(".\n              Special thanks to "),a("a",{attrs:{href:"https://www.eoscanada.com/"}},[t._v("EOS Canada")]),t._v(", "),a("a",{attrs:{href:"https://greymass.com/"}},[t._v("Greymass")]),t._v(", "),a("a",{attrs:{href:"https://www.genereos.io/"}},[t._v("GenerEOS")]),t._v(", and "),a("a",{attrs:{href:"https://get-scatter.com/"}},[t._v("Scatter")]),t._v(".\n            ")]),t._v(" "),a("p",{staticClass:"text-center"},[t._v("\n              This site is hosted entirely from "),a("a",{attrs:{href:"https://github.com/Novusphere/novusphere-eos/tree/gh-pages"}},[t._v("GitHub Pages")]),t._v(" and is fully "),a("a",{attrs:{href:"https://github.com/Novusphere/novusphere-eos"}},[t._v("open source")]),t._v(".\n              The developers of this software take no responsibility for the content displayed.\n              No images, files or media are hosted by the forum, please contact the respective site owners hosting content in breach of DMCA.\n            ")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-center"},[a("img",{staticStyle:{width:"12.5%"},attrs:{src:"https://cdn.novusphere.io/static/atmos.svg"}}),t._v(" "),a("img",{staticStyle:{width:"12.5%"},attrs:{src:"https://cdn.novusphere.io/static/eos2.svg"}})])])])])])])])}]},ze=a("VU/8")(Oe,Ue,!1,null,null,null).exports,De={name:"Home",components:{Post:Ee,PostSorter:Me,SubmitPostModal:Ne,HeaderSection:He,MainSection:ze},watch:{"$route.query.page":function(){this.load()},"$route.params.sub":function(){this.load()}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.Home(t.$route.query.page,t.$route.params.sub,t.$refs.sorter.getSorter());case 2:a=e.sent,t.is_subscribed=a.is_subscribed,t.posts=a.posts,t.pages=a.pages,t.current_page=a.current_page,t.sub=a.sub;case 8:case"end":return e.stop()}},e,t)}))()},newThread:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.NewThread(t.sub);case 3:r()("#submitPost").modal(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},postContent:function(t){this.$router.push("/e/"+this.sub+"/"+t)},subscribe:function(t){var e=this;return h()(_.a.mark(function a(){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,le.Subscribe(t,e.sub);case 2:e.is_subscribed=a.sent;case 3:case"end":return a.stop()}},a,e)}))()}},data:function(){return{is_subscribed:!1,current_page:0,pages:0,sub:"",posts:[]}}},Ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SubmitPostModal",{ref:"submit_modal",attrs:{sub:t.sub,post_content_callback:t.postContent}}),t._v(" "),a("HeaderSection",{attrs:{load:t.load}},[a("span",{staticClass:"title mr-3"},[a("router-link",{attrs:{to:"/e/"+t.sub}},[t._v(t._s(t.sub))])],1),t._v(" "),t.sub&&!t.is_subscribed?a("button",{staticClass:"btn btn-sm btn-outline-primary ml-1",attrs:{type:"button"},on:{click:function(e){t.subscribe(!0)}}},[t._v("subscribe")]):t._e(),t._v(" "),t.sub&&t.is_subscribed?a("button",{staticClass:"btn btn-sm btn-outline-danger ml-1",attrs:{type:"button"},on:{click:function(e){t.subscribe(!1)}}},[t._v("unsubscribe")]):t._e(),t._v(" "),t.sub?a("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.newThread()}}},[t._v("new")]):t._e(),t._v(" "),a("PostSorter",{ref:"sorter",attrs:{change:t.load}})],1),t._v(" "),a("MainSection",[a("div",[0==t.posts.length?a("div",[a("div",{staticClass:"text-center"},[a("h1",[t._v("There doesn't seem to be any posts here! Why not make one?")])])]):t._e(),t._v(" "),t._l(t.posts,function(e){return a("Post",{key:e.transaction,attrs:{submit_modal:t.$refs.submit_modal,post:e,show_content:!1}})}),t._v(" "),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"float-right"},[t.current_page>1?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/e/"+t.sub+"?page="+(t.current_page-1)}},[t._v("← prev")]):t._e(),t._v(" "),t.current_page<t.pages?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/e/"+t.sub+"?page="+(t.current_page+1)}},[t._v("next →")]):t._e()],1)])])],2)])],1)},staticRenderFns:[]},Le=a("VU/8")(De,Ie,!1,null,null,null).exports,Ve=(X(),{}),Ge={name:"Test",mounted:function(){var t=this;return h()(_.a.mark(function e(){var a,n,s;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=X(),n={find:a.config.collection,maxTimeMS:1e3,filter:{"data.json_metadata.title":{$regex:"^(Weekly Discussion \\(anon\\-pol\\-econ\\))"},"data.json_metadata.sub":"anon-pol-econ","data.poster":"eosforumanon"},sort:{createdAt:-1},limit:1},t.next=4,a.api(n);case 4:s=t.sent,console.log(s);case 6:case"end":return t.stop()}},e,t)}))()},methods:{},data:function(){return Ve}},Je={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"test"}},[this._v("\n  hi\n")])},staticRenderFns:[]},Ke=a("VU/8")(Ge,Je,!1,null,null,null).exports,We={name:"PostHistoryModal",components:{Post:Ee},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{resetPost:function(){this.main_post=le.PlaceholderPost()},load:function(t){var e=this;return h()(_.a.mark(function a(){var n;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,le.PostHistory(t);case 2:n=a.sent,e.main_post=n.main_post;case 4:case"end":return a.stop()}},a,e)}))()}},data:function(){return{main_post:le.PlaceholderPost()}}},Qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"postHistory"}},[a("div",{staticClass:"modal-dialog modal-full",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("Post",t._b({attrs:{post:t.main_post,show_content:!0}},"Post",t.main_post,!1))],1),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.resetPost()}}},[t._v("close")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Post History")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},Ye=a("VU/8")(We,Qe,!1,null,null,null).exports,Ze={name:"Thread",components:{SubmitPostModal:Ne,PostHistoryModal:Ye,Post:Ee,HeaderSection:He,MainSection:ze},watch:{"$route.params.id":function(){this.load()},"$route.params.child_id":function(){this.load()}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.Thread(t.$route.params.id,t.$route.params.child_id);case 2:a=e.sent,t.opening_post=a.opening_post,t.main_post=a.main_post;case 5:case"end":return e.stop()}},e,t)}))()},postContent:function(t){this.load()}},data:function(){return{opening_post:le.PlaceholderPost(),main_post:le.PlaceholderPost()}}},Xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PostHistoryModal",{ref:"history_modal"}),t._v(" "),a("SubmitPostModal",{ref:"submit_modal",attrs:{sub:t.opening_post.data.json_metadata.sub,post_content_callback:t.postContent,reply_uuid:t.opening_post.data.post_uuid,reply_account:t.opening_post.data.poster}}),t._v(" "),a("HeaderSection",{attrs:{load:t.load}},[a("span",{staticClass:"title mr-3"},[a("router-link",{attrs:{to:"/e/"+t.opening_post.data.json_metadata.sub}},[t._v(t._s(t.opening_post.data.json_metadata.sub))])],1)]),t._v(" "),a("MainSection",[a("div",{staticClass:"thread"},[a("Post",t._b({attrs:{submit_modal:t.$refs.submit_modal,history_modal:t.$refs.history_modal,post:t.main_post,op:t.main_post.data.poster,show_content:!0}},"Post",t.main_post,!1))],1)])],1)},staticRenderFns:[]},ta=a("VU/8")(Ze,Xe,!1,null,null,null).exports,ea={name:"UserProfile",components:{PostHistoryModal:Ye,HeaderSection:He,MainSection:ze,Post:Ee,PostSorter:Me},watch:{"$route.query.page":function(){this.load()},"$route.params.account":function(){this.load()}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.sorter.by="time",t.load();case 2:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{load:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.UserProfile(t.$route.query.page,t.$route.params.account,t.$refs.sorter.getSorter());case 2:a=e.sent,t.current_page=a.current_page,t.account=a.account,t.is_blocked=a.is_blocked,t.balances.atmos=a.balance_atmos,t.comments=a.n_comments,t.threads=a.n_threads,t.last_activity=a.last_activity,t.posts=a.posts,t.pages=a.pages;case 12:case"end":return e.stop()}},e,t)}))()},toggleBlock:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.ToggleBlockUser(t.account,t.is_blocked);case 2:return e.next=4,t.load();case 4:case"end":return e.stop()}},e,t)}))()}},data:function(){return{is_blocked:!1,account:"",balances:{atmos:0},comments:0,threads:0,last_activity:"",posts:[],current_page:1,pages:0}}},aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PostHistoryModal",{ref:"history_modal"}),t._v(" "),a("HeaderSection",{attrs:{load:t.load}},[a("span",{staticClass:"title mr-3"},[a("router-link",{attrs:{to:"/u/"+t.account}},[t._v(t._s(t.account))])],1),t._v(" "),a("a",{staticClass:"btn btn-sm btn-outline-primary ml-1",attrs:{target:"_blank",href:"https://eosq.app/account/"+t.account}},[t._v("view on chain")]),t._v(" "),a("PostSorter",{ref:"sorter",attrs:{change:t.load}}),t._v(" "),a("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(e){t.toggleBlock()}}},[t._v(t._s(t.is_blocked?"unblock":"block"))])],1),t._v(" "),a("MainSection",[a("div",[a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-6 col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-5"},[t._v("Balances")]),t._v(" "),a("div",{staticClass:"col-md-6 col-7"},[t._v(t._s(t.balances.atmos)+" ATMOS")])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-5"},[t._v("Comments")]),t._v(" "),a("div",{staticClass:"col-md-6 col-7"},[t._v(t._s(t.comments))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-5"},[t._v("Threads")]),t._v(" "),a("div",{staticClass:"col-md-6 col-7"},[t._v(t._s(t.threads))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-5"},[t._v("Last Activity")]),t._v(" "),a("div",{staticClass:"col-md-6 col-7"},[t._v(t._s(t.last_activity))])])]),t._v(" "),a("div",{staticClass:"col-md-6 col-12"})]),t._v(" "),t._l(t.posts,function(e){return a("div",{key:e.o_id,staticClass:"row mb-2"},[a("Post",{attrs:{history_modal:t.$refs.history_modal,post:e,show_content:!0}})],1)}),t._v(" "),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"float-right"},[t.current_page>1?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/u/"+t.account+"?page="+(t.current_page-1)}},[t._v("← prev")]):t._e(),t._v(" "),t.current_page<t.pages?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/u/"+t.account+"?page="+(t.current_page+1)}},[t._v("next →")]):t._e()],1)])])],2)])],1)},staticRenderFns:[]},na=a("VU/8")(ea,aa,!1,null,null,null).exports,sa={name:"UserNotifications",components:{PostHistoryModal:Ye,HeaderSection:He,MainSection:ze,Post:Ee,PostSorter:Me},watch:{"$route.query.page":function(){this.load()}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{load:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.Notifications(t.$route.query.page);case 2:return a=e.sent,t.current_page=a.current_page,t.pages=a.pages,t.posts=a.posts,e.next=8,le.MarkNotificationsAsRead();case 8:case"end":return e.stop()}},e,t)}))()}},data:function(){return{posts:[],current_page:1,pages:0}}},oa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PostHistoryModal",{ref:"history_modal"}),t._v(" "),a("HeaderSection",{attrs:{load:t.load}},[a("span",{staticClass:"title mr-3"},[t._v("notifications")])]),t._v(" "),a("MainSection",[a("div",[t._l(t.posts,function(e){return a("div",{key:e.o_id,staticClass:"row mb-2"},[a("Post",{attrs:{history_modal:t.$refs.history_modal,post:e,show_content:!0}})],1)}),t._v(" "),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"float-right"},[t.current_page>1?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/u/"+t.account+"?page="+(t.current_page-1)}},[t._v("← prev")]):t._e(),t._v(" "),t.current_page<t.pages?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/u/"+t.account+"?page="+(t.current_page+1)}},[t._v("next →")]):t._e()],1)])])],2)])],1)},staticRenderFns:[]},ra=a("VU/8")(sa,oa,!1,null,null,null).exports,ia=a("gRE1"),ca=a.n(ia),ua=a("EKx1"),la=a.n(ua),da={name:"Referendum",components:{Post:Ee,HeaderSection:He,MainSection:ze},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:case"end":return e.stop()}},e,t)}))()},computed:{expiry_delta:function(){var t=new Date(this.post.expiry);return isNaN(t.getTime())?"?":this.getDeltaDays(t)}},methods:{getDeltaDays:function(t){return((t.getTime()-(new Date).getTime())/864e5).toFixed(2)},generateName:function(t,e){for(var a=la()(t+e),n="",s=0;s<12;s++){var o=a.charCodeAt(s);n+=o>=48&&o<=57?String.fromCharCode(122-(o-48)):String.fromCharCode(o)}return n},load:function(){var t=this;return h()(_.a.mark(function e(){var a,n,s,o,r,i,c,u,l,d;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:return a=e.sent,t.identity=a.account,n=parseInt(t.$route.query.page?t.$route.query.page:1),s=X(),o={name:"propose",createdAt:{$gte:1537221139}},e.next=9,s.api({count:"_eosforum",maxTimeMS:1e3,query:o});case 9:return r=e.sent,i=Math.ceil(r.n/25),e.next=13,s.api({aggregate:"_eosforum",maxTimeMS:1e3,cursor:{},pipeline:[{$match:o},{$sort:ot.sort_by_time()},{$skip:ot.skip_page(n,25)},{$limit:25},{$lookup:{from:"_eosforum",let:{proposal_name:"$data.proposal_name",createdAt:"$createdAt"},pipeline:[{$match:{name:"expire"}},{$project:{txid:"$transaction",test:{$and:[{$eq:["$data.proposal_name","$$proposal_name"]},{$gte:["$createdAt","$$createdAt"]}]}}},{$match:{test:!0}}],as:"expired"}}]});case 13:for(r=e.sent,c=new Date,u=r.cursor.firstBatch,l=0;l<u.length;l++)(d=u[l]).expired=d.expired.length>0,c>new Date(d.data.expires_at)&&(d.expired=!0);t.posts=u,t.pages=i,t.currentPage=n;case 20:case"end":return e.stop()}},e,t)}))()},newProposal:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct();case 2:t.sent.account?r()("#submitProposal").modal():alert("You must be logged in to create a proposal!");case 4:case"end":return t.stop()}},e,t)}))()},submitProposal:function(){var t=this;return h()(_.a.mark(function e(){var a,n,s,o,i,c,u;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.post.title.length>1024)){e.next=3;break}return t.status="Title is too long, over limit by "+(1024-post.title.length)+" characters",e.abrupt("return");case 3:if(!(t.post.content.length>3e4)){e.next=6;break}return t.status="Post is too long, over limit by "+(3e4-post.content.length)+" characters",e.abrupt("return");case 6:return e.next=8,ct();case 8:return a=e.sent,n={proposer:a.account,proposal_name:t.generateName(a.account,t.post.content),title:t.post.title,proposal_json:p()({content:t.post.content,src:"novusphere-forum"}),expires_at:new Date(t.post.expiry).getTime()/1e3},e.prev=10,o=kt(),e.next=14,o.contract("eosforumrcpp");case 14:return i=e.sent,e.next=17,i.transaction(function(t){t.propose(n,{authorization:[{actor:a.account,permission:a.auth}]})});case 17:c=e.sent,s=c.transaction_id,e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(10),console.log(e.t0),t.status="Error: Failed to submit proposal!",e.abrupt("return");case 26:return u=X(),e.next=29,u.waitTx(s,500,1e3,"_eosforum");case 29:return r()("#submitProposal").modal("hide"),t.status="",e.next=33,t.load();case 33:case"end":return e.stop()}},e,t,[[10,21]])}))()},md:function(t){var e=new R(t);return e.html},getProposal:function(t){var e=this;return h()(_.a.mark(function a(){var n,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=X(),e.next=3,n.api({find:"_eosforum",maxTimeMS:1e3,filter:{name:"propose",transaction:t}});case 3:return s=e.sent.cursor.firstBatch[0],e.abrupt("return",s);case 5:case"end":return e.stop()}},a,e)}))()},getProposalVotes:function(t){var e=this;return h()(_.a.mark(function a(){var n,s,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=X(),e.next=3,n.api({find:"_eosforum",maxTimeMS:1e3,filter:{name:"vote","data.proposal_name":t.data.proposal_name,createdAt:{$gte:t.createdAt}},sort:ot.sort_by_time()});case 3:return s=e.sent.cursor.firstBatch,e.next=6,n.api({find:"_eosforum",maxTimeMS:1e3,filter:{name:"unvote","data.proposal_name":t.data.proposal_name,createdAt:{$gte:t.createdAt}},sort:ot.sort_by_time()});case 6:return o=e.sent.cursor.firstBatch,e.abrupt("return",{votes:s,unvotes:o});case 8:case"end":return e.stop()}},a,e)}))()},cleanProposal:function(t){var e=this;return h()(_.a.mark(function a(){var n,s,o,r,i;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return X(),a.next=3,ct();case 3:return n=a.sent,s=kt(),a.next=7,e.getProposal(t);case 7:return o=a.sent,r={proposal_name:o.data.proposal_name,max_count:4294967295},a.next=11,s.contract("eosforumrcpp");case 11:return i=a.sent,a.next=14,i.transaction(function(t){t.clnproposal(r,{authorization:[{actor:n.account,permission:n.auth}]})});case 14:a.sent;case 15:case"end":return a.stop()}},a,e)}))()},expire:function(t){var e=this;return h()(_.a.mark(function a(){var n,s,o,r,i,c,u;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=X(),a.next=3,ct();case 3:return s=a.sent,o=kt(),a.next=7,e.getProposal(t);case 7:return r=a.sent,i={proposal_name:r.data.proposal_name},a.next=11,o.contract("eosforumrcpp");case 11:return c=a.sent,a.next=14,c.transaction(function(t){t.expire(i,{authorization:[{actor:s.account,permission:s.auth}]})});case 14:return u=a.sent,a.next=17,n.waitTx(u.transaction_id,500,1e3,"_eosforum");case 17:return a.next=19,e.load();case 19:case"end":return a.stop()}},a,e)}))()},castVote:function(t,e){var a=this;return h()(_.a.mark(function n(){var s,o,r,i,c,u,l;return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=X(),n.next=3,ct();case 3:if((o=n.sent).account){n.next=7;break}return alert("You must be logged in to vote!"),n.abrupt("return");case 7:return r=kt(),n.next=10,a.getProposal(t);case 10:return i=n.sent,c={voter:o.account,proposal_name:i.data.proposal_name,vote:e,vote_json:""},n.next=14,r.contract("eosforumrcpp");case 14:return u=n.sent,n.next=17,u.transaction(function(t){t.vote(c,{authorization:[{actor:o.account,permission:o.auth}]})});case 17:return l=n.sent,n.next=20,s.waitTx(l.transaction_id,500,1e3,"_eosforum");case 20:return n.next=22,a.proposalStatus(i.transaction);case 22:case"end":return n.stop()}},n,a)}))()},proposalStatus:function(t){var e=this;return h()(_.a.mark(function a(){var n,s,o,i,c,u,l,d,p,m,f;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=kt(),a.next=3,e.getProposal(t);case 3:return s=a.sent,a.next=6,e.getProposalVotes(s);case 6:o=a.sent,i={},c=0,u=0,l=0;case 11:if(!(l<o.votes.length)){a.next=19;break}if(!((d=o.votes[l]).data.voter in i)){a.next=15;break}return a.abrupt("continue",16);case 15:i[d.data.voter]={account:d.data.voter,txid:d.transaction,time:d.createdAt,vote:d.data.vote,json:d.data.vote_json,staked:0};case 16:l++,a.next=11;break;case 19:for(l=0;l<o.unvotes.length;l++)p=o.unvotes[l],(m=i[p.data.voter])?m.time<p.createdAt&&delete i[p.data.voter]:console.log("no vote found for "+p.data.voter);return a.next=22,x.a.all(J()(i).map(function(t){return new x.a((a=h()(_.a.mark(function a(s){var o,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAccount(t);case 2:o=e.sent,r=o.self_delegated_bandwidth?parseFloat(o.self_delegated_bandwidth.cpu_weight)+parseFloat(o.self_delegated_bandwidth.net_weight):0,i[t].staked=r,s();case 7:case"end":return e.stop()}},a,e)})),function(t){return a.apply(this,arguments)}));var a}));case 22:for(f in i)(m=i[f]).vote?c+=m.staked:u+=m.staked;e.vote.title=s.data.title,e.vote.for=c,e.vote.against=u,e.vote.approval=c/Math.max(c+u,1),e.vote.voters=ca()(i).sort(function(t,e){return e.staked-t.staked}),r()("#voteResult").modal();case 29:case"end":return a.stop()}},a,e)}))()}},data:function(){return{currentPage:0,pages:0,posts:[],identity:"",vote:{title:"",for:0,against:0,approval:0,voters:[]},status:"",post:{preview:!1,expiry:"",title:"",content:""}}}},pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("HeaderSection",{attrs:{load:t.load}},[a("span",{staticClass:"title mr-3"},[a("router-link",{attrs:{to:"/referendum"}},[t._v("EOS Referendum")])],1),t._v(" "),a("button",{staticClass:"btn btn-outline-primary ml-1",attrs:{type:"button"},on:{click:function(e){t.newProposal()}}},[t._v("new")])]),t._v(" "),a("MainSection",[a("div",[0==t.posts.length?a("div",[a("div",{staticClass:"text-center"},[a("h1",[t._v("There doesn't seem to be any posts here! Why not make one?")])])]):t._e(),t._v(" "),t._l(t.posts,function(e){return a("div",{key:e.transaction,staticClass:"row mb-2"},[a("div",{class:"col-md-12 mb-3 post"},[a("span",{staticStyle:{"font-weight":"bold","font-size":"20px"}},[a("div",[a("span",{staticClass:"title"},[t._v(t._s(e.data.title))]),t._v(" "),e.expired?a("span",{staticClass:"text-danger"},[t._v("[exp.]")]):a("span",{staticClass:"text-warning"},[t._v("[exp. "+t._s(t.getDeltaDays(new Date(e.data.expires_at)))+" days]")])])]),t._v(" "),a("div",{staticStyle:{"font-size":"x-small"}},[a("ul",{staticClass:"list-inline"},[a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"post-collapse",attrs:{"data-toggle":"collapse",href:"#post-"+e.transaction}})]),t._v(" "),a("li",{staticClass:"list-inline-item"},[t._v(t._s(new Date(1e3*e.createdAt).toLocaleString()))]),t._v(" "),a("li",{staticClass:"list-inline-item"},[t._v("by "),a("router-link",{class:e.data.proposer==t.identity?"text-mine":"",attrs:{to:"/u/"+e.data.proposer}},[t._v(t._s(e.data.proposer))])],1),t._v(" "),a("li",{staticClass:"list-inline-item"},[a("a",{attrs:{href:"https://eosq.app/tx/"+e.transaction}},[t._v("on chain")])])])]),t._v(" "),a("div",{staticClass:"post-attachment collapse show",attrs:{id:"post-"+e.transaction}},[a("p",{staticClass:"post-content",domProps:{innerHTML:t._s(t.md(e.data.proposal_json.content))}}),t._v(" "),a("div",{staticStyle:{"font-size":"x-small"}},[a("ul",{staticClass:"list-inline"},[a("li",{staticClass:"list-inline-item"},[a("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(a){t.proposalStatus(e.transaction)}}},[t._v(t._s(e.expired?" results":"status"))]),t._v(" "),e.expired?t._e():a("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(a){t.castVote(e.transaction,1)}}},[t._v("vote for")]),t._v(" "),e.expired?t._e():a("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(a){t.castVote(e.transaction,0)}}},[t._v("vote against")])]),t._v(" "),e.data.proposer==t.identity?a("li",{staticClass:"list-inline-item"},[e.expired?a("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(a){t.cleanProposal(e.transaction)}}},[t._v("clean")]):t._e(),t._v(" "),e.expired?t._e():a("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(a){t.expire(e.transaction)}}},[t._v("force expire")])]):t._e()])])])])])}),t._v(" "),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"float-right"},[t.currentPage>1?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/referendum?page="+(t.currentPage-1)}},[t._v("← prev")]):t._e(),t._v(" "),t.currentPage<t.pages?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/referendum?page="+(t.currentPage+1)}},[t._v("next →")]):t._e()],1)])])],2)]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"voteResult",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.vote.title))]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"text-center"},[t._v("\n              This proposal has an approval rating of\n              "),a("span",{class:t.vote.approval>=.5?"text-success":"text-danger"},[t._v(t._s((100*t.vote.approval).toFixed(2))+"%")]),t._v("\n              with \n              "),a("span",{staticClass:"text-success"},[t._v(t._s(t.vote.for.toFixed(4))+" EOS")]),t._v(" \n              for and \n              "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.vote.against.toFixed(4))+" EOS")]),t._v(" \n              against and a total of \n              "),a("a",{staticClass:"text-primary",attrs:{href:"javascript:void(0)","data-toggle":"collapse","data-target":"#voteResults"}},[t._v(t._s(t.vote.voters.length)+" votes")]),t._v(" \n              casted.\n            ")]),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"voteResults"}},[a("ul",t._l(t.vote.voters,function(e){return a("li",{key:e.account},[a("span",{class:e.vote?"text-success":"text-danger"},[t._v("\n                    "+t._s(e.account)+" - "+t._s(e.staked.toFixed(4))+" EOS ("+t._s(e.vote?"for":"against")+")\n                  ")])])}))])]),t._v(" "),t._m(1)])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"submitProposal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-full",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[t.post.preview?a("div",[a("p",{domProps:{innerHTML:t._s(t.md(t.post.content))}})]):a("div",[a("form",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Title")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Expiry")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.expiry,expression:"post.expiry"}],staticClass:"form-control",attrs:{type:"text",placeholder:"mm-dd-yyyy"},domProps:{value:t.post.expiry},on:{input:function(e){e.target.composing||t.$set(t.post,"expiry",e.target.value)}}})]),t._v(" "),a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("("+t._s(t.expiry_delta)+" days from now)")])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputContent"}},[t._v("Content")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],staticClass:"form-control",attrs:{rows:"10",id:"inputContent",placeholder:"Content"},domProps:{value:t.post.content},on:{input:function(e){e.target.composing||t.$set(t.post,"content",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label"}),t._v(" "),a("div",{staticClass:"col-sm-10"},[t._v("\n                      "+t._s(t.post.content.length)+" / "+t._s(3e4)+"\n                    ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-center"},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.status))])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[t.post.preview?a("div",[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.post.preview=!1}}},[t._v("back")])]):a("div",[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.submitProposal()}}},[t._v("post")]),t._v(" "),a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.post.preview=!0}}},[t._v("preview")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("close")])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"}},[this._v("close")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Create Proposal")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},ma=a("VU/8")(da,pa,!1,null,null,null).exports,_a={name:"Tag",components:{Post:Ee,PostSorter:Me,PostHistoryModal:Ye,HeaderSection:He,MainSection:ze},watch:{"$route.query.page":function(){this.load()},"$route.params.tag":function(){this.load()}},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.Tag(t.$route.query.page,t.$route.params.tag,t.$refs.sorter.getSorter());case 2:a=e.sent,t.posts=a.posts,t.pages=a.pages,t.current_page=a.current_page,t.tag=a.tag;case 7:case"end":return e.stop()}},e,t)}))()}},data:function(){return{current_page:0,pages:0,tag:"",posts:[]}}},fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PostHistoryModal",{ref:"history_modal"}),t._v(" "),a("HeaderSection",{attrs:{load:t.load}},[a("span",{staticClass:"title mr-3"},[a("router-link",{attrs:{to:"/tag/"+t.tag}},[t._v("#"+t._s(t.tag))])],1),t._v(" "),a("PostSorter",{ref:"sorter",attrs:{change:t.load}})],1),t._v(" "),a("MainSection",[a("div",[0==t.posts.length?a("div",[a("div",{staticClass:"text-center"},[a("h1",[t._v("No posts with #"+t._s(t.tag)+" found!")])])]):t._e(),t._v(" "),t._l(t.posts,function(e){return a("Post",{key:e.o_id,attrs:{history_modal:t.$refs.history_modal,post:e,show_content:!0}})}),t._v(" "),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"float-right"},[t.current_page>1?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/tag/"+t.tag+"?page="+(t.current_page-1)}},[t._v("← prev")]):t._e(),t._v(" "),t.current_page<t.pages?a("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/tag/"+t.tag+"?page="+(t.current_page+1)}},[t._v("next →")]):t._e()],1)])])],2)])],1)},staticRenderFns:[]},ha=a("VU/8")(_a,fa,!1,null,null,null).exports,va={name:"Search",components:{Post:Ee,PostSorter:Me,PostHistoryModal:Ye,HeaderSection:He,MainSection:ze},watch:{},mounted:function(){var t=this;return h()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return h()(_.a.mark(function e(){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=le.Search(),t.subs=a.subs;case 2:case"end":return e.stop()}},e,t)}))()}},data:function(){return{subs:[]}}},ba={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PostHistoryModal",{ref:"history_modal"}),t._v(" "),a("HeaderSection",{attrs:{load:t.load}},[a("span",{staticClass:"title mr-3"},[t._v("search")])]),t._v(" "),a("MainSection",[a("div",[a("div",{staticClass:"row mb-2"},[a("ul",t._l(t.subs,function(e){return a("li",{key:e._id},[a("router-link",{attrs:{to:"/e/"+e._id}},[t._v("/e/"+t._s(e._id))]),t._v(" \n                  - "+t._s(e.count)+" posts\n              ")],1)}))])])])],1)},staticRenderFns:[]},ya=a("VU/8")(va,ba,!1,null,null,null).exports;n.a.use(Ce.a);var ga=new Ce.a({routes:[{path:"/",name:"Index",component:Le},{path:"/e/:sub?",name:"Sub",component:Le},{path:"/e/:sub/:id/:title?/:child_id?",name:"Thread",component:ta},{path:"/u/:account",name:"UserProfile",component:na},{path:"/tag/:tag",name:"Tag",component:ha},{path:"/search",name:"Search",component:ya},{path:"/notifications",name:"UserNotifications",component:ra},{path:"/referendum",name:"Referendum",component:ma},{path:"/test",name:"Test",component:Ke}]});window._jQuery=r.a,c.library.add(u.a),c.library.add(l.a),n.a.component("font-awesome-icon",i.FontAwesomeIcon),n.a.use(s.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:ga,components:{App:xe},template:"<App/>"})},Pp2f:function(t,e){t.exports={account_name:"name",action_name:"name",authority:{base:"",fields:{threshold:"uint32",keys:"key_weight[]",accounts:"permission_level_weight[]",waits:"wait_weight[]"}},bidname:{base:"",action:{name:"bidname",account:"eosio"},fields:{bidder:"account_name",newname:"account_name",bid:"asset"}},blockchain_parameters:{base:"",fields:{max_block_net_usage:"uint64",target_block_net_usage_pct:"uint32",max_transaction_net_usage:"uint32",base_per_transaction_net_usage:"uint32",net_usage_leeway:"uint32",context_free_discount_net_usage_num:"uint32",context_free_discount_net_usage_den:"uint32",max_block_cpu_usage:"uint32",target_block_cpu_usage_pct:"uint32",max_transaction_cpu_usage:"uint32",min_transaction_cpu_usage:"uint32",max_transaction_lifetime:"uint32",deferred_trx_expiration_window:"uint32",max_transaction_delay:"uint32",max_inline_action_size:"uint32",max_inline_action_depth:"uint16",max_authority_depth:"uint16"}},buyram:{base:"",action:{name:"buyram",account:"eosio"},fields:{payer:"account_name",receiver:"account_name",quant:"asset"}},buyrambytes:{base:"",action:{name:"buyrambytes",account:"eosio"},fields:{payer:"account_name",receiver:"account_name",bytes:"uint32"}},canceldelay:{base:"",action:{name:"canceldelay",account:"eosio"},fields:{canceling_auth:"permission_level",trx_id:"transaction_id_type"}},claimrewards:{base:"",action:{name:"claimrewards",account:"eosio"},fields:{owner:"account_name"}},connector:{base:"",fields:{balance:"asset",weight:"float64"}},delegatebw:{base:"",action:{name:"delegatebw",account:"eosio"},fields:{from:"account_name",receiver:"account_name",stake_net_quantity:"asset",stake_cpu_quantity:"asset",transfer:"bool"}},delegated_bandwidth:{base:"",fields:{from:"account_name",to:"account_name",net_weight:"asset",cpu_weight:"asset"}},deleteauth:{base:"",action:{name:"deleteauth",account:"eosio"},fields:{account:"account_name",permission:"permission_name"}},eosio_global_state:{base:"blockchain_parameters",fields:{max_ram_size:"uint64",total_ram_bytes_reserved:"uint64",total_ram_stake:"int64",last_producer_schedule_update:"block_timestamp_type",last_pervote_bucket_fill:"uint64",pervote_bucket:"int64",perblock_bucket:"int64",total_unpaid_blocks:"uint32",total_activated_stake:"int64",thresh_activated_stake_time:"uint64",last_producer_schedule_size:"uint16",total_producer_vote_weight:"float64",last_name_close:"block_timestamp_type"}},exchange_state:{base:"",fields:{supply:"asset",base:"connector",quote:"connector"}},key_weight:{base:"",fields:{key:"public_key",weight:"weight_type"}},linkauth:{base:"",action:{name:"linkauth",account:"eosio"},fields:{account:"account_name",code:"account_name",type:"action_name",requirement:"permission_name"}},namebid_info:{base:"",fields:{newname:"account_name",high_bidder:"account_name",high_bid:"int64",last_bid_time:"uint64"}},newaccount:{base:"",action:{name:"newaccount",account:"eosio"},fields:{creator:"account_name",name:"account_name",owner:"authority",active:"authority"}},onerror:{base:"",action:{name:"onerror",account:"eosio"},fields:{sender_id:"uint128",sent_trx:"bytes"}},permission_level:{base:"",fields:{actor:"account_name",permission:"permission_name"}},permission_level_weight:{base:"",fields:{permission:"permission_level",weight:"weight_type"}},permission_name:"name",producer_info:{base:"",fields:{owner:"account_name",total_votes:"float64",producer_key:"public_key",is_active:"bool",url:"string",unpaid_blocks:"uint32",last_claim_time:"uint64",location:"uint16"}},producer_key:{base:"",fields:{producer_name:"account_name",block_signing_key:"public_key"}},refund:{base:"",action:{name:"refund",account:"eosio"},fields:{owner:"account_name"}},refund_request:{base:"",fields:{owner:"account_name",request_time:"time_point_sec",net_amount:"asset",cpu_amount:"asset"}},regproducer:{base:"",action:{name:"regproducer",account:"eosio"},fields:{producer:"account_name",producer_key:"public_key",url:"string",location:"uint16"}},regproxy:{base:"",action:{name:"regproxy",account:"eosio"},fields:{proxy:"account_name",isproxy:"bool"}},require_auth:{base:"",action:{name:"reqauth",account:"eosio"},fields:{from:"account_name"}},rmvproducer:{base:"",action:{name:"rmvproducer",account:"eosio"},fields:{producer:"account_name"}},sellram:{base:"",action:{name:"sellram",account:"eosio"},fields:{account:"account_name",bytes:"uint64"}},set_account_limits:{base:"",action:{name:"setalimits",account:"eosio"},fields:{account:"account_name",ram_bytes:"int64",net_weight:"int64",cpu_weight:"int64"}},set_global_limits:{base:"",action:{name:"setglimits",account:"eosio"},fields:{cpu_usec_per_period:"int64"}},set_producers:{base:"",action:{name:"setprods",account:"eosio"},fields:{schedule:"producer_key[]"}},setabi:{base:"",action:{name:"setabi",account:"eosio"},fields:{account:"account_name",abi:"bytes"}},setcode:{base:"",action:{name:"setcode",account:"eosio"},fields:{account:"account_name",vmtype:"uint8",vmversion:"uint8",code:"bytes"}},setparams:{base:"",action:{name:"setparams",account:"eosio"},fields:{params:"blockchain_parameters"}},setpriv:{base:"",action:{name:"setpriv",account:"eosio"},fields:{account:"account_name",is_priv:"int8"}},setram:{base:"",action:{name:"setram",account:"eosio"},fields:{max_ram_size:"uint64"}},total_resources:{base:"",fields:{owner:"account_name",net_weight:"asset",cpu_weight:"asset",ram_bytes:"uint64"}},transaction_id_type:"checksum256",undelegatebw:{base:"",action:{name:"undelegatebw",account:"eosio"},fields:{from:"account_name",receiver:"account_name",unstake_net_quantity:"asset",unstake_cpu_quantity:"asset"}},unlinkauth:{base:"",action:{name:"unlinkauth",account:"eosio"},fields:{account:"account_name",code:"account_name",type:"action_name"}},unregprod:{base:"",action:{name:"unregprod",account:"eosio"},fields:{producer:"account_name"}},updateauth:{base:"",action:{name:"updateauth",account:"eosio"},fields:{account:"account_name",permission:"permission_name",parent:"permission_name",auth:"authority"}},user_resources:{base:"",fields:{owner:"account_name",net_weight:"asset",cpu_weight:"asset",ram_bytes:"uint64"}},voteproducer:{base:"",action:{name:"voteproducer",account:"eosio"},fields:{voter:"account_name",proxy:"account_name",producers:"account_name[]"}},voter_info:{base:"",fields:{owner:"account_name",proxy:"account_name",producers:"account_name[]",staked:"int64",last_vote_weight:"float64",proxied_vote_weight:"float64",is_proxy:"bool"}},wait_weight:{base:"",fields:{wait_sec:"uint32",weight:"weight_type"}},weight_type:"uint16"}},VaBq:function(t,e){},WrX4:function(t,e){t.exports={account:{base:"",fields:{balance:"asset"}},account_name:"name",create:{base:"",action:{name:"create",account:"eosio.token"},fields:{issuer:"account_name",maximum_supply:"asset"}},currency_stats:{base:"",fields:{supply:"asset",max_supply:"asset",issuer:"account_name"}},issue:{base:"",action:{name:"issue",account:"eosio.token"},fields:{to:"account_name",quantity:"asset",memo:"string"}},transfer:{base:"",action:{name:"transfer",account:"eosio.token"},fields:{from:"account_name",to:"account_name",quantity:"asset",memo:"string"}}}},cB4U:function(t,e){t.exports={name:"uint64",checksum160:"fixed_bytes20",checksum256:"fixed_bytes32",checksum512:"fixed_bytes64",signature:"fixed_bytes65",public_key:"fixed_bytes33",message_type:"fixed_string16",symbol:"uint64",symbol_code:"uint64",field_name:"string",account_name:"name",permission_name:"name",type_name:"string",token_name:"name",table_name:"name",scope_name:"name",action_name:"name",time_point:"int64",time_point_sec:"time",timestamp:"uint32",block_timestamp_type:"timestamp",block_id:"fixed_bytes32",checksum_type:"fixed_bytes32",checksum256_type:"fixed_bytes32",checksum512_type:"fixed_bytes64",checksum160_type:"fixed_bytes20",sha256:"fixed_bytes32",sha512:"fixed_bytes64",sha160:"fixed_bytes20",weight_type:"uint16",block_num_type:"uint32",share_type:"int64",digest_type:"checksum_type",context_free_type:"bytes",unsigned_int:"varuint32",bool:"uint8",extensions_type:{base:"",fields:{type:"uint16",data:"bytes"}},transaction_header:{base:"",fields:{expiration:"time",ref_block_num:"uint16",ref_block_prefix:"uint32",net_usage_words:"unsigned_int",max_cpu_usage_ms:"uint8",delay_sec:"unsigned_int"}},transaction:{base:"transaction_header",fields:{context_free_actions:"action[]",actions:"action[]",transaction_extensions:"extensions_type[]"}},signed_transaction:{base:"transaction",fields:{signatures:"signature[]",context_free_data:"bytes[]"}},fields:"field_def[]",field_def:{fields:{name:"field_name",type:"type_name"}},asset:{fields:{amount:"share_type",sym:"symbol"}},producer_key:{fields:{producer_name:"account_name",block_signing_key:"public_key"}},producer_schedule:{fields:{version:"uint32",producers:"producer_key[]"}},chain_config:{fields:{target_block_size:"uint32",max_block_size:"uint32",target_block_acts_per_scope:"uint32",max_block_acts_per_scope:"uint32",target_block_acts:"uint32",max_block_acts:"uint32",real_threads:"uint64",max_storage_size:"uint64",max_transaction_lifetime:"uint32",max_authority_depth:"uint16",max_transaction_exec_time:"uint32",max_inline_depth:"uint16",max_inline_action_size:"uint32",max_generated_transaction_size:"uint32"}},type_def:{base:"",fields:{new_type_name:"type_name",type:"type_name"}},struct_def:{base:"",fields:{name:"type_name",base:"type_name",fields:"field_def[]"}},clause_pair:{base:"",fields:{id:"string",body:"string"}},error_message:{base:"",fields:{error_code:"uint64",error_msg:"string"}},abi_def:{base:"",fields:{version:"string",types:"type_def[]",structs:"struct_def[]",actions:"action_def[]",tables:"table_def[]",ricardian_clauses:"clause_pair[]",error_messages:"error_message[]",abi_extensions:"extensions_type[]"}},table_def:{base:"",fields:{name:"table_name",index_type:"type_name",key_names:"field_name[]",key_types:"type_name[]",type:"type_name"}},action:{base:"",fields:{account:"account_name",name:"action_name",authorization:"permission_level[]",data:"bytes"}},action_def:{base:"",fields:{name:"action_name",type:"type_name",ricardian_contract:"string"}},block_header:{base:"",fields:{previous:"checksum256",timestamp:"timestamp",transaction_mroot:"checksum256",action_mroot:"checksum256",block_mroot:"checksum256",producer:"account_name",schedule_version:"uint32",new_producers:"producer_schedule?"}},packed_transaction:{fields:{signatures:"signature[]",compression:"uint8",packed_context_free_data:"bytes",packed_trx:"bytes"}},nonce:{action:{name:"nonce",account:"eosio.null"},fields:{value:"string"}}}},h61r:function(t,e){t.exports={get_currency_balance:{params:{code:"name",account:"name",symbol:"optional<string>"},results:"asset[]"},get_currency_stats:{params:{code:"name",symbol:"string"},results:{supply:"asset",max_supply:"asset",issuer:"account_name"}},get_producers:{brief:"Fetch smart contract data from producer.",params:{json:{type:"bool",default:!1},lower_bound:"string",limit:{type:"uint32",default:"10"}},results:{rows:{type:"vector",doc:"one row per item, either encoded as hex String or JSON object"},total_producer_vote_weight:{type:"float64",doc:"total vote"},more:{type:"string",doc:"fill lower_bound with this value to fetch more rows"}}},get_info:{brief:"Return general network information.",params:null,results:{server_version:"string",head_block_num:"uint32",last_irreversible_block_num:"uint32",last_irreversible_block_id:"block_id",head_block_id:"block_id",head_block_time:"time_point_sec",head_block_producer:"account_name",virtual_block_cpu_limit:"uint64",virtual_block_net_limit:"uint64",block_cpu_limit:"uint64",block_net_limit:"uint64"}},get_block:{brief:"Fetch a block from the blockchain.",params:{block_num_or_id:"string"},results:"variant",errors:{"unknown block":null}},get_block_header_state:{brief:"Fetch the minimum state necessary to validate transaction headers.",params:{block_num_or_id:"string"},results:"variant",errors:{block_id_type_exception:"Invalid block ID",unknown_block_exception:"Could not find reversible block"}},get_account:{brief:"Fetch a blockchain account",params:{account_name:"name"},results:{account_name:"name",privileged:"bool",last_code_update:"time_point",created:"time_point",ram_quota:"int64",net_weight:"int64",cpu_weight:"int64",net_limit:"int64",cpu_limit:"int64",ram_usage:"int64",permissions:"vector<permission>",total_resources:"variant",self_delegated_bandwidth:"variant",voter_info:"variant"}},get_code:{brief:"Fetch smart contract code",params:{account_name:"name"},results:{account_name:"name",wast:"string",code_hash:"sha256",abi:"optional<abi_def>"}},get_table_rows:{brief:"Fetch smart contract data from an account.",params:{json:{type:"bool",default:!1},code:"name",scope:"name",table:"name",table_key:"string",lower_bound:{type:"string",default:"0"},upper_bound:{type:"string",default:"-1"},limit:{type:"uint32",default:"10"}},results:{rows:{type:"vector",doc:"one row per item, either encoded as hex String or JSON object"},more:{type:"bool",doc:"true if last element"}}},get_abi:{params:{account_name:"name"},results:{account_name:"name",abi:"abi_def?"}},abi_json_to_bin:{brief:"Manually serialize json into binary hex.  The binayargs is usually stored in Action.data.",params:{code:"name",action:"name",args:"bytes"},results:{binargs:"bytes"}},abi_bin_to_json:{brief:"Convert bin hex back into Abi json definition.",params:{code:"name",action:"name",binargs:"bytes"},results:{args:"bytes",required_scope:"name[]",required_auth:"name[]"}},get_required_keys:{params:{transaction:"transaction",available_keys:"set[public_key]"},results:"Set[public_key]"},push_block:{brief:"Append a block to the chain database.",params:{block:"signed_block"},results:null},push_transaction:{brief:"Attempts to push the transaction into the pending queue.",params:{signed_transaction:"signed_transaction"},results:{transaction_id:"fixed_bytes32",processed:"bytes"}},push_transactions:{brief:"Attempts to push transactions into the pending queue.",params:{"signed_transaction[]":"signed_transaction"},results:"vector[push_transaction.results]"}}},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1e8a1ced7885b9c9f42e.js.map