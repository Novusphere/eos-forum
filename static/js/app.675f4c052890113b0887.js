webpackJsonp([13],{"+loF":function(t,e,n){t.exports=n("CVma")},0:function(t,e){},"05Ij":function(t,e){t.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}},1:function(t,e){},"1QQ/":function(t,e){t.exports={_args:[["bigi@1.4.2","C:\\Users\\root\\Desktop\\Work\\Github\\eos-forum"]],_from:"bigi@1.4.2",_id:"bigi@1.4.2",_inBundle:!1,_integrity:"sha1-nGZalfiLiwj8Bc/XMfVhhZ1yWCU=",_location:"/bigi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"bigi@1.4.2",name:"bigi",escapedName:"bigi",rawSpec:"1.4.2",saveSpec:null,fetchSpec:"1.4.2"},_requiredBy:["/ecurve","/eosjs-ecc"],_resolved:"https://registry.npmjs.org/bigi/-/bigi-1.4.2.tgz",_spec:"1.4.2",_where:"C:\\Users\\root\\Desktop\\Work\\Github\\eos-forum",bugs:{url:"https://github.com/cryptocoinjs/bigi/issues"},dependencies:{},description:"Big integers.",devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},homepage:"https://github.com/cryptocoinjs/bigi#readme",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],main:"./lib/index.js",name:"bigi",repository:{url:"git+https://github.com/cryptocoinjs/bigi.git",type:"git"},scripts:{"browser-test":"mochify --wd -R spec",coverage:"istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info",jshint:"jshint --config jshint.json lib/*.js ; true",test:"_mocha -- test/*.js",unit:"mocha"},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]},version:"1.4.2"}},"1eOM":function(t,e,n){"use strict";var r=n("d7EF"),a=n.n(r),i=n("Zrlr"),o=n.n(i),s=n("wxAW"),u=n.n(s),c=n("HKE2"),f=n.n(c),l=n("7t+N"),p=n.n(l);n.d(e,"a",function(){return y});var d=["A","B","BLOCKQUOTE","CODE","DEL","DD","DL","EM","H1","H2","H3","H4","I","IMG","KBD","LI","OL","P","PRE","S","SUP","SUB","STRONG","STRIKE","UL","BR","HR","#text","U","DIV","FIGURE","CENTER"],h=new RegExp("javascript","i"),m=new RegExp("vbscript","i"),_=new RegExp("data","i"),y=function(){function t(e,n){o()(this,t),this.text=(e||"").replace(/&#x200B;/g,""),this.html="",this.attachments=[],(void 0==n||n>=1538136731)&&(this.useTwitter=!0),this._generateHtml(),this._postProcess()}return u()(t,[{key:"_generateHtml",value:function(){var t,e,n=this,r=[];this.useTwitter&&r.push((t=function(t){return' <a href="'+n._getPre+"/u/"+t.trim().substring(1)+'">'+t+"</a>"},e=function(t){return' <a href="'+n._getPre+"/tag/"+t+'">#'+t+"</a>"},function(){return[{type:"lang",regex:"(^|\\s)([@][a-z1-5\\.]+)",replace:function(e,n,r){return"\\"===n?e:t(r)}},{type:"lang",regex:"(^|\\s)#([a-zA-Z0-9_-]+)\\b",replace:function(t,n,r){return"\\"===n||"/"==n?t:e(r)}}]}));var a=new f.a.Converter({extensions:r,simplifiedAutoLink:!0,requireSpaceBeforeHeadingText:!!this.useTwitter});this.html=a.makeHtml(this.text)}},{key:"_postProcess",value:function(){for(var t=p.a.parseHTML(this.html),e="",n=0;n<t.length;n++)e+=this._strip(t[n]);this.html=e}},{key:"_safeAttribute",value:function(t){return!t||0!=t.search(h)&&0!=t.search(m)&&0!=t.search(_)?t:"javascript:void(0)"}},{key:"_strip",value:function(t){if(t.children)for(var e=0;e<t.children.length;e++)this._strip(t.children[e]);if("SCRIPT"==t.nodeName&&(t.innerHTML=""),"SPAN"==t.nodeName){if("mention"===a()(t.classList,1)[0]){var n=this._safeAttribute(t.getAttribute("data-mention-id"));n&&(t.outerHTML='<a href="'+this._getPre+"/u/"+n+'">@'+n+"</a>")}}else if(-1==d.indexOf(t.nodeName)){"IFRAME"==t.nodeName&&this.attachments.push({value:this._safeAttribute(t.getAttribute("src")),width:this._safeAttribute(t.getAttribute("width")),height:this._safeAttribute(t.getAttribute("height")),display:"iframe",type:"url"});for(e=0;e<t.attributes.length;e++)t.attributes[e].value="";t.innerHTML="",t.style="display: none;"}if(t.attributes)for(e=0;e<t.attributes.length;e++)t.attributes[e].value=this._safeAttribute(t.attributes[e].value);return t.outerHTML?t.outerHTML:""}},{key:"_getPre",get:function(){return"hash"==window.__ROUTER_MODE__?"\\#":""}}]),t}()},2:function(t,e){},"2A92":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WALLET_SUPPORT=e.BLOCKCHAIN_SUPPORT=void 0;e.BLOCKCHAIN_SUPPORT="blockchain_support";e.WALLET_SUPPORT="wallet_support"},"3hxE":function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},"56q8":function(t,e,n){var r=n("Y8zU"),a=n("RgJ4"),i=n("oemA").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,a.call(this,64,56)}function c(t){return t<<5|t>>>27}function f(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,a=0|this._b,i=0|this._c,s=0|this._d,u=0|this._e,p=0;p<16;++p)n[p]=t.readInt32BE(4*p);for(;p<80;++p)n[p]=(e=n[p-3]^n[p-8]^n[p-14]^n[p-16])<<1|e>>>31;for(var d=0;d<80;++d){var h=~~(d/20),m=c(r)+l(h,a,i,s)+u+n[d]+o[h]|0;u=s,s=i,i=f(a),a=r,r=m}this._a=r+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=i.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},"6CDh":function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},"6ZSt":function(t,e){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"8SOI":function(t,e,n){var r=n("Y8zU"),a=n("noOW"),i=n("RgJ4"),o=n("oemA").Buffer,s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}r(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},"95tX":function(t,e,n){"use strict";var r=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=r(n("+loF")),o=r(n("tlMJ")),s=r(n("Bt1D")),u=r(n("wUzc")),c=r(n("F977")),f=r(n("qjdW")),l=r(n("K9Cb")),p=r(n("HQWO")),d=r(n("Yt76")),h=r(n("SwCO")),m=null,_=!1,y=!1,b=[],v=function(t){return(0,d.default)("sha256").update(t).digest("hex")},g=function(){var t=new Uint8Array(24);return(0,p.default)(t),t.join("")},w=function(){var t;return"www."===(t="undefined"==typeof location?a:location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:a).substr(0,4)&&(t=t.replace("www.","")),t},k=l.default.getAppKey();k||(k="appkey:"+g());var x=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;null===t&&null===e?m.send("40/scatter"):m.send("42/scatter,"+JSON.stringify([t,e]))},E=null,S=function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return new Promise(function(e,n){E={resolve:e,reject:n},x("pair",{data:{appkey:k,origin:w(),passthrough:t},plugin:a})})},A={},j=function(){function t(){(0,c.default)(this,t)}return(0,f.default)(t,null,[{key:"init",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6e4;a=t,this.timeout=e}},{key:"getOrigin",value:function(){return w()}},{key:"addEventHandler",value:function(t,e){e||(e="app"),A[e]=t}},{key:"removeEventHandler",value:function(t){t||(t="app"),delete A[t]}},{key:"link",value:function(){var t=this;return Promise.race([new Promise(function(e){return setTimeout(function(){_||(e(!1),m&&(m.disconnect(),m=null))},t.timeout)}),new Promise(function(){var t=(0,u.default)(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){m.onmessage=function(a){if(-1===a.data.indexOf("42/scatter"))return!1;var i=JSON.parse(a.data.replace("42/scatter,","")),o=(0,s.default)(i,2),u=o[0],c=o[1];return"paired"===u?t(c):"rekey"===u?e():"api"===u?n(c):"event"===u?r(c):void 0};var t=function(t){if(y=t){var e=l.default.getAppKey(),n=-1<k.indexOf("appkey:")?v(k):k;e&&e===n||(l.default.setAppKey(n),k=l.default.getAppKey())}E.resolve(t)},e=function(){k="appkey:"+g(),x("rekeyed",{data:{appkey:k,origin:w()},plugin:a})},n=function(t){var e=b.find(function(e){return e.id===t.id});e&&(b=b.filter(function(e){return e.id!==t.id}),"object"===(0,o.default)(t.result)&&null!==t.result&&t.result.hasOwnProperty("isError")?e.reject(t.result):e.resolve(t.result))},r=function(t){var e=t.event,n=t.payload;Object.keys(A).length&&Object.keys(A).map(function(t){A[t](e,n)})}},r=function(){var t,a=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;i||(t=new Promise(function(t){return i=t}));var o=a?"local.get-scatter.com:50006":"127.0.0.1:50005",s="".concat(a?"wss://":"ws://").concat(o).concat("/socket.io/?EIO=3&transport=websocket"),u=new h.default(s);return u.onerror=function(){a?r(!1,i):(e(!1),i(!1))},u.onopen=function(){m=u,x(),clearTimeout(null),_=!0,S(!0).then(function(){e(!0),i(!0)}),n()},t},t.next=4,r();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())])}},{key:"isConnected",value:function(){return _}},{key:"isPaired",value:function(){return y}},{key:"disconnect",value:function(){return m&&m.close(),!0}},{key:"removeAppKeys",value:function(){l.default.removeAppKey(),l.default.removeNonce()}},{key:"sendApiRequest",value:function(t){return new Promise(function(e,n){return"identityFromPermissions"!==t.type||y?void S().then(function(){if(!y)return n({code:"not_paired",message:"The user did not allow this app to connect to their Scatter"});t.id=g(),t.appkey=k,t.nonce=l.default.getNonce()||0;var r=g();t.nextNonce=v(r),l.default.setNonce(r),t.hasOwnProperty("payload")&&!t.payload.hasOwnProperty("origin")&&(t.payload.origin=w()),b.push(Object.assign(t,{resolve:e,reject:n})),x("api",{data:t,plugin:a})}):e(!1)})}}]),t}();e.default=j},"9M+g":function(t,e){},Bt1D:function(t,e,n){var r=n("6CDh"),a=n("kj/Q"),i=n("YyOw");t.exports=function(t,e){return r(t)||a(t,e)||i()}},CVma:function(t,e,n){var r=function(){return this}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n("dgxz"),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},DQRy:function(t,e){t.exports={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}]}},F977:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},FU6D:function(t,e,n){"use strict";var r=n("eBll"),a=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"SocketService",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Plugin",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Blockchains",{enumerable:!0,get:function(){return d.Blockchains}}),Object.defineProperty(e,"Network",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"WalletInterface",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"WALLET_METHODS",{enumerable:!0,get:function(){return m.WALLET_METHODS}}),e.PluginTypes=e.default=e.EVENTS=void 0;var i=a(n("+loF")),o=a(n("wUzc")),s=a(n("F977")),u=a(n("qjdW")),c=a(n("XIJb")),f=a(n("95tX")),l=a(n("Zi8E")),p=r(n("2A92"));e.PluginTypes=p;var d=n("pAFz"),h=a(n("e8la")),m=r(n("Icvs")),_=a(n("KF7Q")),y=a(n("ItGx")),b=a(n("UoWS")),v={Disconnected:"dced",LoggedOut:"logout"};e.EVENTS=v;f.default;var g=[],w={},k=function(){function t(){(0,s.default)(this,t),this.identity=null,this.network=null,c.default.loadPlugin(new _.default(this,w)),c.default.loadPlugin(new y.default(this,w))}return(0,u.default)(t,[{key:"loadPlugin",value:function(t){if(!t.isValid())throw new Error("".concat(t.name," doesn't seem to be a valid ScatterJS plugin."));c.default.loadPlugin(t),t.type===p.BLOCKCHAIN_SUPPORT&&(this[t.name]=t.signatureProvider(function(){if(!w.get().identity)throw new Error("No Identity")},function(){return w.get().identity}),this[t.name+"Hook"]=t.hookProvider,g.push(t.setSocketService)),t.type===p.WALLET_SUPPORT&&t.init(this,w,g)}},{key:"connect",value:function(){var t=(0,o.default)(i.default.mark(function t(e,n){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n||(n={}),this.network=n.hasOwnProperty("network")?n.network:null,r=c.default.wallets(),t.next=5,Promise.race(r.map(function(t){return t.connect(e,n).then((0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t.runBeforeInterfacing){e.next=3;break}return e.next=3,t.runBeforeInterfacing();case 3:if(new m.default(t.name,t.methods(),w.get()),"function"!=typeof t.runAfterInterfacing){e.next=7;break}return e.next=7,t.runAfterInterfacing();case 7:return m.default.bindBasics(w.get()),e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})))}).concat(new Promise(function(t){return setTimeout(function(){return t(!1)},n.initTimeout||5e3)})));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),x=new Proxy(new(function(){function t(e){(0,s.default)(this,t),this.scatter=e}return(0,u.default)(t,[{key:"plugins",value:function(){var t=this;if(!this.scatter.isExtension){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.map(function(e){return t.scatter.loadPlugin(e)})}}},{key:"connect",value:function(){var t;return(t=this.scatter).connect.apply(t,arguments)}},{key:"catchAll",value:function(){}}]),t}())(new k),{get:function(t,e){return void 0===t[e]?t.scatter[e]:t[e]}});w.set=function(t){return x.scatter=t},w.get=function(){return x.scatter},"undefined"!=typeof window&&(window.ScatterJS=x),x.Plugin=l.default,x.PluginTypes=p,x.Blockchains=d.Blockchains,x.Network=h.default,x.Token=b.default,x.SocketService=f.default,x.EVENTS=v,x.WalletInterface=m.default,x.WALLET_METHODS=m.WALLET_METHODS;var E=x;e.default=E},"H9r/":function(t,e){t.exports={version:"eosio::abi/1.1",structs:[{name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}]}},HQWO:function(t,e,n){var r=n("R79U"),a=n(2);t.exports=function(t){if(r.crypto&&r.crypto.getRandomValues)return r.crypto.getRandomValues(t);if("object"==typeof r.msCrypto&&"function"==typeof r.msCrypto.getRandomValues)return r.msCrypto.getRandomValues(t);if(a.randomBytes){if(!(t instanceof Uint8Array))throw new TypeError("expected Uint8Array");if(t.length>65536){var e=new Error;throw e.code=22,e.message="Failed to execute 'getRandomValues' on 'Crypto': The ArrayBufferView's byte length ("+t.length+") exceeds the number of bytes of entropy available via this API (65536).",e.name="QuotaExceededError",e}var n=a.randomBytes(t.length);return t.set(n),t}throw new Error("No secure random number generator available.")}},Icvs:function(t,e,n){"use strict";var r=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.WALLET_METHODS=void 0;var a,i=r(n("F977")),o=r(n("qjdW")),s=r(n("lsuE")),u={disconnect:"disconnect",isConnected:"isConnected",isPaired:"isPaired",addEventHandler:"addEventHandler",removeEventHandler:"removeEventHandler",listen:"listen",getVersion:"getVersion",getIdentity:"getIdentity",getIdentityFromPermissions:"getIdentityFromPermissions",forgetIdentity:"forgetIdentity",updateIdentity:"updateIdentity",authenticate:"authenticate",getArbitrarySignature:"getArbitrarySignature",getPublicKey:"getPublicKey",linkAccount:"linkAccount",hasAccountFor:"hasAccountFor",suggestNetwork:"suggestNetwork",requestTransfer:"requestTransfer",requestSignature:"requestSignature",createTransaction:"createTransaction",addToken:"addToken"};e.WALLET_METHODS=u;var c=(a={},(0,s.default)(a,u.getIdentity,"login"),(0,s.default)(a,u.forgetIdentity,"logout"),(0,s.default)(a,u.getIdentityFromPermissions,"checkLogin"),a),f=function(){function t(e,n,r){(0,i.default)(this,t);var a=function(t){return function(){throw new Error("".concat(e," does not support the ").concat(t," method."))}};Object.keys(u).map(function(t){return function(t,e){void 0===r[e]&&(r[e]=t||a(e)),c[e]&&void 0===r[c[e]]&&(r[c[e]]=r[e]?r[e]:a(e))}(n[t],t)})}return(0,o.default)(t,null,[{key:"bindBasics",value:function(t){t.account=function(e){return t.identity&&t.identity.accounts?t.identity.accounts.find(function(t){return t.blockchain===e}):void 0}}}]),t}();e.default=f},ItGx:function(t,e,n){"use strict";var r=n("eBll"),a=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("lsuE")),o=a(n("F977")),s=a(n("qjdW")),u=a(n("VojR")),c=a(n("tv1K")),f=a(n("jhNH")),l=a(n("+loF")),p=a(n("wUzc")),d=r(n("2A92")),h=a(n("Zi8E")),m=n("pAFz"),_=r(n("Icvs")),y=(a(n("95tX")),!1);"undefined"!=typeof window&&"undefined"!=typeof document&&document.addEventListener("scatterLoaded",function(){return y=!0});var b=function(){var t=(0,p.default)(l.default.mark(function t(){var e,n,r=arguments;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<r.length&&void 0!==r[0]?r[0]:null,n=1<r.length&&void 0!==r[1]?r[1]:0,t.abrupt("return",new Promise(function(t){return e||(e=t),y?e(!0):5<n?e(!1):void setTimeout(function(){return b(e,n+1)},100)}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),v=function(t){function e(t,n){var r;return(0,o.default)(this,e),(r=(0,u.default)(this,(0,c.default)(e).call(this,m.Blockchains.EOS,d.WALLET_SUPPORT))).name="ScatterExtension",r.context=t,r.holderFns=n,r}return(0,f.default)(e,t),(0,s.default)(e,[{key:"connect",value:function(){var t=(0,p.default)(l.default.mark(function t(){var e=this;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=(0,p.default)(l.default.mark(function t(n){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:t.sent&&(!e.holderFns.get().wallet&&(e.holderFns.get().wallet=e.name),n(!0));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"runBeforeInterfacing",value:function(){var t=(0,p.default)(l.default.mark(function t(){var e,n,r,a,i=this;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this.context.network)&&(n=window.scatter.getIdentity.bind(window.scatter),r=window.scatter.useIdentity.bind(window.scatter),window.scatter.getIdentity=function(t){return n(t||{accounts:[e]}).then(function(t){return i.holderFns.get().identity=t,r(t),t})},a=window.scatter.suggestNetwork.bind(window.scatter),window.scatter.suggestNetwork=function(t){return a(t||e)}),this.holderFns.get().wallet===this.name&&(window.scatter.wallet=this.name),this.holderFns.set(window.scatter),this.context=this.holderFns.get(),t.abrupt("return",!0);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"runAfterInterfacing",value:function(){var t=(0,p.default)(l.default.mark(function t(){return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.context.isExtension=!0,this.context.connect=this.connect,t.abrupt("return",!0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"methods",value:function(){return(0,i.default)({},_.WALLET_METHODS.getIdentity,function(){console.log("getid")})}}]),e}(h.default);e.default=v},JDRS:function(t,e){t.exports={version:"eosio::abi/1.1",structs:[{name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}]}},Jmt5:function(t,e){},K9Cb:function(t,e,n){"use strict";var r=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("F977")),i=r(n("qjdW")),o={},s=function(){return"undefined"==typeof window?{localStorage:{setItem:function(t,e){return o[t]=e},getItem:function(t){return o[t]||null},removeItem:function(t){return delete o[t]}}}:window},u=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,null,[{key:"setAppKey",value:function(t){s().localStorage.setItem("appkey",t)}},{key:"getAppKey",value:function(){return s().localStorage.getItem("appkey")}},{key:"removeAppKey",value:function(){return s().localStorage.removeItem("appkey")}},{key:"setNonce",value:function(t){s().localStorage.setItem("nonce",t)}},{key:"getNonce",value:function(){return s().localStorage.getItem("nonce")}},{key:"removeNonce",value:function(){return s().localStorage.removeItem("nonce")}}]),t}();e.default=u},KF7Q:function(t,e,n){"use strict";var r=n("eBll"),a=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("lsuE")),o=a(n("+loF")),s=a(n("wUzc")),u=a(n("F977")),c=a(n("qjdW")),f=a(n("VojR")),l=a(n("tv1K")),p=a(n("jhNH")),d=a(n("Zi8E")),h=n("pAFz"),m=r(n("2A92")),_=a(n("95tX")),y=n("FU6D"),b=function(t){function e(t,n){var r;return(0,u.default)(this,e),(r=(0,f.default)(this,(0,l.default)(e).call(this,h.Blockchains.EOS,m.WALLET_SUPPORT))).name="ScatterSockets",r.context=t,r.holderFns=n,r}return(0,p.default)(e,t),(0,c.default)(e,[{key:"connect",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r){if(!t||!t.length)throw new Error("You must specify a name for this connection");n=Object.assign({initTimeout:1e4,linkTimeout:3e4},n),_.default.init(t,n.linkTimeout),_.default.link().then(function(){var t=(0,s.default)(o.default.mark(function t(n){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!1);case 2:return e.holderFns.get().isExtension=!1,e.holderFns.get().wallet||(e.holderFns.get().wallet=e.name),t.abrupt("return",r(!0));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}())})}},{key:"runAfterInterfacing",value:function(){var t=(0,s.default)(o.default.mark(function t(){var e=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.holderFns.get().addEventHandler(function(t,n){return e.eventHandler(t,n)},"internal"),t.next=3,this.holderFns.get().getIdentityFromPermissions();case 3:return this.holderFns.get().identity=t.sent,t.abrupt("return",!0);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"methods",value:function(){var t,e=this,n=function(t,n){return(t||n)&&(e.holderFns.get().identity=t),n||t};return t={},(0,i.default)(t,y.WALLET_METHODS.disconnect,function(){return _.default.disconnect()}),(0,i.default)(t,y.WALLET_METHODS.isConnected,function(){return _.default.isConnected()}),(0,i.default)(t,y.WALLET_METHODS.isPaired,function(){return _.default.isPaired()}),(0,i.default)(t,y.WALLET_METHODS.addEventHandler,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return _.default.addEventHandler(t,e)}),(0,i.default)(t,y.WALLET_METHODS.removeEventHandler,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return _.default.removeEventHandler(t)}),(0,i.default)(t,y.WALLET_METHODS.listen,function(t){return _.default.addEventHandler(t)}),(0,i.default)(t,y.WALLET_METHODS.getVersion,function(){return _.default.sendApiRequest({type:"getVersion",payload:{}})}),(0,i.default)(t,y.WALLET_METHODS.getIdentity,function(t){return _.default.sendApiRequest({type:"getOrRequestIdentity",payload:{fields:t||{accounts:[e.holderFns.get().network]}}}).then(n)}),(0,i.default)(t,y.WALLET_METHODS.getIdentityFromPermissions,function(){return _.default.sendApiRequest({type:"identityFromPermissions",payload:{}}).then(n)}),(0,i.default)(t,y.WALLET_METHODS.forgetIdentity,function(){return _.default.sendApiRequest({type:"forgetIdentity",payload:{}}).then(function(t){return n(null,t)})}),(0,i.default)(t,y.WALLET_METHODS.updateIdentity,function(t){var e=t.name,r=t.kyc;return _.default.sendApiRequest({type:"updateIdentity",payload:{name:e,kyc:r}}).then(function(t){return t?n(t):null})}),(0,i.default)(t,y.WALLET_METHODS.authenticate,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return _.default.sendApiRequest({type:"authenticate",payload:{nonce:t,data:e,publicKey:n}})}),(0,i.default)(t,y.WALLET_METHODS.getArbitrarySignature,function(t,e){return _.default.sendApiRequest({type:"requestArbitrarySignature",payload:{publicKey:t,data:e}})}),(0,i.default)(t,y.WALLET_METHODS.getPublicKey,function(t){return _.default.sendApiRequest({type:"getPublicKey",payload:{blockchain:t}})}),(0,i.default)(t,y.WALLET_METHODS.linkAccount,function(t,n){return _.default.sendApiRequest({type:"linkAccount",payload:{account:t,network:n||e.holderFns.get().network}})}),(0,i.default)(t,y.WALLET_METHODS.hasAccountFor,function(t){return _.default.sendApiRequest({type:"hasAccountFor",payload:{network:t||e.holderFns.get().network}})}),(0,i.default)(t,y.WALLET_METHODS.suggestNetwork,function(t){return _.default.sendApiRequest({type:"requestAddNetwork",payload:{network:t||e.holderFns.get().network}})}),(0,i.default)(t,y.WALLET_METHODS.requestTransfer,function(t,n,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return _.default.sendApiRequest({type:"requestTransfer",payload:{network:t||e.holderFns.get().network,to:n,amount:r,options:a}})}),(0,i.default)(t,y.WALLET_METHODS.requestSignature,function(t){return _.default.sendApiRequest({type:"requestSignature",payload:t})}),(0,i.default)(t,y.WALLET_METHODS.createTransaction,function(t,n,r,a){return _.default.sendApiRequest({type:"createTransaction",payload:{blockchain:t,actions:n,account:r,network:a||e.holderFns.get().network}})}),(0,i.default)(t,y.WALLET_METHODS.addToken,function(t,n){return _.default.sendApiRequest({type:"addToken",payload:{token:t,network:n||e.holderFns.get().network}})}),t}},{key:"eventHandler",value:function(){var t=(0,s.default)(o.default.mark(function t(e){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===y.EVENTS.Disconnected?3:t.t0===y.EVENTS.LoggedOut?5:9;break;case 3:return this.holderFns.get().identity=null,t.abrupt("break",9);case 5:return t.next=7,this.holderFns.get().getIdentityFromPermissions();case 7:return this.holderFns.get().identity=t.sent,t.abrupt("break",9);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(d.default);e.default=b},L860:function(t,e,n){var r=n("oemA").Buffer,a=n("9DG0").Transform,i=n("X4X3").StringDecoder;function o(t){a.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n("Y8zU")(o,a),o.prototype.update=function(t,e,n){"string"==typeof t&&(t=r.from(t,e));var a=this._update(t);return this.hashMode?this:(n&&(a=this._toString(a,n)),a)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new i(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=o},M3Og:function(t,e){t.exports={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}]}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Xxa5"),a=n.n(r),i=n("exGp"),o=n.n(i),s=n("7+uW"),u=n("e6fC"),c=n.n(u),f={methods:{$_openPost:function(t,e,n){this.selectedPostID=t,this.oldRoute=this.$route.path,history.pushState({},"",window.__PRE_ROUTE__+"/e/"+e+"/"+t+"/"+n)},$_closePost:function(){this.selectedPostID=void 0,history.pushState({},"",""+window.__PRE_ROUTE__+this.oldRoute)}}},l=n("7t+N"),p=n.n(l),d=n("TsL6"),h=n("p6/X"),m=n("dpOi"),_=n("cS+J"),y=n("1e6/"),b=n("C/JF"),v=n("fhbW"),g=n("Yu89"),w=n("DfMW"),k=(n("Jmt5"),n("K3J8"),n("9M+g"),n("1eOM")),x={name:"ErrorModal",mounted:function(){var t=this;return o()(a.a.mark(function e(){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r=window.alert,window._alert=function(t){r(t)},window.alert=function(t,e){var r=new k.a(t);n.text=r.html,n.title=e&&e.title?e.title:"Error",n.text_class=e&&e.text_class?e.text_class:"text-alert",p()("#errorModal").modal(e)};case 4:case"end":return e.stop()}},e,t)}))()},methods:{},data:function(){return{text_class:"",title:"",text:""}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"errorModal"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"modal-body",staticStyle:{"word-wrap":"break-word"}},[n("div",{class:t.text_class+" text-center",domProps:{innerHTML:t._s(t.text)}})]),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("close")])])}]},S=n("VU/8")(x,E,!1,null,null,null).exports,A=n("//Fk"),j=n.n(A),O={name:"ConfirmModal",mounted:function(){var t=this;return o()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,window.confirm=function(){var t=o()(a.a.mark(function t(e,r,i){var o,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r&&r(n.setStatus),!0,n.text=e,(s=p()(".modal.show")).modal("hide"),p()("#confirmModal").modal({backdrop:"static",keyboard:!1});case 6:return t.next=8,new j.a(function(t){n.resolve=t});case 8:if(!(o=t.sent)||!i){t.next=17;break}return t.next=12,i();case 12:if(!t.sent){t.next=15;break}return t.abrupt("break",20);case 15:t.next=18;break;case 17:return t.abrupt("break",20);case 18:t.next=6;break;case 20:return p()("#confirmModal").modal("hide"),s.modal(),r&&r(null),t.abrupt("return",o);case 24:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}();case 2:case"end":return e.stop()}},e,t)}))()},methods:{setStatus:function(t){this.text=t}},data:function(){return{resolve:null,text:""}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"confirmModal"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"text-center"},[t._v("\n              "+t._s(t.text)+"\n          ")])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(e){return t.resolve(!0)}}},[t._v("ok")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.resolve(!1)}}},[t._v("cancel")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Confirm")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},$=n("VU/8")(O,T,!1,null,null,null).exports,P=n("aKUZ"),I={name:"UpvoteModal",mounted:function(){var t=this;return o()(a.a.mark(function e(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},computed:{upvotes:function(){return P.a.helpers.AtmosToUpvotes(this.atmos)}},methods:{upvote:function(){var t=this;return o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.actions.UpvotePaid(t.post,t.atmos);case 3:t.post.up=e.sent,p()("#upvoteModal").modal("hide"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.error=e.t0;case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},modal:function(t){this.post=t,this.atmos=P.a.helpers.UpvotesToAtmos(1),this.error="",p()("#upvoteModal").modal()}},data:function(){return{error:"",atmos:10,post:P.a.helpers.PlaceholderPost()}}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"upvoteModal"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("Upvote post by "+t._s(t.post.data.poster))]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"text-center"},[t._v("\n              You have already used your free up vote on this post, however, you can use your ATMOS to up vote it further.\n              Half of the ATMOS used to up vote this post will go to the poster and\n              the other half is send to novuspheredb account as a DAO fund.\n              If you are up voting your own post, the entire amount will be sent to the DAO fund.\n              Enter the amount of ATMOS you would like to use below.\n          ")]),t._v(" "),n("form",{staticClass:"mt-3"},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("ATMOS")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.atmos,expression:"atmos"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.atmos},on:{input:function(e){e.target.composing||(t.atmos=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Upvotes")]),t._v(" "),n("label",{staticClass:"col-sm-10 col-form-label"},[t._v(t._s(t.upvotes))])])]),t._v(" "),t.error?n("div",{staticClass:"text-center text-danger mt-3"},[n("p",[t._v(t._s(t.error))])]):t._e()]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.upvote()}}},[t._v("upvote")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("close")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},M={name:"App",components:{ErrorModal:S,ConfirmModal:$,UpvoteModal:n("VU/8")(I,B,!1,null,null,null).exports},mounted:function(){window._VueApp=this,screen.width<=600&&(this.$root.showSubs=!1),localStorage.getItem("preview")&&(this.$root.showPreview=JSON.parse(localStorage.getItem("preview")))},methods:{},computed:{},data:function(){return{}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("ErrorModal"),this._v(" "),e("ConfirmModal"),this._v(" "),e("UpvoteModal",{ref:"upvote"}),this._v(" "),e("router-view")],1)},staticRenderFns:[]},C=n("VU/8")(M,L,!1,null,null,null).exports,q=n("/ocq");s.default.use(q.a),window.__ROUTER_MODE__=window.__ROUTER_MODE__||"hash",window.__PRE_ROUTE__="hash"==window.__ROUTER_MODE__?"#":"";var R=new q.a({mode:window.__ROUTER_MODE__,routes:[{path:"/",name:"Index",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"lO7g"))}},{path:"/feed",name:"Feed",component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"aPTA"))}},{path:"/e/:sub?",name:"Sub",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"lO7g"))}},{path:"/e/:sub/new",name:"StartThread",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"tAW0"))}},{path:"/e/:sub/edit/:edit_id",name:"EditThread",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"tAW0"))}},{path:"/e/:sub/:id/:title?/:child_id?",name:"Thread",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"/NAZ"))}},{path:"/history/:id",name:"History",component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"yZHR"))}},{path:"/settings",name:"Settings",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"niH5"))}},{path:"/u/:account",name:"UserProfile",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"Xr79"))}},{path:"/tag/:tag",name:"Tag",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"99El"))}},{path:"/setID",name:"setID",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"VQcn"))}},{path:"/notifications",name:"UserNotifications",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"eu8N"))}},{path:"/test",name:"Test",component:function(){return n.e(6).then(n.bind(null,"ua3t"))}}]});R.beforeEach(function(t,e,n){window.scrollTo(0,0),n()});var N=R,F=n("p3jY"),z=n.n(F),D=n("AYPi"),U=n.n(D),W=n("T1ft"),H=n.n(W);window._jQuery=p.a,b.c.add(v.a),b.c.add(g.a),b.c.add(w.a),o()(a.a.mark(function t(){var e,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("history"!=window.__ROUTER_MODE__){t.next=4;break}if(!window.location.hash){t.next=4;break}return window.location.href=window.location.origin+window.location.hash.substring(1),t.abrupt("return");case 4:return s.default.component("v-select",H.a),s.default.component("font-awesome-icon",y.a),s.default.use(c.a),s.default.use(z.a),s.default.mixin(f),e={id:"UA-131745808-1",router:N},(n=document.getElementById("adBanner"))&&0!=n.clientHeight||(console.log("Ad-blocker detected"),window.__ANALYTICS__&&(e.customResourceURL=window.__ANALYTICS__)),s.default.use(U.a,e),s.default.config.productionTip=!1,t.next=16,Object(h.e)();case 16:return t.next=18,Object(d.b)();case 18:return t.next=20,Object(m.h)();case 20:return t.next=22,Object(_.a)();case 22:new s.default({el:"#app",router:N,components:{App:C},data:function(){return{icons:[],showSubs:!0,showPreview:!0,mode:"normal"}},template:"<App/>"});case 23:case"end":return t.stop()}},t,this)}))()},QpOM:function(t,e,n){var r=n("Y8zU"),a=n("RgJ4"),i=n("oemA").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,a.call(this,64,56)}function c(t){return t<<30|t>>>2}function f(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,a=0|this._b,i=0|this._c,s=0|this._d,u=0|this._e,l=0;l<16;++l)n[l]=t.readInt32BE(4*l);for(;l<80;++l)n[l]=n[l-3]^n[l-8]^n[l-14]^n[l-16];for(var p=0;p<80;++p){var d=~~(p/20),h=0|((e=r)<<5|e>>>27)+f(d,a,i,s)+u+n[p]+o[d];u=s,s=i,i=c(a),a=r,r=h}this._a=r+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=i.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},R79U:function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,n("DuR2"))},RBd3:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},RgJ4:function(t,e,n){var r=n("oemA").Buffer;function a(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}a.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,a=this._blockSize,i=t.length,o=this._len,s=0;s<i;){for(var u=o%a,c=Math.min(i-s,a-u),f=0;f<c;f++)n[u+f]=t[s+f];s+=c,(o+=c)%a==0&&this._update(n)}return this._len+=i,this},a.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,a=(n-r)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=a},RxpK:function(t,e,n){"use strict";var r=n("oemA").Buffer,a=n("9DG0").Transform;function i(t){a.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n("Y8zU")(i,a),i.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},i.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},i.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,a=0;this._blockOffset+t.length-a>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)n[i++]=t[a++];this._update(),this._blockOffset=0}for(;a<t.length;)n[this._blockOffset++]=t[a++];for(var o=0,s=8*t.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i},Ssp1:function(t,e,n){var r=n("Y8zU"),a=n("hcvs"),i=n("RgJ4"),o=n("oemA").Buffer,s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}r(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},SwCO:function(t,e,n){(function(e){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==e?n=e.WebSocket||e.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),t.exports=n}).call(e,n("DuR2"))},TsL6:function(t,e,n){"use strict";n.d(e,"a",function(){return k}),n.d(e,"e",function(){return x}),n.d(e,"c",function(){return A}),n.d(e,"b",function(){return v}),n.d(e,"d",function(){return S});var r,a,i=n("Xxa5"),o=n.n(i),s=n("woOf"),u=n.n(s),c=n("exGp"),f=n.n(c),l=n("mvHQ"),p=n.n(l),d=n("fZjL"),h=n.n(d),m=n("7t+N"),_=n.n(m),y=n("Dfrr"),b=n.n(y),v=(r=f()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.__PRESETS__&&window.__PRESETS__.storage&&(e=window.__PRESETS__.storage,k=_.a.extend(!0,k,e),e.subscribed_subs&&(k.subscribed_subs=e.subscribed_subs),u()(x,JSON.parse(p()(k)))),t.next=3,g();case 3:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),g=(a=f()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=window.localStorage.getItem("eosforum");try{E(JSON.parse(e))||(console.log("Failed to import/migrate storage"),console.log(e))}catch(t){console.log("Failed to load storage"),console.log(t)}if(x.anon_id.key){t.next=6;break}return t.next=5,b.a.randomKey();case 5:x.anon_id.key=t.sent;case 6:A();case 7:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),w=1e3,k={version:18,eos_referendum:!0,subscribed_subs:["all","novusphere","eos","anon-r-eos","anon-pol-econ"],unsubscribed_subs:[],following:[],new_posts:{},last_notification:0,moderation:{hide_spam_threads:!0,mods:[],accounts:[],transactions:[]},accountstate:{},anon_id:{name:"",key:""},settings:{atmos_upvotes:!0,scatter_timeout:3e3,theme:"https://eos-forum.org/static/css/theme/day.css",novusphere_api:"https://db.novusphere.io",eos_api:{host:"eos.greymass.com",port:"443",protocol:"https"}}},x=_.a.extend(!0,{},k);function E(t){for(;t.version<x.version;)t.version<5?t.subscribed_subs=x.subscribed_subs:t.version<7?t.settings=x.settings:t.version<8?t.settings.atmos_upvotes=x.settings.atmos_upvotes:t.version<9?t.settings.scatter_timeout=x.settings.scatter_timeout:t.version<11?t.settings.theme=x.settings.theme:t.version<12?t.eos_referendum=x.eos_referendum:t.version<13?t.moderation=x.moderation:t.version<14?t.moderation.hide_spam_threads=x.moderation.hide_spam_threads:t.version<15?t.anon_id=x.anon_id:t.version<16?t.accountstate={}:t.version<17?t.unsubscribed_subs=[]:t.version<18&&(t.following=[]),t.version++;return t.version>=x.version?(x=t,S(),x.following=x.following.filter(function(t){return t}),console.log("Loaded storage version "+x.version),!0):(console.log("Loaded storage failed"),!1)}function S(){for(var t=0;t<k.subscribed_subs.length;t++){var e=k.subscribed_subs[t];x.subscribed_subs.includes(e)||x.unsubscribed_subs.includes(e)||x.subscribed_subs.push(e)}x.subscribed_subs=x.subscribed_subs.sort()}function A(){var t=h()(x.new_posts);if(t.length>w)for(var e=w-t.length,n=0;n<e;n++)delete x.new_posts[t[n]];window.localStorage.setItem("eosforum",p()(x))}window.__getStorage=function(){return x},window.__saveStorage=function(){A()},window.__forgetStorage=function(){window.localStorage.setItem("eosforum",""),window.location.reload()},window.__forgetSettings=function(){x.settings=k.settings,A(),window.location.reload()}},UoWS:function(t,e,n){"use strict";var r=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("F977")),i=r(n("qjdW")),o=n("pAFz"),s=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.Blockchains.EOS,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;(0,a.default)(this,t),this.blockchain=e,this.contract=n,this.symbol=r,this.name=i||r,this.decimals=s}return(0,i.default)(t,null,[{key:"placeholder",value:function(){return new t}},{key:"fromJson",value:function(t){return Object.assign(this.placeholder(),t)}}]),t}();e.default=s},VojR:function(t,e,n){var r=n("tlMJ"),a=n("RBd3");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}},XIJb:function(t,e,n){"use strict";var r=n("eBll"),a=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("+loF")),o=a(n("wUzc")),s=a(n("F977")),u=a(n("qjdW")),c=r(n("2A92")),f=new(function(){function t(){(0,s.default)(this,t),this.plugins=[]}return(0,u.default)(t,[{key:"loadPlugin",value:function(t){this.plugin(t.name)||this.plugins.push(t)}},{key:"wallets",value:function(){return this.plugins.filter(function(t){return t.type===c.WALLET_SUPPORT})}},{key:"signatureProviders",value:function(){return this.plugins.filter(function(t){return t.type===c.BLOCKCHAIN_SUPPORT})}},{key:"supportedBlockchains",value:function(){return this.signatureProviders().map(function(){return name})}},{key:"plugin",value:function(t){return this.plugins.find(function(e){return e.name===t})}},{key:"endorsedNetworks",value:function(){var t=(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.signatureProviders().map(function(){var t=(0,o.default)(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getEndorsedNetwork();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}());e.default=f},Y8zU:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},Yt76:function(t,e,n){"use strict";var r=n("Y8zU"),a=n("qkGk"),i=n("cLy/"),o=n("njjI"),s=n("L860");function u(t){s.call(this,"digest"),this._hash=t}r(u,s),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new a:"rmd160"===t||"ripemd160"===t?new i:new u(o(t))}},YyOw:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},ZgIz:function(t,e){t.exports={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}]}},Zi8E:function(t,e,n){"use strict";var r=n("eBll"),a=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("F977")),o=a(n("qjdW")),s=r(n("2A92")),u=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";(0,i.default)(this,t),this.name=e,this.type=n}return(0,o.default)(t,[{key:"isSignatureProvider",value:function(){return this.type===s.BLOCKCHAIN_SUPPORT}},{key:"isValid",value:function(){return Object.keys(s).map(function(t){return s[t]}).includes(this.type)}}],[{key:"placeholder",value:function(){return new t}},{key:"fromJson",value:function(e){return Object.assign(t.placeholder(),e)}}]),t}();e.default=u},aKUZ:function(t,e,n){"use strict";var r,a,i,o=n("Xxa5"),s=n.n(o),u=n("exGp"),c=n.n(u),f=n("aW/X"),l=n("dpOi"),p=n("TsL6"),d=n("luBh"),h=n("dXij"),m=n.n(h),_=n("wh04"),y=n("dYGJ"),b=n("p6/X"),v=function(){var t=c()(s.a.mark(function t(e,n){var r,a,i,o,u,c,l,p,d;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),r=Object(f.a)(),a={name:"propose",createdAt:{$gte:1547183719}},i={from:"eosforum",let:{proposal_name:"$data.proposal_name",createdAt:"$createdAt"},pipeline:[{$match:{name:"clnproposal"}},{$project:{txid:"$transaction",test:{$and:[{$eq:["$data.proposal_name","$$proposal_name"]},{$gte:["$createdAt","$$createdAt"]}]}}},{$match:{test:!0}}],as:"expired"},(new Date).getTime()/1e3,o={"expired.0":{$exists:"old"==n}},t.next=8,r.api({aggregate:"eosforum",maxTimeMS:7500,cursor:{},pipeline:[{$match:a},{$lookup:i},{$match:o},{$count:"n"}]});case 8:return u=(u=t.sent.cursor.firstBatch[0])?u.n:0,c=Math.ceil(u/b.f),t.next=13,r.api({aggregate:"eosforum",maxTimeMS:7500,cursor:{},pipeline:[{$match:a},{$lookup:i},{$match:o},{$sort:r.query.sort.time()},{$skip:r.query.skip.page(e,b.f)},{$limit:b.f},{$lookup:r.query.lookup.threadReplies(!0)},{$project:r.query.project.post({total_replies:!0})}]});case 13:l=t.sent.cursor.firstBatch,new Date,p=0;case 16:if(!(p<l.length)){t.next=24;break}return d=new y.a(l[p]),t.next=20,d.normalize();case 20:l[p]=d;case 21:p++,t.next=16;break;case 24:return t.abrupt("return",{sub:"referendum",posts:l,pages:c,current_page:e});case 25:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=c()(s.a.mark(function t(e,n,r){var a,i,o,u,c,d,h,g,w,k,x,E,S;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((new Date).getTime(),!n||"referendum"!=n.toLowerCase()){t.next=3;break}return t.abrupt("return",v(e,r));case 3:if(e=parseInt(e||1),n||(n=p.e.subscribed_subs),a=Object(f.a)(),!p.e.moderation.hide_spam_threads){t.next=12;break}return t.next=9,_.a.getBlockedAccounts();case 9:t.t0=t.sent,t.next=13;break;case 12:t.t0=[];case 13:return i=t.t0,t.next=16,a.api({count:a.config.collection_forum,maxTimeMS:7500,query:a.query.match.threadsBySub(n,i)});case 16:return o=t.sent.n,u=Math.ceil(o/b.f),t.next=20,Object(l.f)();case 20:return c=t.sent,t.next=23,a.api({aggregate:a.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:a.query.match.threadsBySub(n,i)},{$lookup:a.query.lookup.postState()},{$project:a.query.project.post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:r},{$skip:a.query.skip.page(e,b.f)},{$limit:b.f},{$lookup:a.query.lookup.threadReplies()},{$lookup:a.query.lookup.postMyVote(c.account)},{$project:a.query.project.post({normalize_my_vote:!0,recent_edit:!0,total_replies:!0,tip_replies_only:!0,score:!1})}]});case 23:return d=t.sent.cursor.firstBatch,t.next=26,_.a.getPinned(n);case 26:return h=t.sent,t.next=29,a.api({aggregate:a.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:a.query.match.threadById(h)},{$lookup:a.query.lookup.postState()},{$project:a.query.project.post({normalize_up:!0,normalize_parent:!0})},{$lookup:a.query.lookup.threadReplies()},{$lookup:a.query.lookup.postMyVote(c.account)},{$project:a.query.project.post({normalize_my_vote:!0,recent_edit:!0,total_replies:!0,tip_replies_only:!0})}]});case 29:return g=t.sent.cursor.firstBatch,h=h.map(function(t){return g.find(function(e){return e.transaction==t})}).filter(function(t){return t}),t.next=33,y.a.fromArray(m()(h,d.filter(function(t){return!h.find(function(e){return e.transaction==t.transaction})})));case 33:d=t.sent,w=0;case 35:if(!(w<d.length)){t.next=56;break}if(k=d[w],w<g.length&&(k.is_pinned=!0),!(k.replies&&k.replies.length>0)){t.next=49;break}x=0;case 40:if(!(x<k.replies.length)){t.next=49;break}if(k.replies[x].data.json_metadata.parent_uuid!=k.data.post_uuid){t.next=46;break}return E=new y.a(k.replies[x]),t.next=45,E.normalize();case 45:k.children.push(E);case 46:x++,t.next=40;break;case 49:(S=p.e.new_posts[k.data.post_uuid])&&isNaN(S)&&(S=S.replies),k.new_replies=void 0==S?k.total_replies+1:k.total_replies-S,k.new_replies=Math.max(k.new_replies,0);case 53:w++,t.next=35;break;case 56:return t.abrupt("return",{is_subscribed:p.e.subscribed_subs.includes(n),posts:d,pages:u,current_page:e,sub:Array.isArray(n)?"":n});case 57:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),w=function(){var t=c()(s.a.mark(function t(e){var n,r,a,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(new Date).getTime(),e=parseInt(e||1),n=Object(f.a)(),console.log(p.e.following),t.next=6,n.api({count:n.config.collection_forum,maxTimeMS:7500,query:n.query.match.feed(p.e.following)});case 6:return r=t.sent.n,a=Math.ceil(r/b.f),t.next=10,Object(l.f)();case 10:return i=t.sent,t.next=13,n.api({aggregate:n.config.collection_forum,maxTimeMS:1e4,cursor:{},pipeline:[{$match:n.query.match.feed(p.e.following)},{$lookup:n.query.lookup.postState()},{$project:n.query.project.post({normalize_up:!0,score:!0})},{$sort:n.query.sort.time()},{$skip:n.query.skip.page(e,b.f)},{$limit:b.f},{$lookup:n.query.lookup.postReplies()},{$lookup:n.query.lookup.postMyVote(i.account)},{$lookup:n.query.lookup.postParent()},{$project:n.query.project.post({normalize_my_vote:!0,normalize_parent:!0,recent_edit:!0})},{$match:n.query.match.validParent()}]});case 13:return o=t.sent.cursor.firstBatch,t.next=16,y.a.fromArray(o);case 16:return o=t.sent,t.abrupt("return",{posts:o,pages:a,current_page:e});case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=c()(s.a.mark(function t(e,n,r){var a,i,o,u,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),n=n.toLowerCase(),a=Object(f.a)(),t.next=5,a.api({count:a.config.collection_forum,maxTimeMS:7500,query:a.query.match.postsByTag(n)});case 5:return i=t.sent.n,o=Math.ceil(i/b.f),t.next=9,Object(l.f)();case 9:return u=t.sent,t.next=12,a.api({aggregate:a.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:a.query.match.postsByTag(n)},{$lookup:a.query.lookup.postState()},{$lookup:a.query.lookup.postParent()},{$project:a.query.project.post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:r},{$skip:a.query.skip.page(e,b.f)},{$limit:b.f},{$lookup:a.query.lookup.postReplies()},{$lookup:a.query.lookup.postMyVote(u.account)},{$project:a.query.project.post({normalize_my_vote:!0,recent_edit:!0})},{$match:a.query.match.validParent()}]});case 12:return c=t.sent.cursor.firstBatch,t.next=15,y.a.fromArray(c);case 15:return c=t.sent,t.abrupt("return",{posts:c,pages:o,current_page:e,tag:n});case 17:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),x=function(){var t=c()(s.a.mark(function t(e){var n,r,a,i,o,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(f.a)(),t.next=3,Object(l.f)();case 3:return r=t.sent,t.next=6,n.api({aggregate:n.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:{transaction:e}},{$lookup:n.query.lookup.postState()},{$lookup:n.query.lookup.postMyVote(r.account)},{$project:n.query.project.post({normalize_up:!0,normalize_my_vote:!0})}]});case 6:return a=t.sent.cursor.firstBatch[0],a=new y.a(a),t.next=10,a.normalize();case 10:return t.next=12,n.api({find:n.config.collection_forum,maxTimeMS:7500,filter:n.query.match.postEdits(a.data.poster,a.data.post_uuid),sort:n.query.sort.time(!0)});case 12:return i=t.sent.cursor.firstBatch,t.next=15,y.a.fromArray(i);case 15:for(i=t.sent,o=0;o<i.length;o++)(u=i[o]).up=a.up,u.my_vote=a.my_vote,a.addChild(u);return t.abrupt("return",{main_post:a});case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=c()(s.a.mark(function t(e,n){var r,a,i,o,u,c,d,h,m,_,b,v,g,w,k;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(f.a)(),t.next=3,Object(l.f)();case 3:return a=t.sent,t.next=6,r.api({aggregate:r.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:r.query.match.threadById(e)},{$limit:1},{$lookup:r.query.lookup.postState()},{$lookup:r.query.lookup.postMyVote(a.account)},{$project:r.query.project.post({normalize_up:!0,normalize_my_vote:!0})}]});case 6:if((i=t.sent.cursor.firstBatch[0])&&i.transaction){t.next=9;break}return t.abrupt("return",{opening_post:null,main_post:null,count:0});case 9:return i=new y.a(i),t.next=12,i.normalize();case 12:if(10239!=i.data.content.length){t.next=17;break}return t.next=15,r.api({aggregate:r.config.collection_nsdb,maxTimeMS:7500,cursor:{},pipeline:[{$match:{"data.account":i.data.poster,"data.json.method":"content_ext","data.json.data.post_uuid":i.data.post_uuid}}]});case 15:(o=t.sent.cursor.firstBatch[0])&&(i.data.content+=o.data.json.data.content);case 17:u=p.e.new_posts[i.data.post_uuid],i.__seen=u?u.seen:(new Date).getTime()/1e3,c=[],d=0;case 21:return t.next=23,r.api({aggregate:r.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:r.query.match.threadReplies(i.data.post_uuid)},{$lookup:r.query.lookup.postState()},{$lookup:r.query.lookup.postMyVote(a.account)},{$project:r.query.project.post({normalize_up:!0,normalize_my_vote:!0})},{$skip:d}]});case 23:for(h=t.sent.cursor.firstBatch,d+=h.length,m=0;m<h.length;m++)c.push(h[m]);if(h&&0!=h.length&&!(h.length<100)){t.next=28;break}return t.abrupt("break",30);case 28:t.next=21;break;case 30:return t.next=32,y.a.threadify(i,c);case 32:return _=t.sent,b=_.new_posts,c=_.responses,p.e.new_posts[i.data.post_uuid]={title:i.data.json_metadata.title,sub:i.data.json_metadata.sub,id:i.o_id,replies:b,seen:parseInt((new Date).getTime()/1e3)},Object(p.c)(),v=i,n&&(g=function t(e){for(var n=0;n<e.children.length;n++){var r=e.children[n];r.depth=e.depth+1,t(r)}return e},64==n.length?w=c.find(function(t){return t.o_transaction==n}):(n=parseInt(n),w=c.find(function(t){return t.o_id==n})),w.depth>=1&&((k=_.map[w.data.json_metadata.parent_uuid]).children.length=0,k.children.push(w),w=k),w.parent=i,w.depth=0,w.data.json_metadata.title=i.data.json_metadata.title,i=g(w)),t.abrupt("return",{opening_post:v,main_post:i,count:c.length});case 40:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),S=function(){var t=c()(s.a.mark(function t(e){var n,r,a,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),n=Object(f.a)(),t.next=4,Object(l.f)();case 4:if((r=t.sent).account){t.next=7;break}return t.abrupt("return",{current_page:1,pages:0,posts:[]});case 7:return t.next=9,n.api({count:n.config.collection_forum,maxTimeMS:7500,query:n.query.match.notifications(r.account)});case 9:return a=t.sent.n,i=Math.ceil(a/b.f),t.next=13,n.api({aggregate:n.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:n.query.match.notifications(r.account)},{$lookup:n.query.lookup.postState()},{$lookup:n.query.lookup.postParent()},{$project:n.query.project.post({normalize_up:!0,normalize_parent:!0})},{$sort:n.query.sort.time()},{$skip:n.query.skip.page(e,b.f)},{$limit:b.f},{$lookup:n.query.lookup.postReplies()},{$lookup:n.query.lookup.postMyVote(r.account)},{$project:n.query.project.post({normalize_my_vote:!0,recent_edit:!0})},{$match:n.query.match.validParent()}]});case 13:return o=t.sent.cursor.firstBatch,t.next=16,y.a.fromArray(o);case 16:return o=t.sent,t.abrupt("return",{current_page:e,pages:i,posts:o});case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),A=n("cS+J"),j=function(){var t=c()(s.a.mark(function t(e,n,r){var a,i,o,u,c,d,h,m,v,g,w,k,x,E;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(new Date).getTime(),e=parseInt(e||1),t.next=4,_.a.isBlocked(0,null,n);case 4:if(i=t.sent,o=p.e.following.includes(n),u=Object(l.e)(),c=Object(f.a)(),d=0,!(n.length<14)){t.next=16;break}return t.t0=parseFloat,t.next=13,u.rpc.get_currency_balance("novusphereio",n,"ATMOS");case 13:t.t1=t.sent[0],d=(0,t.t0)(t.t1),d=(isNaN(d)?0:d).toFixed(3);case 16:return console.log("loaded (1) in "+((new Date).getTime()-a)+" ms"),t.next=19,c.api({count:c.config.collection_forum,maxTimeMS:1e4,query:c.query.match.postsByAccount(n,!0)});case 19:return h=t.sent.n,console.log("loaded (2) in "+((new Date).getTime()-a)+" ms"),t.next=23,c.api({count:c.config.collection_forum,maxTimeMS:1e4,query:c.query.match.threadsByAccount(n)});case 23:return m=t.sent.n,console.log("loaded (3) in "+((new Date).getTime()-a)+" ms"),t.next=27,c.api({count:c.config.collection_account,maxTimeMS:1e4,query:c.query.match.followersByAccount(n)});case 27:return v=t.sent.n,console.log("loaded (4) in "+((new Date).getTime()-a)+" ms"),g=Math.ceil((h+m)/b.f),t.next=32,Object(l.f)();case 32:return w=t.sent,t.next=35,c.api({aggregate:c.config.collection_forum,maxTimeMS:1e4,cursor:{},pipeline:[{$match:c.query.match.postsByAccount(n,!1)},{$sort:r},{$skip:c.query.skip.page(e,b.f)},{$limit:b.f},{$lookup:c.query.lookup.postState()},{$project:c.query.project.post({normalize_up:!0,score:!0})},{$lookup:c.query.lookup.postReplies()},{$lookup:c.query.lookup.postMyVote(w.account)},{$lookup:c.query.lookup.postParent()},{$project:c.query.project.post({normalize_my_vote:!0,normalize_parent:!0,recent_edit:!0})},{$match:c.query.match.validParent()}]});case 35:return k=t.sent.cursor.firstBatch,console.log("loaded (5) in "+((new Date).getTime()-a)+" ms"),t.next=39,y.a.fromArray(k);case 39:return k=t.sent,x=k.length>0?new Date(1e3*k[0].createdAt).toLocaleString():"N/A",t.next=43,Object(A.a)(n);case 43:return E=t.sent,console.log("loaded (6) in "+((new Date).getTime()-a)+" ms"),t.abrupt("return",{current_page:e,account:n,user_icons:E,is_blocked:i,is_followed:o,balance_atmos:d,n_comments:h,n_threads:m,n_followers:v,last_activity:x,posts:k,pages:g});case 46:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),O=function(){var t=c()(s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(f.a)(),t.next=3,e.api({aggregate:e.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:{"data.json_metadata.sub":{$exists:!0,$ne:""},"data.json_metadata.edit":!1}},{$group:{_id:"$data.json_metadata.sub",count:{$sum:1}}},{$sort:{count:-1}}]});case 3:return n=t.sent.cursor.firstBatch,t.abrupt("return",{subs:n});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),T=function(){var t=c()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("anon-r-eos"!=e){t.next=3;break}throw new Error("You cannot make new threads in this sub from eos-forum");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=c()(s.a.mark(function t(e,n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(t,e){for(;;){var n=t.indexOf(e);if(n<0)break;t.splice(n,1)}},!e){t.next=8;break}if(!p.e.subscribed_subs.includes(n)){t.next=4;break}return t.abrupt("return",!0);case 4:r(p.e.unsubscribed_subs,n),p.e.subscribed_subs.push(n),t.next=12;break;case 8:if(!p.e.unsubscribed_subs.includes(n)){t.next=10;break}return t.abrupt("return",!1);case 10:r(p.e.subscribed_subs,n),p.e.unsubscribed_subs.push(n);case 12:return p.e.subscribed_subs=p.e.subscribed_subs.sort(),Object(p.c)(),t.next=16,Object(d.b)();case 16:return t.abrupt("return",e);case 17:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),P=function(){var t=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.f)();case 2:return t.sent.notifications=0,p.e.last_notification=parseInt((new Date).getTime()/1e3),Object(p.c)(),t.next=8,Object(d.b)();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),I=function(){var t=c()(s.a.mark(function t(e,n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:n?(r=p.e.moderation.accounts.indexOf(e))>-1&&p.e.moderation.accounts.splice(r,1):p.e.moderation.accounts.push(e),Object(p.c)();case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),B=function(){var t=c()(s.a.mark(function t(e,n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return r=p.e.following.indexOf(e),n?r>-1&&p.e.following.splice(r,1):-1==r&&p.e.following.push(e),Object(p.c)(),t.next=7,Object(d.b)();case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),M=function(){var t=c()(s.a.mark(function t(e,n){var r,a,i,o,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=parseFloat(n),!(isNaN(n)||n<=0)){t.next=3;break}throw new Error("Invalid quantity of atmos");case 3:return t.next=5,Object(l.f)();case 5:return r=t.sent,Object(l.e)(),[{actor:r.account,permission:r.auth}],a="upvote for "+e.o_transaction,i=(n/(r.account==e.data.poster?1:2)).toFixed(3)+" ATMOS",t.prev=10,o=[],r.account!=e.data.poster&&o.push({contract:"novusphereio",name:"transfer",data:{from:r.account,to:e.data.poster,quantity:i,memo:a}}),o.push({contract:"novusphereio",name:"transfer",data:{from:r.account,to:"novuspheredb",quantity:i,memo:a}}),t.next=16,Object(l.c)(o);case 16:t.sent,t.next=23;break;case 19:throw t.prev=19,t.t0=t.catch(10),console.log(t.t0),new Error("Error: upvote transaction failed!");case 23:return u=Math.floor(n/b.g),t.abrupt("return",parseInt(e.up)+u);case 25:case"end":return t.stop()}},t,this,[[10,19]])}));return function(e,n){return t.apply(this,arguments)}}(),L=n("mvHQ"),C=n.n(L),q=function(){var t=c()(s.a.mark(function t(e){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.f)();case 2:if((n=t.sent).account){t.next=5;break}throw new Error("You must be logged in to upvote comments!");case 5:return r={contract:"novuspheredb",name:"push",data:{account:n.account,json:C()({protocol:"novusphere",method:"forum_vote",data:{txid:e.o_transaction}})}},t.next=8,Object(l.c)(r);case 8:return t.sent,e.my_vote||(e.my_vote={account:n.account,txid:e.o_transaction}),t.abrupt("return",(e.up?e.up:0)+1);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),R=n("xhVP"),N=function(){var t=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,R.a.get("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/mod-list.json");case 3:return t.t1=t.sent,e=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",e.list);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),F=(r=c()(s.a.mark(function t(e,n,r,a,i,o){var u,c,f,p,d,h,m,_,y,b;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:if(!n.edit){t.next=4;break}return t.abrupt("return");case 4:if((u=e.content.match(/\#tip [0-9\.]+ [A-Z]+( @[a-z0-9\.]+)?/gi))&&0!=u.length){t.next=7;break}return t.abrupt("return");case 7:return c=Object(l.e)(),t.next=10,Object(l.h)();case 10:f=t.sent,p=0;case 12:if(!(p<u.length)){t.next=30;break}if(d=n.parent_poster,(h=u[p].split(" ")).length>=4&&(d=h[3].substring(1)),h[2]=h[2].toUpperCase(),m=f.find(function(t){return t.symbol==h[2]})){t.next=21;break}return i("Error: could not find contract for tip symbol "+h[2]),t.abrupt("return",!1);case 21:return t.next=23,Object(l.g)(c,m.account,m.symbol);case 23:_=t.sent,y=parseFloat(h[1]).toFixed(_),b={contract:m.account,name:"transfer",data:{from:o.account,to:d,quantity:y+" "+m.symbol,memo:"tip for "+r}},a.push(b);case 27:p++,t.next=12;break;case 30:case"end":return t.stop()}},t,this)})),function(t,e,n,a,i,o){return r.apply(this,arguments)}),z=(a=c()(s.a.mark(function t(e,n,r,a,i,o){var u,c,l,p,d;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:if(!n.edit){t.next=4;break}return t.abrupt("return");case 4:if((u=e.content.match(/\#giftaccount [A-Za-z0-9\.]{12}/gi))&&0!=u.length){t.next=7;break}return t.abrupt("return");case 7:return c=u[0].split(" ")[1],l=Object(f.a)(),t.next=11,l.api({aggregate:l.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:l.query.match.threadById(r)}]});case 11:if((p=t.sent.cursor.firstBatch[0])&&p.data.json_metadata.anon_id){t.next=14;break}return t.abrupt("return");case 14:d=p.data.json_metadata.anon_id.pub,a.push({contract:"eosio",name:"newaccount",data:{creator:o.account,name:c,owner:d,active:d}}),a.push({contract:"eosio",name:"buyrambytes",data:{payer:o.account,receiver:c,bytes:4092}}),a.push({contract:"eosio",name:"delegatebw",data:{from:o.account,receiver:c,stake_net_quantity:"0.0500 EOS",stake_cpu_quantity:"0.1500 EOS",transfer:0}});case 18:case"end":return t.stop()}},t,this)})),function(t,e,n,r,i,o){return a.apply(this,arguments)}),D=(i=c()(s.a.mark(function t(e,n,r){var a,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=10240,!(e.content.length<a)){t.next=3;break}return t.abrupt("return");case 3:i=e.content.substring(a-1),o=e.content.substring(0,a-1),e.content=o,n.push({contract:"novuspheredb",name:"push",data:{account:r.account,json:C()({protocol:"novusphere",method:"content_ext",data:{post_uuid:e.post_uuid,content:i}})}});case 7:case"end":return t.stop()}},t,this)})),function(t,e,n){return i.apply(this,arguments)}),U=function(){var t=c()(s.a.mark(function t(e,n,r,a,i,o){var u,c,p,d,h,m;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:return i||(i=function(){}),u=Object(f.a)(),t.next=6,Object(l.f)();case 6:if(c=t.sent,e.poster=r?e.poster:c.account,t.prev=8,!r){t.next=26;break}if(!a){t.next=16;break}return t.next=13,confirm("Are you sure you want to post this with your forum ID?");case 13:if(t.sent){t.next=16;break}return i("Error: post canceled"),t.abrupt("return",!1);case 16:return t.next=18,u.anonymousPost(e);case 18:if(!(d=t.sent).error){t.next=23;break}return i(d.error),console.log(d.error),t.abrupt("return",!1);case 23:p=d.transaction_id,t.next=37;break;case 26:return h=JSON.parse(e.json_metadata),m=[{contract:b.c,name:"post",data:e}],t.next=30,F(e,h,n,m,i,c);case 30:return t.next=32,z(e,h,n,m,i,c);case 32:return t.next=34,D(e,m,c);case 34:return t.next=36,Object(l.c)(m);case 36:p=t.sent;case 37:t.next=44;break;case 39:return t.prev=39,t.t0=t.catch(8),i("Error: "+t.t0.message),console.log(t.t0),t.abrupt("return",!1);case 44:if(o){t.next=48;break}return i("Waiting for Novusphere to index..."),t.next=48,u.waitTx(p,500,1e3);case 48:return i(""),t.abrupt("return",p);case 50:case"end":return t.stop()}},t,this,[[8,39]])}));return function(e,n,r,a,i,o){return t.apply(this,arguments)}}(),W=n("EKx1"),H=n.n(W),G={GetProposal:function(t){var e=this;return c()(s.a.mark(function n(){var r,a,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(f.a)(),a={name:"propose",transaction:t},i={from:"eosforum",let:{proposal_name:"$data.proposal_name",createdAt:"$createdAt"},pipeline:[{$match:{name:"clnproposal"}},{$project:{txid:"$transaction",test:{$and:[{$eq:["$data.proposal_name","$$proposal_name"]},{$gte:["$createdAt","$$createdAt"]}]}}},{$match:{test:!0}}],as:"expired"},e.next=5,r.api({aggregate:"eosforum",maxTimeMS:7500,cursor:{},pipeline:[{$match:a},{$lookup:i}]});case 5:return o=e.sent.cursor.firstBatch,e.abrupt("return",o&&o.length>0?o[0]:null);case 7:case"end":return e.stop()}},n,e)}))()},GetVotes:function(t){var e=this;return c()(s.a.mark(function n(){var r,a,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(f.a)(),e.next=3,r.api({find:"eosforum",maxTimeMS:7500,filter:{name:"vote","data.proposal_name":t.data.proposal_name,createdAt:{$gte:t.createdAt}},sort:r.query.sort.time()});case 3:return a=e.sent.cursor.firstBatch,e.next=6,r.api({find:"eosforum",maxTimeMS:7500,filter:{name:"unvote","data.proposal_name":t.data.proposal_name,createdAt:{$gte:t.createdAt}},sort:r.query.sort.time()});case 6:return i=e.sent.cursor.firstBatch,e.abrupt("return",{votes:a,unvotes:i});case 8:case"end":return e.stop()}},n,e)}))()},Status:function(t){var e=this;return c()(s.a.mark(function n(){var r,a,i,o,u;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Object(l.e)(),n.next=3,e.GetProposal(t);case 3:return r=n.sent,n.t0=JSON,n.next=7,R.a.get("https://s3.amazonaws.com/api.eosvotes.io/eosvotes/tallies/latest.json");case 7:return n.t1=n.sent,a=n.t0.parse.call(n.t0,n.t1),i=a[r.data.proposal_name],o=0,u=0,i&&(o=i.stats.staked[1],u=i.stats.staked[0],o=(isNaN(o)?0:parseInt(o))/1e4,u=(isNaN(u)?0:parseInt(u))/1e4),n.abrupt("return",{title:r.data.title,for:o,against:u,approval:o/Math.max(o+u,1),voters:i?i.stats.votes.total:-1});case 13:case"end":return n.stop()}},n,e)}))()},PushNewProposal:function(t){var e=this;return c()(s.a.mark(function n(){var r,a,i,o,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(t,e){for(var n=H()(t+e),r="",a=0;a<12;a++){var i=n.charCodeAt(a);r+=i>=48&&i<=57?String.fromCharCode(122-(i-48)):String.fromCharCode(i)}return r},!(t.title.length>1024)){e.next=3;break}throw new Error("Title is too long, over limit by "+(1024-t.title.length)+" characters");case 3:if(!(t.content.length>3e4)){e.next=5;break}throw new Error("Post is too long, over limit by "+(3e4-t.content.length)+" characters");case 5:return e.next=7,Object(l.f)();case 7:return a=e.sent,console.log(t.expires_at),i={proposer:a.account,proposal_name:r(a.account,t.content),title:t.title,proposal_json:C()({type:t.type,content:t.content,options:t.options}),expires_at:new Date(t.expires_at).toISOString().replace(/Z$/,"")},e.prev=10,e.next=13,Object(l.c)({contract:"eosio.forum",name:"propose",data:i});case 13:o=e.sent,e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(10),console.log(e.t0),new Error("Failed to submit proposal: "+e.t0.message);case 20:return u=Object(f.a)(),e.next=23,u.waitTx(o,500,1e3,"eosforum");case 23:return e.abrupt("return",o);case 24:case"end":return e.stop()}},n,e,[[10,16]])}))()},CleanProposal:function(t){var e=this;return c()(s.a.mark(function n(){var r,a,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.GetProposal(t);case 2:return r=n.sent,a={contract:"eosio.forum",name:"clnproposal",data:{proposal_name:r.data.proposal_name,max_count:4294967295}},n.next=6,Object(l.c)(a);case 6:return i=n.sent,n.abrupt("return",i);case 8:case"end":return n.stop()}},n,e)}))()},Expire:function(t){var e=this;return c()(s.a.mark(function n(){var r,a,i,o;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.GetProposal(t);case 2:return r=n.sent,a={contract:"eosio.forum",name:"expire",data:{proposal_name:r.data.proposal_name}},n.next=6,Object(l.c)(a);case 6:return i=n.sent,o=Object(f.a)(),n.next=10,o.waitTx(i,500,1e3,"eosforum");case 10:case"end":return n.stop()}},n,e)}))()},Vote:function(t,e){var n=this;return c()(s.a.mark(function r(){var a,i,o,u;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(l.f)();case 2:return a=r.sent,r.next=5,n.GetProposal(t);case 5:return i=r.sent,o={contract:"eosio.forum",name:"vote",data:{voter:a.account,proposal_name:i.data.proposal_name,vote:e,vote_json:""}},r.next=9,Object(l.c)(o);case 9:return u=r.sent,r.abrupt("return",u);case 11:case"end":return r.stop()}},r,n)}))()}},K=n("woOf"),V=n.n(K),J=n("DlMc"),X=n("Dfrr"),Z=n.n(X),Y=n("1eOM");var Q={GetRandomHeaderText:function(){return b.d[Math.floor(Math.random()*b.d.length)]},GenerateAnonData:function(){var t=c()(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={name:p.e.anon_id.name,pub:"",sig:""},p.e.anon_id.key){t.next=6;break}return t.next=4,Z.a.randomKey();case 4:p.e.anon_id.key=t.sent,Object(p.c)();case 6:return p.e.anon_id.key&&Z.a.isValidPrivate(p.e.anon_id.key)&&(n.pub=Z.a.privateToPublic(p.e.anon_id.key),n.sig=Z.a.sign(e,p.e.anon_id.key,"utf8")),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),PlaceholderPost:function(){return new y.a},UpvotesToAtmos:function(t){return t*b.g},AtmosToUpvotes:function(t){return t/b.g},IsAnonSub:function(t){return"anon"==t||0==t.indexOf("anon-")},GeneratePostUuid:function(){return Object(J.v4)()},ParseMarkdown:function(t,e){return new Y.a(t,e)},GetHost:function(t){if(0==t.indexOf("magnet:"))return"magnet link";var e=document.createElement("a");return e.href=t,e.host.toLowerCase()},Route:function(t,e){var n=V()({},t.query),r=V()({},t.params),a=t.name;return e.query&&(n=V()(n,e.query)),e.params&&(r=V()(r,e.params)),{name:a,query:n,params:r}},UpdateBrand:function(t){t&&(t=t.toLowerCase());var e=t&&t in b.a?b.a[t]:b.a.novusphere;V()(b.b,e)}};window.addEventListener("identity",c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)();case 2:return t.next=4,Object(d.b)();case 4:Object(p.c)();case 5:case"end":return t.stop()}},t,this)}))),window.addEventListener("identityUpdate",c()(s.a.mark(function t(){var e,n,r,a,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(l.e)(),t.next=3,Object(l.f)();case 3:return n=t.sent,t.t0=parseFloat,t.next=7,e.rpc.get_currency_balance("novusphereio",n.account,"ATMOS");case 7:if(t.t1=t.sent[0],r=(0,t.t0)(t.t1),a=r,!b.b.token_contract||"novusphereio"==b.b.token_contract&&"ATMOS"==b.b.token_symbol){t.next=16;break}return t.t2=parseFloat,t.next=14,e.rpc.get_currency_balance(b.b.token_contract,n.account,b.b.token_symbol);case 14:t.t3=t.sent[0],a=(0,t.t2)(t.t3);case 16:return i=Object(f.a)(),t.next=19,i.api({aggregate:i.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:i.query.match.notifications(n.account,p.e.last_notification)},{$count:"n"}]});case 19:o=t.sent.cursor.firstBatch,n.atmos=(isNaN(r)?0:r).toFixed(3),n.token=(isNaN(a)?0:a).toFixed(3),n.notifications=o.length>0?o[0].n:0;case 23:case"end":return t.stop()}},t,this)})));e.a={views:{Home:g,Feed:w,Tag:k,Thread:E,UserNotifications:S,UserProfile:j,PostHistory:x,Search:O,Referendum:v},actions:{CheckCreateThread:T,Subscribe:$,MarkNotificationsAsRead:P,ToggleBlockUser:I,ToggleFollowUser:B,UpvotePaid:M,UpvoteFree:q,GetReccomendedModList:N,PushNewPost:U,Referendum:G},helpers:Q}},"aW/X":function(t,e,n){"use strict";var r=n("Xxa5"),a=n.n(r),i=n("mvHQ"),o=n.n(i),s=n("exGp"),u=n.n(s),c=n("Zrlr"),f=n.n(c),l=n("wxAW"),p=n.n(l),d=n("xhVP"),h={postParent:function(){return{from:k().config.collection_forum,localField:"data.reply_to_post_uuid",foreignField:"data.post_uuid",as:"parent"}},postState:function(){return{from:k().config.collection_post_state,localField:"transaction",foreignField:"txid",as:"state"}},threadReplies:function(t){var e=k();return t?{from:e.config.collection_forum,let:{post_uuid:{$concat:[{$literal:"ref-"},"$transaction"]}},pipeline:[{$project:{test:{$eq:["$$post_uuid","$data.reply_to_post_uuid"]}}},{$match:{test:!0}}],as:"replies"}:{from:e.config.collection_forum,localField:"data.post_uuid",foreignField:"data.reply_to_post_uuid",as:"replies"}},postReplies:function(){return{from:k().config.collection_forum,localField:"data.post_uuid",foreignField:"data.json_metadata.parent_uuid",as:"replies"}},postMyVote:function(t){return{from:k().config.collection_post_vote,let:{transaction:"$transaction"},pipeline:[{$match:{account:t}},{$project:{account:"$account",txid:"$txid",test:{$eq:["$$transaction","$txid"]}}},{$match:{test:!0}}],as:"my_vote"}}},m={notifications:function(t,e){return e||(e=15391e5),{createdAt:{$gt:e},"data.json_metadata.sub":{$exists:!0,$ne:""},"data.poster":{$ne:t},$or:[{$or:[{"data.reply_to_poster":t},{"data.json_metadata.parent_poster":t}]},{mentions:t}]}},threadById:function(t){return Array.isArray(t)?{transaction:{$in:t}}:64==t.length?{transaction:t}:{id:parseInt(t)}},threadReplies:function(t){return{"data.reply_to_post_uuid":t}},threadsBySub:function(t,e){var n={"data.json_metadata.sub":t,"data.reply_to_post_uuid":"",createdAt:{$gte:1531434299}};return"all"==t?n["data.json_metadata.sub"]={$exists:!0,$ne:""}:"anon"==t?n["data.json_metadata.sub"]={$regex:"(^anon$|^anon-)",$options:"i"}:Array.isArray(t)&&(n["data.json_metadata.sub"]={$in:t}),e&&e.length>0&&(n["data.poster"]={$nin:e}),n},feed:function(t){return{createdAt:{$gte:parseInt((new Date).getTime()/1e3)-5356800},"data.json_metadata.edit":!1,"data.json_metadata.sub":{$exists:!0,$ne:""},"data.poster":{$in:t}}},followersByAccount:function(t){return{"state.following":t}},threadsByAccount:function(t){var e={"data.json_metadata.edit":!1,"data.json_metadata.sub":{$exists:!0,$ne:""},"data.reply_to_post_uuid":"","data.poster":t,createdAt:{$gte:1531434299}};return t.length>=14&&(delete e["data.poster"],e["data.json_metadata.anon_id.pub"]=t),e},postsByTag:function(t){var e={"data.json_metadata.edit":!1,createdAt:{$gte:1531434299}};return Array.isArray(t)||(t=[t]),t=t.map(function(t){return t.toLowerCase()}),e.$or=[{tags:{$in:t}},{$and:[{"data.json_metadata.sub":{$in:t}},{"data.reply_to_post_uuid":""}]}],e},postEdits:function(t,e){return{"data.poster":t,"data.json_metadata.parent_uuid":e,"data.json_metadata.edit":!0}},postsByAccount:function(t,e){var n=this.threadsByAccount(t);return e?n["data.reply_to_post_uuid"]={$ne:""}:delete n["data.reply_to_post_uuid"],n},validParent:function(){return{$or:[{parent:null},{"parent.data.json_metadata":{$ne:null}}]}}},_=n("woOf"),y=n.n(_),b=n("TsL6");var v={lookup:h,match:m,project:{post:function(t){var e,n,r={id:"$id",name:"$name",transaction:"$transaction",createdAt:"$createdAt",data:"$data",tags:"$tags",expired:"$expired",replies:(t=y()({normalize_up:!1,normalize_parent:!1,normalize_my_vote:!1,recent_edit:!1,tip_replies_only:!1,total_replies:!1,score:!0},t)).total_replies?[]:"$replies",up:t.normalize_up?{$ifNull:[{$arrayElemAt:["$state.up",0]},0]}:"$up",up_atmos:t.normalize_up?{$ifNull:[{$arrayElemAt:["$state.up_atmos",0]},0]}:"$up_atmos",parent:t.normalize_parent?{$arrayElemAt:["$parent",0]}:"$parent",score:"$score",my_vote:t.normalize_my_vote?{$arrayElemAt:["$my_vote",0]}:"$my_vote",recent_edit:"$recent_edit"};return t.tip_replies_only&&(r.replies={$filter:{input:"$replies",as:"replies",cond:{$and:[{$eq:["$data.post_uuid","$$replies.data.json_metadata.parent_uuid"]},{$in:["tip",{$ifNull:["$$replies.tags",[]]}]}]}}}),t.score&&(r.score=(e=(new Date).getTime()/1e3,n=[1,{$ifNull:[{$arrayElemAt:["$state.up",0]},0]}],b.e.settings.atmos_upvotes&&(n=[{$add:n},{$ifNull:[{$arrayElemAt:["$state.up_atmos",0]},0]}]),{$divide:[{$add:n=[{$add:n},{$cond:[{$ne:["$data.json_metadata.sub","anon-r-eos"]},1,0]}]},{$pow:[{$add:[{$divide:[{$subtract:[e,"$createdAt"]},3600]},2]},1.8]}]})),t.recent_edit&&(r.recent_edit={$arrayElemAt:[{$filter:{input:"$replies",as:"reply",cond:{$and:[{$eq:["$$reply.data.json_metadata.edit",!0]},{$eq:["$$reply.data.json_metadata.parent_uuid","$data.post_uuid"]},{$eq:["$$reply.data.poster","$data.poster"]}]}}},-1]}),t.total_replies&&(r.total_replies={$size:{$filter:{input:"$replies",as:"reply",cond:{$ne:["$$reply.data.json_metadata.edit",!0]}}}}),r}},skip:{page:function(t,e){return(t-1)*e}},sort:{score:function(t){return{score:t?1:-1}},time:function(t){return{createdAt:t?1:-1}}}},g=function(){function t(e){f()(this,t),this.config=e,this.query=v}return p()(t,[{key:"api",value:function(){var t=u()(a.a.mark(function t(e){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.post(this.config.url+"/api",o()(e));case 2:if(!(n=t.sent).error){t.next=6;break}throw console.log(n),n;case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"cors",value:function(){var t=u()(a.a.mark(function t(e){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.config.url+"/service/cors/?"+e,t.next=3,d.a.get(n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getApiEnabled",value:function(){var t=u()(a.a.mark(function t(e,n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!=this[n]){t.next=6;break}return t.next=4,d.a.get(this.config.url+e);case 4:r=t.sent,this[n]=r.enabled;case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this[n]=!1;case 11:if(!this[n]){t.next=13;break}return t.abrupt("return",this.config.url);case 13:return t.abrupt("return","https://db.novusphere.io");case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"authorizeAccountState",value:function(){var t=u()(a.a.mark(function t(e,n,r,i){var s,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,s=t.t0+"/service/accountstate/authorize",t.next=6,d.a.post(s,{value:o()({name:e,key:n,nonce:r,sig:i})});case 6:return u=t.sent,t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"isAccountStateAuthorized",value:function(){var t=u()(a.a.mark(function t(e,n,r){var i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,i=t.t0+"/service/accountstate/authorized",i+="?session_key="+e,i+="&key="+r,i+="&name="+n,t.next=9,d.a.get(i);case 9:if(!(o=t.sent).error){t.next=12;break}return t.abrupt("return",!1);case 12:return t.abrupt("return",o.authorized);case 13:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getAccountState",value:function(){var t=u()(a.a.mark(function t(e){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,n=t.t0+"/service/accountstate/get",e.length>=13?n+="?key="+e:n+="?name="+e,t.next=7,d.a.get(n);case 7:if(!(r=t.sent).error){t.next=10;break}return t.abrupt("return",null);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"saveAccountState",value:function(){var t=u()(a.a.mark(function t(e){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,n=t.t0+"/service/accountstate/save",t.next=6,d.a.post(n,{value:o()(e)});case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"anonymousPost",value:function(){var t=u()(a.a.mark(function t(e){var n,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/anon/","_anonymous_post");case 2:return t.t0=t.sent,n=t.t0+"/service/anon/post",t.next=6,d.a.post(n,e);case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"wait",value:function(){var t=u()(a.a.mark(function t(e,n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api(n);case 2:if(r=t.sent,!(r.cursor.firstBatch.length>0)){t.next=6;break}return t.abrupt("return",r);case 6:return t.next=8,d.a.sleep(e);case 8:t.next=0;break;case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"waitTx",value:function(){var t=u()(a.a.mark(function t(e,n,r,i){var o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r||(r=1e3),i||(i=this.config.collection_forum),t.next=4,this.wait(n,{find:i,maxTimeMS:r,filter:{transaction:e}});case 4:return o=t.sent,t.abrupt("return",o);case 6:case"end":return t.stop()}},t,this)}));return function(e,n,r,a){return t.apply(this,arguments)}}()}]),t}();n.d(e,"a",function(){return k});var w={url:"https://db.novusphere.io",collection_forum:"eosforum",collection_nsdb:"ns",collection_post_state:"ns_post_state",collection_post_vote:"ns_post_vote",collection_account:"ns_account"};function k(){return w.url=b.e.settings.novusphere_api,new g(w)}},"cLy/":function(t,e,n){"use strict";var r=n("EuP9").Buffer,a=n("Y8zU"),i=n("RxpK"),o=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function d(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function h(t,e){return t<<e|t>>>32-e}function m(t,e,n,r,a,i,o,s){return h(t+(e^n^r)+i+o|0,s)+a|0}function _(t,e,n,r,a,i,o,s){return h(t+(e&n|~e&r)+i+o|0,s)+a|0}function y(t,e,n,r,a,i,o,s){return h(t+((e|~n)^r)+i+o|0,s)+a|0}function b(t,e,n,r,a,i,o,s){return h(t+(e&r|n&~r)+i+o|0,s)+a|0}function v(t,e,n,r,a,i,o,s){return h(t+(e^(n|~r))+i+o|0,s)+a|0}a(d,i),d.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,a=0|this._c,i=0|this._d,d=0|this._e,g=0|this._a,w=0|this._b,k=0|this._c,x=0|this._d,E=0|this._e,S=0;S<80;S+=1){var A,j;S<16?(A=m(n,r,a,i,d,t[s[S]],l[0],c[S]),j=v(g,w,k,x,E,t[u[S]],p[0],f[S])):S<32?(A=_(n,r,a,i,d,t[s[S]],l[1],c[S]),j=b(g,w,k,x,E,t[u[S]],p[1],f[S])):S<48?(A=y(n,r,a,i,d,t[s[S]],l[2],c[S]),j=y(g,w,k,x,E,t[u[S]],p[2],f[S])):S<64?(A=b(n,r,a,i,d,t[s[S]],l[3],c[S]),j=_(g,w,k,x,E,t[u[S]],p[3],f[S])):(A=v(n,r,a,i,d,t[s[S]],l[4],c[S]),j=m(g,w,k,x,E,t[u[S]],p[4],f[S])),n=d,d=i,i=h(a,10),a=r,r=A,g=E,E=x,x=h(k,10),k=w,w=j}var O=this._b+a+x|0;this._b=this._c+i+E|0,this._c=this._d+d+g|0,this._d=this._e+n+w|0,this._e=this._a+r+k|0,this._a=O},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},"cS+J":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,a=n("Xxa5"),i=n.n(a),o=n("exGp"),s=n.n(o),u=n("xhVP"),c=(r=s()(i.a.mark(function t(e){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f){t.next=12;break}return t.prev=1,t.t0=JSON,t.next=5,u.a.get("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/user-icons.json");case 5:t.t1=t.sent,f=t.t0.parse.call(t.t0,t.t1),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(1),f={};case 12:return n=[],e in f&&n.push(f[e]),t.abrupt("return",n);case 15:case"end":return t.stop()}},t,this,[[1,9]])})),function(t){return r.apply(this,arguments)}),f=null},dYGJ:function(t,e,n){"use strict";var r,a=n("woOf"),i=n.n(a),o=n("//Fk"),s=n.n(o),u=n("Zrlr"),c=n.n(u),f=n("wxAW"),l=n.n(f),p=n("Xxa5"),d=n.n(p),h=n("exGp"),m=n.n(h),_=n("7t+N"),y=n.n(_),b=n("TsL6"),v=n("aKUZ"),g=n("xhVP"),w=n("cS+J"),k=n("dpOi"),x=n("aW/X"),E=(r=m()(d.a.mark(function t(e){var n,r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(x.a)(),r=null,t.prev=2,t.t0=JSON,t.next=6,n.cors(e);case 6:t.t1=t.sent,r=t.t0.parse.call(t.t0,t.t1),t.next=13;break;case 10:return t.prev=10,t.t2=t.catch(2),t.abrupt("return",null);case 13:if(a="",(a=r.html.match(/src=\".+\"/))&&(a=(a=a[0].substring(5)).substring(0,a.indexOf('"'))),!a){t.next=18;break}return t.abrupt("return",{src:a,thumbnail:r.thumbnail_url,width:r.width,height:r.height});case 18:return t.abrupt("return",null);case 19:case"end":return t.stop()}},t,this,[[2,10]])})),function(t){return r.apply(this,arguments)});function S(t){if(0==t.indexOf("magnet:"))return"magnet link";var e=document.createElement("a");return e.href=t,e.host.toLowerCase()}var A,j=function(){function t(e){c()(this,t),this.value="",this.type="",this.display="",this.width=0,this.height=0,e&&e.value&&e.type&&e.display&&(this.value=e.value,this.type=e.type,this.display=e.display,this.width=e.width?e.width:0,this.height=e.height?e.height:0)}return l()(t,[{key:"hasAttachment",value:function(t){return this.display==t}},{key:"isIframe",value:function(){return this.hasAttachment("iframe")}},{key:"isImg",value:function(){return this.hasAttachment("img")}},{key:"isMp4",value:function(){return this.hasAttachment("mp4")}},{key:"isMp3",value:function(){return this.hasAttachment("mp3")}},{key:"isLink",value:function(){return this.hasAttachment("link")}},{key:"normalize",value:function(){var t=m()(d.a.mark(function t(){var e,n,r,a,i,o,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,!(e=this)||!e.value){t.next=31;break}if("ipfs"!=e.type){t.next=8;break}e.type="url",e.value="https://gateway.ipfs.io/ipfs/"+e.value,t.next=29;break;case 8:if("url"!=e.type){t.next=29;break}if("youtu.be"==(r=S(e.value))&&(a=e.value.split("/"),e.value="https://www.youtube.com/watch?v="+a[a.length-1],r="youtube.com"),"youtube.com"!=r&&"www.youtube.com"!=r){t.next=16;break}return t.next=14,E("https://www.youtube.com/oembed?format=json&url="+e.value);case 14:null==(n=t.sent)&&(i=e.value.match("v=[a-zA-Z0-9_-]+"))&&i.length>0&&(n={src:"https://www.youtube.com/embed/"+i[0].substring(2),thumbnail:"",width:560,height:315});case 16:if("i.imgur.com"==r&&(e.display="img"),"i.redd.it"==r&&(e.display="img"),"twitter.com"==r&&(e.value="https://twitframe.com/show?url="+e.value,e.width=560,e.height=400,e.display="iframe"),"d.tube"!=r){t.next=24;break}return o=e.value.replace("/#!/","/"),t.next=23,E("https://api.d.tube/oembed?url="+o);case 23:n=t.sent;case 24:if("soundcloud.com"!=r){t.next=28;break}return t.next=27,E("https://soundcloud.com/oembed?format=json&url="+e.value);case 27:n=t.sent;case 28:"bitchute.com"!=r&&"www.bitchute.com"!=r||(s=e.value.match(/video\/[a-zA-Z0-9]+/))&&s.length>0&&(e.width=560,e.height=315,e.value="https://www.bitchute.com/embed/"+s[0].substring(6),e.display="iframe");case 29:"link"==e.display&&(e.value.endsWith(".png")||e.value.endsWith(".jpg")||e.value.endsWith(".jpeg")||e.value.endsWith(".gif"))&&(e.display="img"),"iframe"==e.display&&(0==e.value.indexOf("http:")&&(e.value="https:"+e.value.substring(5)),e.width||e.height||(e.width=560,e.height=315));case 31:n&&(e.thumbnail=n.thumbnail,e.width=n.width,e.height=n.height,e.value=n.src,e.display="iframe"),"img"!=e.display||e.thumbnail||(e.thumbnail=e.value);case 33:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),O=n("Dfrr"),T=n.n(O),$=function(){function t(e){c()(this,t),e=i()({name:"",pub:"",sig:""},e),this.name=e.name?e.name:"",this.pub=e.pub?e.pub:"",this.sig=e.sig?e.sig:"",this.verified=!1}return l()(t,[{key:"verify",value:function(t){this.sig&&this.pub&&(this.verified=T.a.verify(this.sig,t,this.pub,"utf8"))}}]),t}(),P=function t(e){if(c()(this,t),"string"==typeof e)try{e=JSON.parse(e)}catch(t){}e=i()({title:"",sub:"",parent_uuid:"",parent_poster:"",edit:!1,attachment:null,reddit:null,anon_id:null},e),this.type=e.type,this.title=e.title,this.sub=e.sub,this.parent_uuid=e.parent_uuid,this.parent_poster=e.parent_poster,this.edit=!!e.edit,this.attachment=new j(e.attachment),this.reddit=new function t(e){c()(this,t),this.author="",this.permalink="",e&&e.author&&e.permalink&&(this.author=e.author,this.permalink=e.permalink)}(e.reddit),this.anon_id=new $(e.anon_id)},I=function t(e,n){c()(this,t),e=i()({poster:"",post_uuid:"",content:"",reply_to_poster:"",reply_to_post_uuid:"",certify:!1,json_metadata:null,tags:[]},e),this.poster=e.poster,this.post_uuid=e.post_uuid,this.content=e.content,this.reply_to_poster=e.reply_to_poster,this.reply_to_post_uuid=e.reply_to_post_uuid,this.certify=e.certify,this.json_metadata=new P(e.json_metadata),this.json_metadata.anon_id.verify(this.content)},B=function(){var t=m()(d.a.mark(function t(){var e,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(new Date).getTime(),!(null==R||e-R.last>=6e4)){t.next=8;break}return t.t0=JSON,t.next=5,g.a.get("https://s3.amazonaws.com/api.eosvotes.io/eosvotes/tallies/latest.json");case 5:t.t1=t.sent,n=t.t0.parse.call(t.t0,t.t1),R={last:e,active:n};case 8:return t.abrupt("return",R);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M=(A=m()(d.a.mark(function t(e,n){var r,a,i,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:if(!(n&&n.content||"post"!=n.name)){t.next=4;break}return t.abrupt("return",n);case 4:return t.next=6,Object(k.i)(e);case 6:r=t.sent,a=r.trx.trx.actions[0].data,i=new k.b(a),o={poster:i.readName(),post_uuid:i.readString(),content:i.readString(),reply_to_poster:i.readName(),reply_to_post_uuid:i.readString(),certify:i.readVarInt(),json_metadata:i.readString()};try{o.json_metadata=JSON.parse(o.json_metadata)}catch(t){}return t.abrupt("return",o);case 12:case"end":return t.stop()}},t,this)})),function(t,e){return A.apply(this,arguments)}),L=["referendum-v1","poll-yn-v1","poll-yna-v1","options-v1","multi-select-v1"],C=["no","yes"],q=["no","yes","abstain"],R=null,N=function(){function t(e){if(c()(this,t),e&&"propose"==e.name){var n=e.data;this.setReferendum(e,e),e.data={poster:n.proposer,post_uuid:"ref-"+e.transaction,content:"",reply_to_poster:"",reply_to_post_uuid:"",certify:!1,json_metadata:{title:n.title,type:"novusphere-forum",sub:"referendum",parent_uuid:"",parent_poster:"",edit:!1,attachment:{value:"",type:"",display:""}}}}e=i()({score:0,createdAt:0,transaction:"",name:"post",id:0,data:null,up:0,up_atmos:0,total_replies:0,recent_edit:null,parent:null,my_vote:null,referendum:null,tags:[],replies:[]},e),this._post=e,this._content="",this.score=e.score,this.parent=null,this.depth=0,this.is_pinned=!1,this.new_replies=0,this.children=[],this.createdAt=e.createdAt,this.transaction=e.transaction,this.id=e.id,this.up=e.up,this.total_replies=e.total_replies,this.my_vote=e.my_vote,this.referendum=e.referendum,this.tags=e.tags,this.tips=[],this.replies=e.replies,b.e.settings.atmos_upvotes&&(this.up=Math.floor(this.up+(e.up_atmos?e.up_atmos:0))),this.data=new I(null,this.createdAt),this.o_transaction=this.transaction,this.o_id=this.id,this.o_attachment=new j(this.data.json_metadata.attachment)}return l()(t,null,[{key:"fromArray",value:function(){var e=m()(d.a.mark(function e(n){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(function(e){return e instanceof t?e:new t(e)}),e.next=3,s.a.all(r.map(function(t){return t.normalize()}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"threadify",value:function(){var e=m()(d.a.mark(function e(n,r){var a,i,o,s,u,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.splice(0,0,n),e.next=3,t.fromArray(r);case 3:r=e.sent,a={},i=0,o=0;case 7:if(!(o<r.length)){e.next=26;break}if(s=r[o],a[s.data.post_uuid]=s,!(o>0)){e.next=23;break}if(s.parent=n,u=(u=s.data.json_metadata.parent_uuid)||n.data.post_uuid,c=a[u],!s.data.json_metadata.edit){e.next=21;break}if(!(s.data.poster==c.data.poster&&s.createdAt>c.createdAt)){e.next=19;break}return e.next=19,c.applyEdit(s);case 19:e.next=23;break;case 21:i++,c.addChild(s);case 23:o++,e.next=7;break;case 26:for(o=0;o<r.length;o++)r[o].children.sort(function(t,e){return e.score-t.score});return e.abrupt("return",{new_posts:i,responses:r,map:a});case 28:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),l()(t,[{key:"setReferendum",value:function(t,e){t.referendum={transaction:e.transaction,type:e.data.proposal_json.type||L[0],name:e.data.proposal_name,content:e.data.proposal_json.content,expired:Array.isArray(e.expired)?e.expired.length>0:e.expired,expires_at:e.data.expires_at,options:[],details:null},L.some(function(e){return e==t.referendum.type})||(t.referendum.type=L[0]),t.referendum.type==L[0]||t.referendum.type==L[1]?t.referendum.options=C:t.referendum.type==L[2]?t.referendum.options=q:t.referendum.type==L[3]?t.referendum.options=(e.data.proposal_json.options||C).slice(0,255):t.referendum.type==L[4]&&(t.referendum.options=(e.data.proposal_json.options||C).slice(0,8))}},{key:"setReferendumDetails",value:function(){var t=m()(d.a.mark(function t(){var e,n,r,a,i,o,s,u,c,f;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.referendum){t.next=25;break}return isNaN(this.referendum.expires_at)&&(this.referendum.expires_at=new Date(this.referendum.expires_at).getTime()/1e3),this.referendum.expires_at<=(new Date).getTime()/1e3&&(this.referendum.expired=!0),t.next=5,B();case 5:for(e=t.sent,n=e.active,r=n[this.referendum.name],a={},i=0;i<this.referendum.options.length;i++)a[i]={value:0,percent:0};if(!r){t.next=24;break}o=r.stats.staked.total,this.referendum.type==L[4]&&(o=0),t.t0=d.a.keys(r.stats.staked);case 14:if((t.t1=t.t0()).done){t.next=23;break}if("total"!=(s=t.t1.value)){t.next=18;break}return t.abrupt("continue",14);case 18:if(u=r.stats.staked[s],u=(isNaN(u)?0:parseInt(u))/1e4,this.referendum.type==L[4])for(i=0;i<this.referendum.options.length;i++)0!=(s&1<<i)&&(i in a?a[i].value+=u:a[i]={value:u,percent:0},o+=1e4*u);else s in a&&(a[s].value=u);t.next=14;break;case 23:for(s in a)c=a[s].value,f=o>0?100*c/(o/1e4):0,a[s].percent=f.toFixed(1);case 24:this.referendum.details={votes:a,total_participants:r?r.stats.votes.total:0,total_eos:(r?r.stats.staked.total:0)/1e4};case 25:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"normalize",value:function(){var e=m()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._post){e.next=2;break}return e.abrupt("return");case 2:return n=this._post,this._post=null,e.next=6,M(n.transaction,n.data);case 6:return n.data=e.sent,this.data=new I(n.data,this.createdAt),this.o_attachment=new j(this.data.json_metadata.attachment),e.next=11,Object(w.a)(this.data.poster);case 11:if(this.user_icons=e.sent,!n.recent_edit){e.next=15;break}return e.next=15,this.applyEdit(n.recent_edit);case 15:if(!n.parent){e.next=20;break}return this.parent=new t(n.parent),e.next=19,this.parent.normalize();case 19:this.data.json_metadata.title=this.parent.data.json_metadata.title;case 20:return e.next=22,this.detectAttachment();case 22:return this.detectInlineAttachment(),e.next=25,this.detectContent();case 25:return e.next=27,this.setReferendumDetails();case 27:return e.next=29,this.data.json_metadata.attachment.normalize();case 29:this.detectTip();case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"detectTip",value:function(){var t=m()(d.a.mark(function t(){var e,n,r,a,i,o,s,u,c,f,l;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.data.json_metadata.edit){t.next=2;break}return t.abrupt("return");case 2:if(!this.tags.includes("tip")){t.next=27;break}return e=Object(k.e)(),t.next=6,Object(k.i)(this.transaction);case 6:n=t.sent,r=n.trx.trx.actions,a=0;case 9:if(!(a<r.length)){t.next=27;break}if("transfer"!=r[a].name){t.next=24;break}return i=new k.b(r[a].hex_data),o=i.readName(),s=i.readName(),u=i.readInt32(),i.readInt32(),i.readByte(),c=i.readString(7).replace(/\0/g,""),f=i.readString(),t.next=21,Object(k.g)(e,r[a].account,c);case 21:l=t.sent,u=(u/Math.pow(10,l)).toFixed(l),this.tips.push({from:o,to:s,amount:u,memo:f,symbol:c,contract:r[a].account});case 24:a++,t.next=9;break;case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getContent",value:function(){var t=this._content||this.data.content||"";return this.referendum&&(t&&(t+="\n\n---\n\n"),t+=this.referendum.content),t}},{key:"detect",value:function(){var t=m()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"detectContent",value:function(){var t=m()(d.a.mark(function t(){var e,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.data.content,n=/(.|)http[s]?:\/\/(\w|[:\/\.%-])+\.(png|jpg|jpeg|gif)(\?(\w|[:\/\.%-])+)?(.|)/g,e=e.replace(n,function(t){var e=t.trim();return e.startsWith("http")?"![]("+e+")":t}),this._content=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"detectInlineAttachment",value:function(){var t=m()(d.a.mark(function t(){var e,n,r,a,i,o,s,u,c,f;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.data.json_metadata.attachment,n=e.value){t.next=4;break}return t.abrupt("return");case 4:if(n.startsWith("https://medium.com"),!n.startsWith("https://trybe.one/")){t.next=23;break}return t.prev=6,t.next=9,g.a.get("https://db.novusphere.io/service/cors/?"+n);case 9:r=t.sent,(a=y()(r).find('div[class="entry-content"]')).find('div[class*="essb_links"]').remove(),a.find('div[class*="post-ratings"]').remove(),a.find('div[class*="post-ratings-loading"]').remove(),a.find("img").each(function(){var t="https://images.weserv.nl/?url=",e=y()(this);e.prop("src",t+e.prop("src"));var n=e.prop("srcset");n&&e.prop("srcset",n.split(", ").map(function(e){return t+e}).join(", "))}),e.type="markdown",e.display="markdown",e.value="**Source:** "+n+" \n\n----\n\n"+a.html(),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(6),console.log(t.t0);case 23:if(!n.startsWith("https://whaleshares.io")){t.next=41;break}return t.prev=24,i=n.substring(n.indexOf(".io")+3).split("/"),o=(i[1]||"").substring(1),s=i[2],t.next=30,g.a.get('https://api.whaleshares.io/rest2jsonrpc/database_api/get_content?params=["'+o+'","'+s+'"]');case 30:u=t.sent,c=(c=u.result.body).replace(/!\[\]\(https:\/\/whaleshares\.io.+[a-zA-Z0-9]+\)/g,function(t){var e=t.trim();return'<img src="'+(e=e.substring(4,e.length-1))+'">'}),e.type="markdown",e.display="markdown",e.value="**Source:** "+n+" \n\n----\n\n"+c,t.next=41;break;case 38:t.prev=38,t.t1=t.catch(24),console.log(t.t1);case 41:if(!n.startsWith("https://steemit.com")){t.next=64;break}return t.prev=42,t.next=45,g.a.get("https://db.novusphere.io/service/cors/?"+n);case 45:if(r=t.sent,a=y()(r),!((f=r.indexOf('link rel="canonical"'))>-1)){t.next=55;break}if(!((f=r.substring(f+27,r.indexOf('"',f+27)).toLowerCase()).indexOf("steemit.com")>-1&&f!=n.toLowerCase())){t.next=55;break}return t.next=53,g.a.get("https://db.novusphere.io/service/cors/?"+f);case 53:r=t.sent,a=y()(r);case 55:a=a.find('div[class*="MarkdownViewer"]'),e.type="markdown",e.display="markdown",e.value="**Source:** "+n+" \n\n----\n\n"+a.html(),t.next=64;break;case 61:t.prev=61,t.t2=t.catch(42),console.log(t.t2);case 64:case"end":return t.stop()}},t,this,[[6,20],[24,38],[42,61]])}));return function(){return t.apply(this,arguments)}}()},{key:"detectAttachment",value:function(){var t=m()(d.a.mark(function t(){var e,n,r,a,i,o,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.data.json_metadata.attachment).value||"referendum"!=e.display){t.next=7;break}return t.next=4,v.a.actions.Referendum.GetProposal(e.value);case 4:return(n=t.sent)&&this.setReferendum(this,n),t.abrupt("return");case 7:if(!e.value){t.next=9;break}return t.abrupt("return");case 9:r=function(t,n,r){e.value=t,e.type=n,e.display=r},a=[{match:/https:\/\/youtu.be\/[a-zA-Z0-9-_]+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/www.youtube.com\/watch\?v=[a-zA-Z0-9-_]+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/twitter.com\/[a-zA-Z0-9-_]+\/status\/[0-9]+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/t.me\/[\w]+\/[0-9]+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/medium.com\/@[\w]+\/.+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/www.instagram.com(\/[a-zA-Z0-9-_]+)?\/p\/[a-zA-Z0-9-_]+(\/?.+)?/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/www.instagr.am(\/[a-zA-Z0-9-_]+)?\/p\/[a-zA-Z0-9-_]+(\/?.+)?/i,handle:function(t){return r(t[0],"url","link")}},{match:/https?:\/\/(www\.)?(facebook|fb).(com|me)\/.+/i,handle:function(t){return r(t[0],"url","link")}}],i=0;case 12:if(!(i<a.length)){t.next=21;break}if(o=a[i],!((s=this.data.content.match(o.match))&&s.length>0)){t.next=18;break}return o.handle(s),t.abrupt("break",21);case 18:i++,t.next=12;break;case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"applyEdit",value:function(){var t=m()(d.a.mark(function t(e){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e.transaction,e.data);case 2:if(e.data=t.sent,this.createdAt=e.createdAt,this.transaction=e.transaction,this.id=e.id,this._content="",this.data.content=e.data.content,this.data.json_metadata.edit=!0,e.data.json_metadata.title&&(this.data.json_metadata.title=e.data.json_metadata.title),!e.data.json_metadata.attachment){t.next=19;break}return this.data.json_metadata.attachment=new j(e.data.json_metadata.attachment),t.next=14,this.detectAttachment();case 14:return this.detectInlineAttachment(),t.next=17,this.detectContent();case 17:return t.next=19,this.setReferendumDetails();case 19:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getTitle",value:function(){var t=this.data.json_metadata.title;return!t&&this.parent&&this.parent.data.json_metadata.title&&(t=this.parent.data.json_metadata.title),t||(t="untitled"),t}},{key:"getUrlTitle",value:function(){var t=this.getTitle();return t=t.replace(/\W/g,"_")}},{key:"addChild",value:function(t){t.depth=this.depth+1,this.children.push(t)}}]),t}();n.d(e,"a",function(){return N})},"dd0+":function(t,e){t.exports={version:"eosio::abi/1.1",structs:[{name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}]}},dgxz:function(t,e){!function(e){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=g;var l="suspendedStart",p="suspendedYield",d="executing",h="completed",m={},_={};_[o]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==r&&a.call(b,o)&&(_=b);var v=E.prototype=k.prototype=Object.create(_);x.prototype=v.constructor=E,E.constructor=x,E[u]=x.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(v),t},f.awrap=function(t){return{__await:t}},S(A.prototype),A.prototype[s]=function(){return this},f.AsyncIterator=A,f.async=function(t,e,n,r){var a=new A(g(t,e,n,r));return f.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(v),v[u]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=P,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,a){return s.type="throw",s.arg=t,e.next=r,a&&(e.method="next",e.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function g(t,e,n,r){var a=e&&e.prototype instanceof k?e:k,i=Object.create(a.prototype),o=new $(r||[]);return i._invoke=function(t,e,n){var r=l;return function(a,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return I()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=j(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=w(t,e,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function k(){}function x(){}function E(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,o){var s=w(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,o)},function(t){e("throw",t,i,o)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},o)}o(s.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function j(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,j(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=w(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,m;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},dpOi:function(t,e,n){"use strict";var r,a,i,o=n("//Fk"),s=n.n(o),u=n("Xxa5"),c=n.n(u),f=n("exGp"),l=n.n(f),p=n("kcoD"),d=n("VVn8"),h=n("TsL6"),m=n("Zrlr"),_=n.n(m),y=n("wxAW"),b=n.n(y),v=ot().transactionTypes.get("name"),g=function(){function t(e){_()(this,t);for(var n=new Uint8Array(e.length/2),r=0;r<n.length;r++)n[r]=parseInt(e.substr(2*r,2),16);this.bytes=n,this.offset=0}return b()(t,[{key:"readByte",value:function(){return this.bytes[this.offset++]}},{key:"readBytes",value:function(t){for(var e=new Uint8Array(t),n=0;n<t;n++)e[n]=this.readByte();return e}},{key:"readInt32",value:function(){return this.readByte()|this.readByte()<<8|this.readByte()<<16|this.readByte()<<24}},{key:"readVarInt",value:function(){for(var t=0,e=0,n=0;n<8;n++){var r=this.readByte();if(t+=e<28?(127&r)<<e:(127&r)*(0|Math.pow(2,e)),e+=7,r<128)break}return t}},{key:"readString",value:function(t){t=t||this.readVarInt();var e=this.readBytes(t);return String.fromCharCode.apply(null,e)}},{key:"readName",value:function(){var t=new p.Serialize.SerialBuffer({array:this.readBytes(8)});return v.deserialize(t)}}]),t}(),w=n("woOf"),k=n.n(w),x=n("xhVP"),E=(r=l()(c.a.mark(function t(){var e,n,r,a,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(A){t.next=21;break}return t.t0=JSON,t.next=4,x.a.get("https://raw.githubusercontent.com/eoscafe/eos-airdrops/master/tokens.json");case 4:return t.t1=t.sent,e=t.t0.parse.call(t.t0,t.t1),n=[],t.prev=7,t.t2=JSON,t.next=11,x.a.get("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/tokens.json");case 11:t.t3=t.sent,n=t.t2.parse.call(t.t2,t.t3),t.next=19;break;case 15:t.prev=15,t.t4=t.catch(7),console.log("malformed (our) tokens.json"),console.log(t.t4);case 19:for(r=0;r<n.length;r++)a=n[r],(i=e.find(function(t){return t.symbol==a.symbol&&t.account==a.account}))?k()(i,a):e.push(a);A=e;case 21:return t.abrupt("return",A);case 22:case"end":return t.stop()}},t,this,[[7,15]])})),function(){return r.apply(this,arguments)}),S=(a=l()(c.a.mark(function t(e,n,r){var a,i,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=j[a=n+":"+r]){t.next=9;break}return t.next=6,e.rpc.get_currency_stats(n,r);case 6:o=t.sent,i=o[r].supply.split(" ")[0].split(".")[1].length,j[a]=i;case 9:return t.abrupt("return",i);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",0);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(t,e,n){return a.apply(this,arguments)}),A=null,j={},O=function(){function t(){_()(this,t),this.setDefault()}return b()(t,[{key:"setDefault",value:function(){this.account="",this.publicKey="",this.auth="",this.atmos="0.000",this.token="0.000",this.notifications=0,this._updater&&clearInterval(this.updater),window.dispatchEvent(new Event("identity"))}},{key:"update",value:function(){var t=l()(c.a.mark(function t(e){var n=this;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.account&&(window.dispatchEvent(new Event("identityUpdate")),this._updater||(this._updater=setInterval(function(){return n.update()},5e3))),e&&window.dispatchEvent(new Event("identity"));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),T=n("OHoK"),$=n("FU6D"),P=n.n($),I=n("uK7o"),B=n.n(I),M=this&&this.__assign||function(){return(M=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},L=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(o,s)}u((r=r.apply(t,e||[])).next())})},C=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},q=P.a.scatter;q.loadPlugin(new B.a);var R=function(){return function(t){return{id:"scatter",meta:{name:"Scatter Desktop",shortName:"Scatter",description:"Scatter Desktop application that keeps your private keys secure"},signatureProvider:function(t){return q.eosHook(M({},t,{blockchain:"eos"}),null,!0)}(t),connect:function(t){return q.connect(t,{initTimeout:1e4}).then(function(t){return!!t||Promise.reject("Cannot connect to Scatter")})},discover:function(t){return new Promise(function(t,e){t({keys:[],note:"Scatter does not support discovery"})})},disconnect:function(){return q.disconnect(),Promise.resolve(!0)},login:function(e){return L(this,void 0,void 0,function(){var e,n,r;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,q.suggestNetwork(M({},t,{blockchain:"eos"}))];case 1:return a.sent(),[4,q.getIdentity({accounts:[M({},t,{blockchain:"eos"})]})];case 2:return(e=a.sent())?(n=e&&e.accounts&&e.accounts.find(function(t){return"eos"===t.blockchain})||void 0)?(i=n.publicKey,[2,{accountName:n.name,permission:n.authority,publicKey:i}]):[2,Promise.reject("No account data obtained from Scatter identity")]:[2,Promise.reject("No identity obtained from Scatter")];case 3:return r=a.sent(),console.log("[scatter]",r),[2,Promise.reject(r)];case 4:return[2]}})})},logout:function(t){return q.forgetIdentity()},signArbitrary:function(t,e){return q.getArbitrarySignature(i,t,e)}}}},N=n("jZEM"),F=n("J0s3"),z=n("I0nP");n.d(e,"e",function(){return ot}),n.d(e,"i",function(){return Q}),n.d(e,"a",function(){return J}),n.d(e,"f",function(){return Z}),n.d(e,"d",function(){return Y}),n.d(e,"c",function(){return tt}),n.d(e,"j",function(){return et}),n.d(e,"b",function(){return g}),n.d(e,"h",function(){return E}),n.d(e,"g",function(){return S});var D,U,W,H,G,K,V=function(){var t=l()(c.a.mark(function t(e){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=nt.initWallet(e),t.next=3,n.connect();case 3:if(!rt){t.next=7;break}throw new Error("Already have a wallet present");case 7:if(n.connected){t.next=9;break}throw new Error("Failed to connect");case 9:return t.next=11,n.discover({pathIndexList:[0]});case 11:if(r=t.sent,"ledger"!=e.id||0!=r.keyToAccountMap.length&&!r.keyToAccountMap.every(function(t){return!t.accounts||0==t.accounts.length})){t.next=14;break}throw new Error("Ledger not actually connected");case 14:return rt=n,it=r,console.log("Detected and connected to "+e.meta.name),it.keyToAccountMap.length>0&&console.log(it),t.next=20,X();case 20:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=l()(c.a.mark(function t(e){var n,r,a,i,o=this;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!rt){t.next=2;break}return t.abrupt("return");case 2:n=nt.getWalletProviders(),r=0;case 4:if(!(r<5)){t.next=26;break}if(console.log("Wallet detection round "+r),!navigator.userAgent.toLowerCase().includes("meet.one")){t.next=18;break}return a=n.find(function(t){return"meetone_provider"==t.id}),t.prev=8,t.next=11,V(a);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),console.log("Undetected "+a.id);case 16:t.next=21;break;case 18:return i=n.map(function(t){return new s.a((e=l()(c.a.mark(function e(n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Undetected "+t.id);case 8:n();case 9:case"end":return e.stop()}},e,o,[[0,5]])})),function(t,n){return e.apply(this,arguments)}));var e}),t.next=21,s.a.all(i);case 21:if(!rt&&!e){t.next=23;break}return t.abrupt("break",26);case 23:r++,t.next=4;break;case 26:case"end":return t.stop()}},t,this,[[8,13]])}));return function(e){return t.apply(this,arguments)}}(),X=(D=l()(c.a.mark(function t(){var e,n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(it.keyToAccountMap.length>0)){t.next=16;break}e=null,n=0;case 4:if(!(n<it.keyToAccountMap.length)){t.next=12;break}if(!((r=it.keyToAccountMap[n]).accounts&&r.accounts.length>0)){t.next=9;break}return e=r.accounts[0],t.abrupt("break",12);case 9:n++,t.next=4;break;case 12:return t.next=14,rt.login(e.account,e.authorization);case 14:t.next=18;break;case 16:return t.next=18,rt.login();case 18:if(!rt.auth.accountName){t.next=27;break}return at.account=rt.auth.accountName,at.publicKey=rt.auth.publicKey,at.auth=rt.auth.permission,at.atmos="0.000",at.token="0.000",at.notifications=0,t.next=27,at.update(!0);case 27:t.next=32;break;case 29:return t.prev=29,t.t0=t.catch(0),t.abrupt("return",!1);case 32:return t.abrupt("return",!0);case 33:case"end":return t.stop()}},t,this,[[0,29]])})),function(){return D.apply(this,arguments)}),Z=(U=l()(c.a.mark(function t(e,n){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(at.account||!e){t.next=4;break}if(!rt){t.next=4;break}return t.next=4,X();case 4:return t.abrupt("return",at);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return U.apply(this,arguments)}),Y=(W=l()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt.logout();case 2:return at.setDefault(),t.abrupt("return",at);case 4:case"end":return t.stop()}},t,this)})),function(){return W.apply(this,arguments)}),Q=(H=l()(c.a.mark(function t(e){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=ot(),t.next=3,n.rpc.history_get_transaction(e);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)})),function(t){return H.apply(this,arguments)}),tt=(G=l()(c.a.mark(function t(e){var n,r,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Array.isArray(e)||(e=[e]),n=rt,console.log("create transit_actions"),r=e.map(function(t){return{account:t.contract,name:t.name,authorization:[{actor:n.auth.accountName,permission:n.auth.permission}],data:t.data}}),console.log(r),console.log("call transact"),a=null,t.next=9,n.eosApi.transact({actions:r},{broadcast:!0,blocksBehind:3,expireSeconds:180});case 9:return a=t.sent,console.log("called transact"),console.log(a),t.abrupt("return",a?a.transaction_id:null);case 13:case"end":return t.stop()}},t,this)})),function(t){return G.apply(this,arguments)}),et=(K=l()(c.a.mark(function t(e,n,r){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(rt&&rt.auth.accountName){t.next=3;break}return console.log("No wallet able to sign data: "+n),t.abrupt("return","");case 3:return t.prev=3,t.next=6,rt.signArbitrary(n,r);case 6:return a=t.sent,t.abrupt("return",a);case 10:t.prev=10,t.t0=t.catch(3),console.log('Failed to sign data "'+n+'"');case 13:case"end":return t.stop()}},t,this,[[3,10]])})),function(t,e,n){return K.apply(this,arguments)}),nt=Object(T.a)({appName:"eosforum",network:{host:"eos.greymass.com",port:443,protocol:"https",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},walletProviders:[Object(N.a)(),Object(F.a)(),Object(z.a)(),R()]}),rt=null,at=new O,it={keyToAccountMap:[]};function ot(){var t=h.e.settings.eos_api,e=t.protocol+"://"+t.host,n=new p.JsonRpc(e);return new p.Api({rpc:n,textDecoder:new d.TextDecoder,textEncoder:new d.TextEncoder})}J()},e8la:function(t,e,n){"use strict";var r=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("F977")),i=r(n("qjdW")),o=n("pAFz"),s=r(n("UoWS")),u=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"https",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:o.Blockchains.EOS,u=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"";(0,a.default)(this,t),this.name=e,this.protocol=n,this.host=r,this.port=i,this.blockchain=s,this.chainId=u.toString(),this.token=null}return(0,i.default)(t,[{key:"fullhost",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.port?":":"").concat(this.port)}},{key:"unique",value:function(){return("".concat(this.blockchain,":")+(this.chainId.length?"chain:".concat(this.chainId):"".concat(this.host,":").concat(this.port))).toLowerCase()}}],[{key:"placeholder",value:function(){return new t}},{key:"fromJson",value:function(e){var n=Object.assign(t.placeholder(),e);return n.chainId=n.chainId?n.chainId.toString():"",n.token=e.hasOwnProperty("token")&&e.token?s.default.fromJson(e.token):null,n}}]),t}();e.default=u},eBll:function(t,e){t.exports=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}},hcvs:function(t,e,n){var r=n("Y8zU"),a=n("RgJ4"),i=n("oemA").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,a.call(this,128,112)}function c(t,e,n){return n^t&(e^n)}function f(t,e,n){return t&e|n&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function p(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function h(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function _(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}r(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,a=0|this._ch,i=0|this._dh,s=0|this._eh,u=0|this._fh,b=0|this._gh,v=0|this._hh,g=0|this._al,w=0|this._bl,k=0|this._cl,x=0|this._dl,E=0|this._el,S=0|this._fl,A=0|this._gl,j=0|this._hl,O=0;O<32;O+=2)e[O]=t.readInt32BE(4*O),e[O+1]=t.readInt32BE(4*O+4);for(;O<160;O+=2){var T=e[O-30],$=e[O-30+1],P=d(T,$),I=h($,T),B=m(T=e[O-4],$=e[O-4+1]),M=_($,T),L=e[O-14],C=e[O-14+1],q=e[O-32],R=e[O-32+1],N=I+C|0,F=P+L+y(N,I)|0;F=(F=F+B+y(N=N+M|0,M)|0)+q+y(N=N+R|0,R)|0,e[O]=F,e[O+1]=N}for(var z=0;z<160;z+=2){F=e[z],N=e[z+1];var D=f(n,r,a),U=f(g,w,k),W=l(n,g),H=l(g,n),G=p(s,E),K=p(E,s),V=o[z],J=o[z+1],X=c(s,u,b),Z=c(E,S,A),Y=j+K|0,Q=v+G+y(Y,j)|0;Q=(Q=(Q=Q+X+y(Y=Y+Z|0,Z)|0)+V+y(Y=Y+J|0,J)|0)+F+y(Y=Y+N|0,N)|0;var tt=H+U|0,et=W+D+y(tt,H)|0;v=b,j=A,b=u,A=S,u=s,S=E,s=i+Q+y(E=x+Y|0,x)|0,i=a,x=k,a=r,k=w,r=n,w=g,n=Q+et+y(g=Y+tt|0,Y)|0}this._al=this._al+g|0,this._bl=this._bl+w|0,this._cl=this._cl+k|0,this._dl=this._dl+x|0,this._el=this._el+E|0,this._fl=this._fl+S|0,this._gl=this._gl+A|0,this._hl=this._hl+j|0,this._ah=this._ah+n+y(this._al,g)|0,this._bh=this._bh+r+y(this._bl,w)|0,this._ch=this._ch+a+y(this._cl,k)|0,this._dh=this._dh+i+y(this._dl,x)|0,this._eh=this._eh+s+y(this._el,E)|0,this._fh=this._fh+u+y(this._fl,S)|0,this._gh=this._gh+b+y(this._gl,A)|0,this._hh=this._hh+v+y(this._hl,j)|0},u.prototype._hash=function(){var t=i.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},j2yX:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},jhNH:function(t,e,n){var r=n("3hxE");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"kX+d":function(t,e){t.exports={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}]}},"kj/Q":function(t,e){t.exports=function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}},lsuE:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},luBh:function(t,e,n){"use strict";n.d(e,"b",function(){return m}),n.d(e,"a",function(){return y});var r,a,i,o=n("Xxa5"),s=n.n(o),u=n("exGp"),c=n.n(u),f=n("TsL6"),l=n("Dfrr"),p=n.n(l),d=n("aW/X"),h=n("dpOi"),m=(r=c()(s.a.mark(function t(){var e,n,r,a,i,o,u,c,l,m,_,y;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(d.a)(),Object(h.e)(),n={moderation:{accounts:f.e.moderation.accounts,transactions:f.e.moderation.transactions},subscribed_subs:f.e.subscribed_subs,unsubscribed_subs:f.e.unsubscribed_subs,last_notification:f.e.last_notification,following:f.e.following},r=parseInt((new Date).getTime()/1e3),t.next=6,Object(h.f)();case 6:if(!(a=t.sent).account){t.next=39;break}if(t.prev=8,i=!1,t.t0=f.e.accountstate[a.account],!t.t0){t.next=15;break}return t.next=14,e.isAccountStateAuthorized(f.e.accountstate[a.account],a.account,"");case 14:t.t0=t.sent;case 15:if(!t.t0){t.next=17;break}i=!0;case 17:if(i){t.next=29;break}return f.e.accountstate[a.account]=0,t.next=21,Object(h.j)(a.publicKey,r.toString(),"Start session");case 21:if(o=t.sent){t.next=24;break}throw new Error("invalid signature");case 24:return a.publicKey||(a.publicKey=p.a.recover(o,r.toString())),t.next=27,e.authorizeAccountState(a.account,a.publicKey,r,o);case 27:(u=t.sent).session_key&&(f.e.accountstate[a.account]=u.session_key);case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(8),console.log(t.t1);case 34:if(!f.e.accountstate[a.account]){t.next=39;break}return c={name:a.account,key:a.publicKey,session_key:f.e.accountstate[a.account],state:n},t.next=38,e.saveAccountState(c);case 38:t.sent;case 39:if(!f.e.anon_id.key||!p.a.isValidPrivate(f.e.anon_id.key)){t.next=58;break}if(l=p.a.privateToPublic(f.e.anon_id.key),t.t2=!f.e.accountstate[l],t.t2){t.next=46;break}return t.next=45,e.isAccountStateAuthorized(f.e.accountstate[l],"",l);case 45:t.t2=!t.sent;case 46:if(!t.t2){t.next=53;break}return f.e.accountstate[l]=0,m=p.a.sign(r.toString(),f.e.anon_id.key),t.next=51,e.authorizeAccountState("",l,r,m);case 51:(_=t.sent).session_key&&(f.e.accountstate[l]=_.session_key);case 53:if(!f.e.accountstate[l]){t.next=58;break}return y={name:"",key:l,session_key:f.e.accountstate[l],state:n},t.next=57,e.saveAccountState(y);case 57:t.sent;case 58:case"end":return t.stop()}},t,this,[[8,31]])})),function(){return r.apply(this,arguments)}),_=(a=c()(s.a.mark(function t(e){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t,e){if(t&&Array.isArray(t)){e.length=0;for(var n=0;n<t.length;n++)e.push(t[n])}},e&&(r=e.state,n(r.subscribed_subs,f.e.subscribed_subs),n(r.unsubscribed_subs,f.e.unsubscribed_subs),Object(f.d)(),r.following&&n(r.following.filter(function(t){return t}),f.e.following),r.moderation&&(n(r.moderation.accounts,f.e.moderation.accounts),n(r.moderation.transactions,f.e.moderation.transactions)),r.last_notification&&!isNaN(r.last_notification)&&(f.e.last_notification=r.last_notification),Object(f.c)());case 2:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)}),y=(i=c()(s.a.mark(function t(){var e,n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(d.a)(),t.next=3,Object(h.f)();case 3:if(n=t.sent,r=null,!n.account){t.next=11;break}return t.next=8,e.getAccountState(n.account);case 8:r=t.sent,t.next=15;break;case 11:if(!f.e.anon_id.key||!p.a.isValidPrivate(f.e.anon_id.key)){t.next=15;break}return t.next=14,e.getAccountState(p.a.privateToPublic(f.e.anon_id.key));case 14:r=t.sent;case 15:return t.next=17,_(r);case 17:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},njjI:function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n("QpOM"),e.sha1=n("56q8"),e.sha224=n("8SOI"),e.sha256=n("noOW"),e.sha384=n("Ssp1"),e.sha512=n("hcvs")},noOW:function(t,e,n){var r=n("Y8zU"),a=n("RgJ4"),i=n("oemA").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,a.call(this,64,56)}function c(t,e,n){return n^t&(e^n)}function f(t,e,n){return t&e|n&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function p(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,a=0|this._b,i=0|this._c,s=0|this._d,u=0|this._e,h=0|this._f,m=0|this._g,_=0|this._h,y=0;y<16;++y)n[y]=t.readInt32BE(4*y);for(;y<64;++y)n[y]=0|(((e=n[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[y-7]+d(n[y-15])+n[y-16];for(var b=0;b<64;++b){var v=_+p(u)+c(u,h,m)+o[b]+n[b]|0,g=l(r)+f(r,a,i)|0;_=m,m=h,h=u,u=s+v|0,s=i,i=a,a=r,r=v+g|0}this._a=r+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=h+this._f|0,this._g=m+this._g|0,this._h=_+this._h|0},u.prototype._hash=function(){var t=i.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},oemA:function(t,e,n){var r=n("EuP9"),a=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return a(t,e,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o),i(a,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},"p6/X":function(t,e,n){"use strict";n.d(e,"c",function(){return h}),n.d(e,"f",function(){return m}),n.d(e,"g",function(){return _}),n.d(e,"d",function(){return y}),n.d(e,"b",function(){return v}),n.d(e,"a",function(){return b}),n.d(e,"e",function(){return d});var r,a=n("Xxa5"),i=n.n(a),o=n("woOf"),s=n.n(o),u=n("fZjL"),c=n.n(u),f=n("exGp"),l=n.n(f),p=n("xhVP"),d=(r=l()(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.__PRESETS__){t.next=13;break}return t.prev=1,e=window.location.host,t.t0=JSON,t.next=6,p.a.get("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/presets/"+e+".json");case 6:t.t1=t.sent,window.__PRESETS__=t.t0.parse.call(t.t0,t.t1),console.log("Retrieved presets for "+e),t.next=13;break;case 11:t.prev=11,t.t2=t.catch(1);case 13:return window.__PRESETS__&&((n=window.__PRESETS__).header_texts&&(y=n.header_texts),n.default_sub&&n.default_sub),t.t3=JSON,t.next=17,p.a.get("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/brand-subs.json");case 17:t.t4=t.sent,b=t.t3.parse.call(t.t3,t.t4),console.log("Loaded brands for subs: "+c()(b).join(", ")),s()(v,b.novusphere);case 21:case"end":return t.stop()}},t,this,[[1,11]])})),function(){return r.apply(this,arguments)}),h="eosio.forum",m=25,_=10,y=["Did you know you in your **settings** you can toggle between a day and night theme?","Did you know you in your **settings** you can set delegated moderators to help filter spam?","Did you know you can block users who post spam by clicking their name to visit their profile and then clicking block?","Did you know you can post without an account in any of the **anon-** subs?"];window.__PRESETS__&&window.__PRESETS__.default_sub&&window.__PRESETS__.default_sub;var b=null,v={}},pAFz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockchainsArray=e.Blockchains=void 0;var r={EOS:"eos",ETH:"eth",TRX:"trx"};e.Blockchains=r;var a=Object.keys(r).map(function(t){return{key:t,value:r[t]}});e.BlockchainsArray=a},qjdW:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},qkGk:function(t,e,n){"use strict";(function(e){var r=n("Y8zU"),a=n("RxpK"),i=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(t,e){return t<<e|t>>>32-e}function u(t,e,n,r,a,i,o){return s(t+(e&n|~e&r)+a+i|0,o)+e|0}function c(t,e,n,r,a,i,o){return s(t+(e&r|n&~r)+a+i|0,o)+e|0}function f(t,e,n,r,a,i,o){return s(t+(e^n^r)+a+i|0,o)+e|0}function l(t,e,n,r,a,i,o){return s(t+(n^(e|~r))+a+i|0,o)+e|0}r(o,a),o.prototype._update=function(){for(var t=i,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,a=this._c,o=this._d;r=l(r=l(r=l(r=l(r=f(r=f(r=f(r=f(r=c(r=c(r=c(r=c(r=u(r=u(r=u(r=u(r,a=u(a,o=u(o,n=u(n,r,a,o,t[0],3614090360,7),r,a,t[1],3905402710,12),n,r,t[2],606105819,17),o,n,t[3],3250441966,22),a=u(a,o=u(o,n=u(n,r,a,o,t[4],4118548399,7),r,a,t[5],1200080426,12),n,r,t[6],2821735955,17),o,n,t[7],4249261313,22),a=u(a,o=u(o,n=u(n,r,a,o,t[8],1770035416,7),r,a,t[9],2336552879,12),n,r,t[10],4294925233,17),o,n,t[11],2304563134,22),a=u(a,o=u(o,n=u(n,r,a,o,t[12],1804603682,7),r,a,t[13],4254626195,12),n,r,t[14],2792965006,17),o,n,t[15],1236535329,22),a=c(a,o=c(o,n=c(n,r,a,o,t[1],4129170786,5),r,a,t[6],3225465664,9),n,r,t[11],643717713,14),o,n,t[0],3921069994,20),a=c(a,o=c(o,n=c(n,r,a,o,t[5],3593408605,5),r,a,t[10],38016083,9),n,r,t[15],3634488961,14),o,n,t[4],3889429448,20),a=c(a,o=c(o,n=c(n,r,a,o,t[9],568446438,5),r,a,t[14],3275163606,9),n,r,t[3],4107603335,14),o,n,t[8],1163531501,20),a=c(a,o=c(o,n=c(n,r,a,o,t[13],2850285829,5),r,a,t[2],4243563512,9),n,r,t[7],1735328473,14),o,n,t[12],2368359562,20),a=f(a,o=f(o,n=f(n,r,a,o,t[5],4294588738,4),r,a,t[8],2272392833,11),n,r,t[11],1839030562,16),o,n,t[14],4259657740,23),a=f(a,o=f(o,n=f(n,r,a,o,t[1],2763975236,4),r,a,t[4],1272893353,11),n,r,t[7],4139469664,16),o,n,t[10],3200236656,23),a=f(a,o=f(o,n=f(n,r,a,o,t[13],681279174,4),r,a,t[0],3936430074,11),n,r,t[3],3572445317,16),o,n,t[6],76029189,23),a=f(a,o=f(o,n=f(n,r,a,o,t[9],3654602809,4),r,a,t[12],3873151461,11),n,r,t[15],530742520,16),o,n,t[2],3299628645,23),a=l(a,o=l(o,n=l(n,r,a,o,t[0],4096336452,6),r,a,t[7],1126891415,10),n,r,t[14],2878612391,15),o,n,t[5],4237533241,21),a=l(a,o=l(o,n=l(n,r,a,o,t[12],1700485571,6),r,a,t[3],2399980690,10),n,r,t[10],4293915773,15),o,n,t[1],2240044497,21),a=l(a,o=l(o,n=l(n,r,a,o,t[8],1873313359,6),r,a,t[15],4264355552,10),n,r,t[6],2734768916,15),o,n,t[13],1309151649,21),a=l(a,o=l(o,n=l(n,r,a,o,t[4],4149444226,6),r,a,t[11],3174756917,10),n,r,t[2],718787259,15),o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+a|0,this._d=this._d+o|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=o}).call(e,n("EuP9").Buffer)},rzhs:function(t,e){t.exports={version:"eosio::abi/1.1",structs:[{name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}]}},tlMJ:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},tv1K:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},uK7o:function(t,e,n){"use strict";(function(t){var r=n("j2yX");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("+loF")),i=r(n("wUzc")),o=r(n("F977")),s=r(n("qjdW")),u=r(n("VojR")),c=r(n("tv1K")),f=r(n("jhNH")),l=n("FU6D"),p=l.SocketService,d=function(e){function n(){return(0,o.default)(this,n),(0,u.default)(this,(0,c.default)(n).call(this,l.Blockchains.EOS,l.PluginTypes.BLOCKCHAIN_SUPPORT))}return(0,f.default)(n,e),(0,s.default)(n,[{key:"setSocketService",value:function(t){p=t}},{key:"hookProvider",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return e=l.Network.fromJson(e),{requiredFields:{},getAvailableKeys:function(){var t=(0,i.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.sendApiRequest({type:"identityFromPermissions",payload:{}}).then(function(t){return t?t.accounts.filter(function(t){return t.blockchain===l.Blockchains.EOS}).map(function(t){return t.publicKey}):[]});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),sign:function(){var o=(0,i.default)(a.default.mark(function o(s){var u;return a.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=n?n():{},s.serializedTransaction=t.from(s.serializedTransaction).toString("hex"),o.abrupt("return",new Promise(function(){var n=(0,i.default)(a.default.mark(function n(i,o){return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:p.sendApiRequest({type:"requestSignature",payload:{transaction:s,blockchain:l.Blockchains.EOS,network:e,requiredFields:u}}).then(function(e){return r?void i({signatures:e.signatures,serializedTransaction:t.from(s.serializedTransaction,"hex")}):i(e.signatures)}).catch(function(t){return o(t)});case 1:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()));case 3:case"end":return o.stop()}},o,this)}));return function(){return o.apply(this,arguments)}}()}}},{key:"signatureProvider",value:function(){var t=this;0>=arguments.length||arguments[0];return function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};e=l.Network.fromJson(e);var a={},i=t.hookProvider(e,function(){return a},r.beta3||!1);return function(t,e){return new Proxy(t,e)}(new n(Object.assign(r,{signatureProvider:i})),{get:function(t,e){return function(){if(void 0===t[e])throw new Error("".concat(e," does not exist on the eosjs.Api() object."));for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.find(function(t){return t.hasOwnProperty("requiredFields")});return a=o?o.requiredFields:{},t[e].apply(t,r)}}})}}}]),n}(l.Plugin);e.default=d,"undefined"!=typeof window&&(window.ScatterEOS=d)}).call(e,n("EuP9").Buffer)},wUzc:function(t,e){function n(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(a,i){var o=t.apply(e,r);function s(t){n(o,a,i,s,u,"next",t)}function u(t){n(o,a,i,s,u,"throw",t)}s(void 0)})}}},wh04:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("dXij"),a=n.n(r),i=n("c/Tr"),o=n.n(i),s=n("lHA8"),u=n.n(s),c=n("Xxa5"),f=n.n(c),l=n("exGp"),p=n.n(l),d=n("Zrlr"),h=n.n(d),m=n("wxAW"),_=n.n(m),y=n("TsL6"),b=n("xhVP"),v=new(function(){function t(){h()(this,t),this.resetCache()}return _()(t,[{key:"resetCache",value:function(){this.cache={}}},{key:"resolve",value:function(){var t=p()(f.a.mark(function t(e,n){var r,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("197001"!=n){t.next=2;break}return t.abrupt("return",null);case 2:if(0!=(r=e).indexOf("https:")&&0!=r.indexOf("http:")){t.next=6;break}t.next=11;break;case 6:if(!(r.indexOf("/")>-1)){t.next=10;break}r="https://raw.githubusercontent.com/"+r+"/master",t.next=11;break;case 10:return t.abrupt("return",null);case 11:return t.prev=11,r=r+"/"+n+".json",t.t0=JSON,t.next=16,b.a.get(r);case 16:return t.t1=t.sent,a=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",a);case 21:return t.prev=21,t.t2=t.catch(11),t.abrupt("return",null);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"dateToKey",value:function(t){return 100*t.getUTCFullYear()+(t.getUTCMonth()+1)}},{key:"getCacheSet",value:function(){var t=p()(f.a.mark(function t(e){var n,r,a,i,s,c,l,p,d,h,m,_,v;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=(new Date).getTime(),r=new Date(1e3*e),a=this.dateToKey(r);case 3:if(0!=(i=this.cache[a])){t.next=9;break}return t.next=7,b.a.sleep(5);case 7:t.next=10;break;case 9:return t.abrupt("break",12);case 10:t.next=3;break;case 12:if(!(null==i||n-i.last_updated>=6e5)){t.next=37;break}s=function(t,e){if(e)for(var n=0;n<e.length;n++)t.add(e[n])},this.cache[a]=0,i={last_updated:n,accounts:[],transactions:[],nsfw:[],pinned:[]},c=new u.a,l=new u.a,p=new u.a,d={},h=0;case 21:if(!(h<y.e.moderation.mods.length)){t.next=31;break}return t.next=24,this.resolve(y.e.moderation.mods[h],a);case 24:if(null!=(m=t.sent)){t.next=27;break}return t.abrupt("continue",28);case 27:try{if(s(c,m.account),s(l,m.transactions),s(p,m.nsfw),m.pinned)for(_ in m.pinned)(v=d[_])||(v=new u.a,d[_]=v),s(v,m.pinned[_])}catch(t){console.log("error with moderator "+y.e.moderation.mods[h]+" for "+a)}case 28:h++,t.next=21;break;case 31:for(_ in d)d[_]=o()(d[_]);i.account=o()(c),i.transactions=o()(l),i.nsfw=o()(p),i.pinned=d,this.cache[a]=i;case 37:return t.abrupt("return",i);case 38:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getCurrentSet",value:function(){var t=p()(f.a.mark(function t(){var e,n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getCacheSet(e.getTime()/1e3);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getBlockedAccounts",value:function(){var t=p()(f.a.mark(function t(){var e,n,r,a,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getCurrentSet();case 3:return n=t.sent,t.next=6,this.getCacheSet((e.getTime()-26784e5)/1e3);case 6:for(r=t.sent,a=new u.a,i=0;i<n.accounts.length;i++)a.add(n.accounts[i]);for(i=0;i<r.accounts.length;i++)a.add(r.accounts[i]);for(i=0;i<y.e.moderation.accounts.length;i++)a.add(y.e.moderation.accounts[i]);return t.abrupt("return",o()(a));case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getPinned",value:function(){var t=p()(f.a.mark(function t(e){var n,r,i,o,s;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCurrentSet();case 2:return n=t.sent,r=[],(i=n.pinned.all)&&(r=a()(r,i)),0==e.indexOf("anon-")&&(o=n.pinned.anon)&&(r=a()(r,o)),"all"!=e&&(s=n.pinned[e])&&(r=a()(r,s)),t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"isNsfw",value:function(){var t=p()(f.a.mark(function t(e,n){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCacheSet(e);case 2:return r=t.sent,t.abrupt("return",r.nsfw.includes(n));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"isBlocked",value:function(){var t=p()(f.a.mark(function t(e,n,r){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r||!y.e.moderation.accounts.includes(r)){t.next=2;break}return t.abrupt("return",!0);case 2:if(!n||!y.e.moderation.transactions.includes(n)){t.next=4;break}return t.abrupt("return",!0);case 4:if(e){t.next=6;break}return t.abrupt("return",!1);case 6:return t.next=8,this.getCacheSet(e);case 8:return a=t.sent,t.abrupt("return",r&&a.accounts.includes(r)||n&&a.transactions.includes(n));case 10:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),t}())},xhVP:function(t,e,n){"use strict";var r=n("//Fk"),a=n.n(r),i=n("7t+N"),o=n.n(i);e.a={post:function(t,e){return new a.a(function(n,r){o.a.post(t,e,function(t){n(t)}).fail(function(t){r(t)})})},get:function(t,e){return new a.a(function(n,r){o.a.get(t,e,function(t){n(t)}).fail(function(t){r(t)})})},sleep:function(t){return new a.a(function(e){return setTimeout(e,t)})}}}},["NHnr"]);
//# sourceMappingURL=app.675f4c052890113b0887.js.map