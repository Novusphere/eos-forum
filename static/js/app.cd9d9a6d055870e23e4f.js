webpackJsonp([1],{0:function(t,e){},"05Ij":function(t,e){t.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}},1:function(t,e){},"1/oy":function(t,e){},"1QQ/":function(t,e){t.exports={_from:"bigi@^1.4.2",_id:"bigi@1.4.2",_inBundle:!1,_integrity:"sha1-nGZalfiLiwj8Bc/XMfVhhZ1yWCU=",_location:"/bigi",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"bigi@^1.4.2",name:"bigi",escapedName:"bigi",rawSpec:"^1.4.2",saveSpec:null,fetchSpec:"^1.4.2"},_requiredBy:["/ecurve","/eosjs-ecc"],_resolved:"https://registry.npmjs.org/bigi/-/bigi-1.4.2.tgz",_shasum:"9c665a95f88b8b08fc05cfd731f561859d725825",_spec:"bigi@^1.4.2",_where:"C:\\Users\\root\\Desktop\\Work\\Github\\novusphere-eos\\node_modules\\eosjs-ecc",bugs:{url:"https://github.com/cryptocoinjs/bigi/issues"},bundleDependencies:!1,dependencies:{},deprecated:!1,description:"Big integers.",devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},homepage:"https://github.com/cryptocoinjs/bigi#readme",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],main:"./lib/index.js",name:"bigi",repository:{url:"git+https://github.com/cryptocoinjs/bigi.git",type:"git"},scripts:{"browser-test":"mochify --wd -R spec",coverage:"istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info",jshint:"jshint --config jshint.json lib/*.js ; true",test:"_mocha -- test/*.js",unit:"mocha"},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]},version:"1.4.2"}},2:function(t,e){},3:function(t,e){},"5/kA":function(t,e){},"6ZSt":function(t,e){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"6yV3":function(t,e){},"7uYd":function(t,e){},"9M+g":function(t,e){},AF4G:function(t,e){},DMna:function(t,e){},GfHa:function(t,e){},Hujw:function(t,e){t.exports={get_actions:{params:{account_name:"account_name",pos:{type:"int32?",doc:"An absolute sequence positon -1 is the end/last action"},offset:{type:"int32?",doc:"The number of actions relative to pos, negative numbers return [pos-offset,pos), positive numbers return [pos,pos+offset)"}},results:{actions:"ordered_action_result[]",last_irreversible_block:"uint32",time_limit_exceeded_error:"bool?"},structs:[{name:"ordered_action_result",fields:{global_action_seq:"uint64",account_action_seq:"int32",block_num:"uint32",block_time:"block_timestamp_type",action_trace:"variant"}}]},get_transaction:{brief:"Retrieve a transaction from the blockchain.",params:{id:"transaction_id_type",block_num_hint:{type:"uint32?",default:0,doc:"A non-zero block number allows shorter transaction IDs (8 hex, 4 bytes)"}},results:{id:"transaction_id_type",trx:"variant",block_time:"block_timestamp_type",block_num:"uint32",last_irreversible_block:"uint32",traces:"variant[]"}},get_key_accounts:{params:{public_key:"public_key_type"},results:{account_names:"account_name[]"}},get_controlled_accounts:{params:{controlling_account:"account_name"},results:{controlled_accounts:"account_name[]"}}}},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,s,r=n("Xxa5"),o=n.n(r),i=n("exGp"),c=n.n(i),u=n("7+uW"),l=n("e6fC"),p={methods:{$_openPost:function(t,e,n){this.selectedPostID=t,this.oldRoute=this.$route.path,history.pushState({},"",window.__PRE_ROUTE__+"/e/"+e+"/"+t+"/"+n)},$_closePost:function(){this.selectedPostID=void 0,history.pushState({},"",""+window.__PRE_ROUTE__+this.oldRoute)}}},d=n("7t+N"),m=n.n(d),f=n("woOf"),_=n.n(f),h=n("mvHQ"),v=n.n(h),b=n("fZjL"),y=n.n(b),g=n("Dfrr"),k=n.n(g),w=(a=c()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.__PRESETS__&&window.__PRESETS__.storage&&(e=window.__PRESETS__.storage,$=m.a.extend(!0,$,e),e.subscribed_subs&&($.subscribed_subs=e.subscribed_subs),_()(j,JSON.parse(v()($)))),t.next=3,x();case 3:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),x=(s=c()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=window.localStorage.getItem("eosforum");try{S(JSON.parse(e))||(console.log("Failed to import/migrate storage"),console.log(e))}catch(t){console.log("Failed to load storage"),console.log(t)}if(j.anon_id.key){t.next=6;break}return t.next=5,k.a.randomKey();case 5:j.anon_id.key=t.sent;case 6:A();case 7:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)}),C=1e3,$={version:17,eos_referendum:!0,subscribed_subs:["all","novusphere","eos","anon-r-eos","anon-pol-econ"],unsubscribed_subs:[],new_posts:{},last_notification:0,moderation:{hide_spam_threads:!0,mods:[],accounts:[],transactions:[]},accountstate:{},anon_id:{name:"",key:""},settings:{atmos_upvotes:!0,scatter_timeout:3e3,theme:"https://eos-forum.org/static/css/theme/day.css",novusphere_api:"https://db.novusphere.io",eos_api:{host:"eos.greymass.com",port:"443",protocol:"https"}}},j=m.a.extend(!0,{},$);function S(t){for(;t.version<j.version;)t.version<5?t.subscribed_subs=j.subscribed_subs:t.version<7?t.settings=j.settings:t.version<8?t.settings.atmos_upvotes=j.settings.atmos_upvotes:t.version<9?t.settings.scatter_timeout=j.settings.scatter_timeout:t.version<11?t.settings.theme=j.settings.theme:t.version<12?t.eos_referendum=j.eos_referendum:t.version<13?t.moderation=j.moderation:t.version<14?t.moderation.hide_spam_threads=j.moderation.hide_spam_threads:t.version<15?t.anon_id=j.anon_id:t.version<16?t.accountstate={}:t.version<17&&(t.unsubscribed_subs=[]),t.version++;return t.version>=j.version?(j=t,P(),console.log("Loaded storage version "+j.version),!0):(console.log("Loaded storage failed"),!1)}function P(){for(var t=0;t<$.subscribed_subs.length;t++){var e=$.subscribed_subs[t];j.subscribed_subs.includes(e)||j.unsubscribed_subs.includes(e)||j.subscribed_subs.push(e)}j.subscribed_subs=j.subscribed_subs.sort()}function A(){var t=y()(j.new_posts);if(t.length>C)for(var e=C-t.length,n=0;n<e;n++)delete j.new_posts[t[n]];window.localStorage.setItem("eosforum",v()(j))}window.__getStorage=function(){return j},window.__saveStorage=function(){A()},window.__forgetStorage=function(){window.localStorage.setItem("eosforum",""),window.location.reload()},window.__forgetSettings=function(){j.settings=$.settings,A(),window.location.reload()};var E=n("//Fk"),T=n.n(E),q=function(t,e){return new T.a(function(n,a){m.a.post(t,e,function(t){n(t)}).fail(function(t){a(t)})})},M=function(t,e){return new T.a(function(n,a){m.a.get(t,e,function(t){n(t)}).fail(function(t){a(t)})})},N=function(t){return new T.a(function(e){return setTimeout(e,t)})},B=function(){var t=c()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.__PRESETS__){t.next=13;break}return t.prev=1,e=window.location.host,t.t0=JSON,t.next=6,M("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/presets/"+e+".json");case 6:t.t1=t.sent,window.__PRESETS__=t.t0.parse.call(t.t0,t.t1),console.log("Retrieved presets for "+e),t.next=13;break;case 11:t.prev=11,t.t2=t.catch(1);case 13:return window.__PRESETS__&&((n=window.__PRESETS__).header_texts&&(I=n.header_texts),n.default_sub&&n.default_sub),t.t3=JSON,t.next=17,M("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/brand-subs.json");case 17:t.t4=t.sent,O=t.t3.parse.call(t.t3,t.t4),console.log("Loaded brands for subs: "+y()(O).join(", ")),_()(z,O.novusphere);case 21:case"end":return t.stop()}},t,this,[[1,11]])}));return function(){return t.apply(this,arguments)}}(),R=10,I=["Did you know you in your **settings** you can toggle between a day and night theme?","Did you know you in your **settings** you can set delegated moderators to help filter spam?","Did you know you can block users who post spam by clicking their name to visit their profile and then clicking block?","Did you know you can post without an account in any of the **anon-** subs?"];window.__PRESETS__&&window.__PRESETS__.default_sub&&window.__PRESETS__.default_sub;var O=null,z={},D=n("rViV"),U=n.n(D),F=n("Zrlr"),L=n.n(F),V=n("wxAW"),H=n.n(V),G=n("JNUY"),K=n.n(G),W=function(){function t(e){L()(this,t);for(var n=new Uint8Array(e.length/2),a=0;a<n.length;a++)n[a]=parseInt(e.substr(2*a,2),16);this.bytes=n,this.offset=0}return H()(t,[{key:"readByte",value:function(){return this.bytes[this.offset++]}},{key:"readBytes",value:function(t){for(var e=new Uint8Array(t),n=0;n<t;n++)e[n]=this.readByte();return e}},{key:"readInt32",value:function(){return this.readByte()|this.readByte()<<8|this.readByte()<<16|this.readByte()<<24}},{key:"readVarInt",value:function(){for(var t=0,e=0,n=0;n<8;n++){var a=this.readByte();if(t+=e<28?(127&a)<<e:(127&a)*(0|Math.pow(2,e)),e+=7,a<128)break}return t}},{key:"readString",value:function(t){t=t||this.readVarInt();var e=this.readBytes(t);return String.fromCharCode.apply(null,e)}},{key:"readName",value:function(){for(var t=this.readBytes(8),e="",n=0;n<t.length;n++)e+=(t[n]<=15?"0":"")+t[n].toString(16);return K.a.decodeNameHex(e)}}]),t}(),J=function(){var t=c()(o.a.mark(function t(){var e,n,a,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Q){t.next=21;break}return t.t0=JSON,t.next=4,M("https://raw.githubusercontent.com/eoscafe/eos-airdrops/master/tokens.json");case 4:return t.t1=t.sent,e=t.t0.parse.call(t.t0,t.t1),n=[],t.prev=7,t.t2=JSON,t.next=11,M("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/tokens.json");case 11:t.t3=t.sent,n=t.t2.parse.call(t.t2,t.t3),t.next=19;break;case 15:t.prev=15,t.t4=t.catch(7),console.log("malformed (our) tokens.json"),console.log(t.t4);case 19:for(a=0;a<n.length;a++)s=n[a],(r=e.find(function(t){return t.symbol==s.symbol&&t.account==s.account}))?_()(r,s):e.push(s);Q=e;case 21:return t.abrupt("return",Q);case 22:case"end":return t.stop()}},t,this,[[7,15]])}));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=c()(o.a.mark(function t(e,n,a){var s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCurrencyStats(n,a);case 3:return s=t.sent,r=s[a].supply.split(" ")[0].split(".")[1].length,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,n,a){return t.apply(this,arguments)}}(),Q=null,X=n("JRkP"),Z=n.n(X),tt=n("hu3b"),et=n.n(tt);Z.a.plugins(new et.a);var nt,at,st,rt=j.settings.scatter_timeout,ot={blockchain:"eos",host:"eos.greymass.com",port:"443",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",protocol:"https"},it={broadcast:!0,sign:!0,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},ct=function(){function t(e,n){L()(this,t),this.scatter=e,this.identity=n}return H()(t,null,[{key:"detect",value:function(){var e=c()(o.a.mark(function e(n){var a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!(rt<1e4)){e.next=8;break}return console.log("Trying to connect to scatter with timeout "+rt+"ms..."),s=ot,e.next=6,Z.a.connect("eos-forum",{network:s,initTimeout:rt});case 6:e.sent?(console.log("Scatter loaded (desktop)"),a=new t(Z.a,n)):rt=Math.min(1e4,rt+1500);case 8:if(!a||!a.scatter.identity){e.next=11;break}return e.next=11,a.setIdentity();case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),H()(t,[{key:"setIdentity",value:function(){var t=c()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.a.login();case 2:return e=Z.a.account("eos"),this.identity.account=e.name,this.identity.publicKey=e.publicKey,this.identity.auth=e.authority,this.identity.atmos="0.000",this.identity.token="0.000",this.identity.notifications=0,t.next=11,this.identity.update(!0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"forgetIdentity",value:function(){var t=c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.a.logout();case 2:this.identity.setDefault();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"eos",value:function(){return ot.host=j.settings.eos_api.host,ot.port=j.settings.eos_api.port,Z.a.eos(ot,U.a,it,j.settings.eos_api.protocol)}},{key:"executeActions",value:function(){var t=c()(o.a.mark(function t(e,n){var a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.eos(),t.next=3,a.transaction(n.map(function(t){return t.contract}),function(t){for(var a=0;a<n.length;a++){var s=n[a];t[s.contract.replace(/\./g,"_")][s.name](s.data,e)}});case 3:return s=t.sent,t.abrupt("return",s.transaction_id);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var t=c()(o.a.mark(function t(e,n,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Z.a.getArbitrarySignature(e,n));case 1:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}()}]),t}(),ut=function(){function t(e,n){L()(this,t),this.lynx=e,this.identity=n}return H()(t,null,[{key:"detect",value:function(){var e=c()(o.a.mark(function e(n){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.lynxMobile){e.next=3;break}return a=window.lynxMobile,e.abrupt("return",new t(a,n));case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),H()(t,[{key:"setIdentity",value:function(){var t=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.lynx,t.next=3,n.requestSetAccountName();case 3:return a=t.sent,this.identity.account=a,this.identity.publicKey="",this.identity.auth="active",this.identity.atmos="0.000",this.identity.token="0.000",this.identity.notifications=0,t.next=12,this.identity.update(!0);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"forgetIdentity",value:function(){var t=c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.identity.setDefault();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"executeActions",value:function(){var t=c()(o.a.mark(function t(e,n){var a,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.lynx,s=n.map(function(t){return{account:t.contract,name:t.name,data:t.data,authorization:e.authorization}}),t.prev=2,t.next=5,a.transact(s);case 5:return null==(r=t.sent)||r.transaction_id,t.abrupt("return",r.transaction_id);case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var t=c()(o.a.mark(function t(e,n,a){var s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.lynx,t.next=3,s.requestArbitrarySignature({data:n,whatFor:a||""});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}()}]),t}(),lt=function(){function t(){L()(this,t),this.setDefault()}return H()(t,[{key:"setDefault",value:function(){this.account="",this.publicKey="",this.auth="",this.atmos="0.000",this.token="0.000",this.notifications=0,this._updater&&clearInterval(this.updater),window.dispatchEvent(new Event("identity"))}},{key:"update",value:function(){var t=c()(o.a.mark(function t(e){var n=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.account&&(window.dispatchEvent(new Event("identityUpdate")),this._updater||(this._updater=setInterval(function(){return n.update()},5e3))),e&&window.dispatchEvent(new Event("identity"));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}(),pt=function(){var t=c()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<ht.length)){t.next=11;break}return t.next=4,ht[e].detect(bt);case 4:if(!(n=t.sent)){t.next=8;break}return vt=n,t.abrupt("break",11);case 8:e++,t.next=1;break;case 11:vt||setTimeout(pt,2500);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),dt=function(){var t=c()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bt.account||!e){t.next=4;break}if(!vt){t.next=4;break}return t.next=4,vt.setIdentity(bt);case 4:return t.abrupt("return",bt);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),mt=(nt=c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return vt.forgetIdentity(),t.abrupt("return",bt);case 2:case"end":return t.stop()}},t,this)})),function(){return nt.apply(this,arguments)}),ft=(at=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Array.isArray(e)||(e=[e]),t.next=3,dt();case 3:return n=t.sent,a={authorization:[{actor:n.account,permission:n.auth}]},t.next=7,vt.executeActions(a,e);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)})),function(t){return at.apply(this,arguments)}),_t=(st=c()(o.a.mark(function t(e,n,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(vt.sign){t.next=2;break}return t.abrupt("return","");case 2:return t.next=4,vt.sign(e,n,a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)})),function(t,e,n){return st.apply(this,arguments)}),ht=[ct,ut],vt=null,bt=new lt;function yt(){if(vt&&vt.eos)return vt.eos();var t=j.settings.eos_api;return U()({httpEndpoint:t.protocol+"://"+t.host,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",keyProvider:[]})}pt();var gt=n("1e6/"),kt=n("C/JF"),wt=n("fhbW"),xt=n("Yu89"),Ct=n("DfMW"),$t=(n("Jmt5"),n("K3J8"),n("9M+g"),{name:"ErrorModal",mounted:function(){var t=this;return c()(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,a=window.alert,window._alert=function(t){a(t)},window.alert=function(t,e){n.text=t,n.title=e&&e.title?e.title:"Error",n.text_class=e&&e.text_class?e.text_class:"text-alert",m()("#errorModal").modal(e)};case 4:case"end":return e.stop()}},e,t)}))()},methods:{},data:function(){return{text_class:"",title:"",text:""}}}),jt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"errorModal"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"modal-body",staticStyle:{"word-wrap":"break-word"}},[n("div",{class:t.text_class+" text-center"},[t._v("\n              "+t._s(t.text)+"\n          ")])]),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("close")])])}]},St=n("VU/8")($t,jt,!1,null,null,null).exports,Pt={name:"ConfirmModal",mounted:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,window.confirm=function(){var t=c()(o.a.mark(function t(e,a,s){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a&&a(n.setStatus),!0,n.text=e,(i=m()(".modal.show")).modal("hide"),m()("#confirmModal").modal({backdrop:"static",keyboard:!1});case 6:return t.next=8,new T.a(function(t){n.resolve=t});case 8:if(!(r=t.sent)||!s){t.next=17;break}return t.next=12,s();case 12:if(!t.sent){t.next=15;break}return t.abrupt("break",20);case 15:t.next=18;break;case 17:return t.abrupt("break",20);case 18:t.next=6;break;case 20:return m()("#confirmModal").modal("hide"),i.modal(),a&&a(null),t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}();case 2:case"end":return e.stop()}},e,t)}))()},methods:{setStatus:function(t){this.text=t}},data:function(){return{resolve:null,text:""}}},At={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"confirmModal"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"text-center"},[t._v("\n              "+t._s(t.text)+"\n          ")])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(e){t.resolve(!0)}}},[t._v("ok")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.resolve(!1)}}},[t._v("cancel")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Confirm")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},Et=n("VU/8")(Pt,At,!1,null,null,null).exports;var Tt={lookup:{postParent:function(){return{from:Nt().config.collection_forum,localField:"data.reply_to_post_uuid",foreignField:"data.post_uuid",as:"parent"}},postState:function(){return{from:Nt().config.collection_post_state,localField:"transaction",foreignField:"txid",as:"state"}},threadReplies:function(t){var e=Nt();return t?{from:e.config.collection_forum,let:{post_uuid:{$concat:[{$literal:"ref-"},"$transaction"]}},pipeline:[{$project:{test:{$eq:["$$post_uuid","$data.reply_to_post_uuid"]}}},{$match:{test:!0}}],as:"replies"}:{from:e.config.collection_forum,localField:"data.post_uuid",foreignField:"data.reply_to_post_uuid",as:"replies"}},postReplies:function(){return{from:Nt().config.collection_forum,localField:"data.post_uuid",foreignField:"data.json_metadata.parent_uuid",as:"replies"}},postMyVote:function(t){return{from:Nt().config.collection_post_vote,let:{transaction:"$transaction"},pipeline:[{$match:{account:t}},{$project:{account:"$account",txid:"$txid",test:{$eq:["$$transaction","$txid"]}}},{$match:{test:!0}}],as:"my_vote"}}},match:{notifications:function(t,e){return e||(e=15391e5),{createdAt:{$gt:e},"data.json_metadata.sub":{$exists:!0,$ne:""},"data.poster":{$ne:t},$or:[{"data.reply_to_poster":t},{"data.json_metadata.parent_poster":t}]}},threadById:function(t){return Array.isArray(t)?{transaction:{$in:t}}:64==t.length?{transaction:t}:{id:parseInt(t)}},threadReplies:function(t){return{"data.reply_to_post_uuid":t}},threadsBySub:function(t,e){var n={"data.json_metadata.sub":t,"data.reply_to_post_uuid":"",createdAt:{$gte:1531434299}};return"all"==t?n["data.json_metadata.sub"]={$exists:!0,$ne:""}:"anon"==t?n["data.json_metadata.sub"]={$regex:"(^anon$|^anon-)",$options:"i"}:Array.isArray(t)&&(n["data.json_metadata.sub"]={$in:t}),e&&e.length>0&&(n["data.poster"]={$nin:e}),n},threadsByAccount:function(t){return{"data.json_metadata.edit":!1,"data.json_metadata.sub":{$exists:!0,$ne:""},"data.reply_to_post_uuid":"","data.poster":t,createdAt:{$gte:1531434299}}},postsByTag:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++)t[e]=t[e].toLowerCase();return{"data.json_metadata.edit":!1,tags:{$in:t},createdAt:{$gte:1531434299}}},postEdits:function(t,e){return{"data.poster":t,"data.json_metadata.parent_uuid":e,"data.json_metadata.edit":!0}},postsByAccount:function(t,e){var n=this.threadsByAccount(t);return e?n["data.reply_to_post_uuid"]={$ne:""}:delete n["data.reply_to_post_uuid"],n},validParent:function(){return{$or:[{parent:null},{"parent.data.json_metadata":{$ne:null}}]}}},project:{post:function(t){var e,n,a={id:"$id",name:"$name",transaction:"$transaction",createdAt:"$createdAt",data:"$data",tags:"$tags",expired:"$expired",replies:(t=_()({normalize_up:!1,normalize_parent:!1,normalize_my_vote:!1,recent_edit:!1,tip_replies_only:!1,total_replies:!1,score:!0},t)).total_replies?[]:"$replies",up:t.normalize_up?{$ifNull:[{$arrayElemAt:["$state.up",0]},0]}:"$up",up_atmos:t.normalize_up?{$ifNull:[{$arrayElemAt:["$state.up_atmos",0]},0]}:"$up_atmos",parent:t.normalize_parent?{$arrayElemAt:["$parent",0]}:"$parent",score:"$score",my_vote:t.normalize_my_vote?{$arrayElemAt:["$my_vote",0]}:"$my_vote",recent_edit:"$recent_edit"};return t.tip_replies_only&&(a.replies={$filter:{input:"$replies",as:"replies",cond:{$and:[{$eq:["$data.post_uuid","$$replies.data.json_metadata.parent_uuid"]},{$in:["tip",{$ifNull:["$$replies.tags",[]]}]}]}}}),t.score&&(a.score=(e=(new Date).getTime()/1e3,n=[1,{$ifNull:[{$arrayElemAt:["$state.up",0]},0]}],j.settings.atmos_upvotes&&(n=[{$add:n},{$ifNull:[{$arrayElemAt:["$state.up_atmos",0]},0]}]),{$divide:[{$add:n},{$pow:[{$add:[{$divide:[{$subtract:[e,"$createdAt"]},3600]},2]},1.8]}]})),t.recent_edit&&(a.recent_edit={$arrayElemAt:[{$filter:{input:"$replies",as:"reply",cond:{$and:[{$eq:["$$reply.data.json_metadata.edit",!0]},{$eq:["$$reply.data.json_metadata.parent_uuid","$data.post_uuid"]},{$eq:["$$reply.data.poster","$data.poster"]}]}}},-1]}),t.total_replies&&(a.total_replies={$size:{$filter:{input:"$replies",as:"reply",cond:{$ne:["$$reply.data.json_metadata.edit",!0]}}}}),a}},skip:{page:function(t,e){return(t-1)*e}},sort:{score:function(t){return{score:t?1:-1}},time:function(t){return{createdAt:t?1:-1}}}},qt=function(){function t(e){L()(this,t),this.config=e,this.query=Tt}return H()(t,[{key:"api",value:function(){var t=c()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(this.config.url+"/api",v()(e));case 2:if(!(n=t.sent).error){t.next=6;break}throw console.log(n),n;case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"cors",value:function(){var t=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.config.url+"/service/cors/?"+e,t.next=3,M(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getApiEnabled",value:function(){var t=c()(o.a.mark(function t(e,n){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!=this[n]){t.next=6;break}return t.next=4,M(this.config.url+e);case 4:a=t.sent,this[n]=a.enabled;case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this[n]=!1;case 11:if(!this[n]){t.next=13;break}return t.abrupt("return",this.config.url);case 13:return t.abrupt("return","https://db.novusphere.io");case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"authorizeAccountState",value:function(){var t=c()(o.a.mark(function t(e,n,a,s){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,r=t.t0+"/service/accountstate/authorize",t.next=6,q(r,{value:v()({name:e,key:n,nonce:a,sig:s})});case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}},t,this)}));return function(e,n,a,s){return t.apply(this,arguments)}}()},{key:"isAccountStateAuthorized",value:function(){var t=c()(o.a.mark(function t(e,n,a){var s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,s=t.t0+"/service/accountstate/authorized",s+="?session_key="+e,s+="&key="+a,s+="&name="+n,t.next=9,M(s);case 9:if(!(r=t.sent).error){t.next=12;break}return t.abrupt("return",!1);case 12:return t.abrupt("return",r.authorized);case 13:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"getAccountState",value:function(){var t=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,n=t.t0+"/service/accountstate/get",e.length>=13?n+="?key="+e:n+="?name="+e,t.next=7,M(n);case 7:if(!(a=t.sent).error){t.next=10;break}return t.abrupt("return",null);case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"saveAccountState",value:function(){var t=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/accountstate/","_account_state");case 2:return t.t0=t.sent,n=t.t0+"/service/accountstate/save",t.next=6,q(n,{value:v()(e)});case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"anonymousPost",value:function(){var t=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getApiEnabled("/service/anon/","_anonymous_post");case 2:return t.t0=t.sent,n=t.t0+"/service/anon/post",t.next=6,q(n,e);case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"wait",value:function(){var t=c()(o.a.mark(function t(e,n){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api(n);case 2:if(a=t.sent,!(a.cursor.firstBatch.length>0)){t.next=6;break}return t.abrupt("return",a);case 6:return t.next=8,N(e);case 8:t.next=0;break;case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"waitTx",value:function(){var t=c()(o.a.mark(function t(e,n,a,s){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a||(a=1e3),s||(s=this.config.collection_forum),t.next=4,this.wait(n,{find:s,maxTimeMS:a,filter:{transaction:e}});case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}},t,this)}));return function(e,n,a,s){return t.apply(this,arguments)}}()}]),t}(),Mt={url:"https://db.novusphere.io",collection_forum:"eosforum",collection_nsdb:"ns",collection_post_state:"ns_post_state",collection_post_vote:"ns_post_vote"};function Nt(){return Mt.url=j.settings.novusphere_api,new qt(Mt)}var Bt=function(){var t=c()(o.a.mark(function t(){var e,n,a,s,r,i,c,u,l,p,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Nt(),yt(),n={subscribed_subs:j.subscribed_subs,unsubscribed_subs:j.unsubscribed_subs,last_notification:j.last_notification},a=parseInt((new Date).getTime()/1e3),t.next=6,dt();case 6:if(!(s=t.sent).account){t.next=36;break}if(t.prev=8,t.t0=!j.accountstate[s.account],t.t0){t.next=14;break}return t.next=13,e.isAccountStateAuthorized(j.accountstate[s.account],s.account,"");case 13:t.t0=!t.sent;case 14:if(!t.t0){t.next=26;break}return j.accountstate[s.account]=0,t.next=18,_t(s.publicKey,a.toString(),"Start session");case 18:if(r=t.sent){t.next=21;break}throw new Error("invalid signature");case 21:return s.publicKey||(s.publicKey=k.a.recover(r,a.toString())),t.next=24,e.authorizeAccountState(s.account,s.publicKey,a,r);case 24:(i=t.sent).session_key&&(j.accountstate[s.account]=i.session_key);case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(8),console.log(t.t1);case 31:if(!j.accountstate[s.account]){t.next=36;break}return c={name:s.account,key:s.publicKey,session_key:j.accountstate[s.account],state:n},t.next=35,e.saveAccountState(c);case 35:t.sent;case 36:if(!j.anon_id.key||!k.a.isValidPrivate(j.anon_id.key)){t.next=55;break}if(u=k.a.privateToPublic(j.anon_id.key),t.t2=!j.accountstate[u],t.t2){t.next=43;break}return t.next=42,e.isAccountStateAuthorized(j.accountstate[u],"",u);case 42:t.t2=!t.sent;case 43:if(!t.t2){t.next=50;break}return j.accountstate[u]=0,l=k.a.sign(a.toString(),j.anon_id.key),t.next=48,e.authorizeAccountState("",u,a,l);case 48:(p=t.sent).session_key&&(j.accountstate[u]=p.session_key);case 50:if(!j.accountstate[u]){t.next=55;break}return d={name:"",key:u,session_key:j.accountstate[u],state:n},t.next=54,e.saveAccountState(d);case 54:t.sent;case 55:case"end":return t.stop()}},t,this,[[8,28]])}));return function(){return t.apply(this,arguments)}}(),Rt=function(){var t=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t,e){if(t&&Array.isArray(t)){e.length=0;for(var n=0;n<t.length;n++)e.push(t[n])}},e&&(a=e.state,n(a.subscribed_subs,j.subscribed_subs),n(a.unsubscribed_subs,j.unsubscribed_subs),P(),a.last_notification&&!isNaN(a.last_notification)&&(j.last_notification=a.last_notification),A());case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),It=function(){var t=c()(o.a.mark(function t(){var e,n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Nt(),t.next=3,dt();case 3:if(n=t.sent,a=null,!n.account){t.next=11;break}return t.next=8,e.getAccountState(n.account);case 8:a=t.sent,t.next=15;break;case 11:if(!j.anon_id.key||!k.a.isValidPrivate(j.anon_id.key)){t.next=15;break}return t.next=14,e.getAccountState(k.a.privateToPublic(j.anon_id.key));case 14:a=t.sent;case 15:return t.next=17,Rt(a);case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),Ot=n("dXij"),zt=n.n(Ot),Dt=n("c/Tr"),Ut=n.n(Dt),Ft=n("lHA8"),Lt=n.n(Ft),Vt=new(function(){function t(){L()(this,t),this.resetCache()}return H()(t,[{key:"resetCache",value:function(){this.cache={}}},{key:"resolve",value:function(){var t=c()(o.a.mark(function t(e,n){var a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("197001"!=n){t.next=2;break}return t.abrupt("return",null);case 2:if(0!=(a=e).indexOf("https:")&&0!=a.indexOf("http:")){t.next=6;break}t.next=11;break;case 6:if(!(a.indexOf("/")>-1)){t.next=10;break}a="https://raw.githubusercontent.com/"+a+"/master",t.next=11;break;case 10:return t.abrupt("return",null);case 11:return t.prev=11,a=a+"/"+n+".json",t.t0=JSON,t.next=16,M(a);case 16:return t.t1=t.sent,s=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",s);case 21:return t.prev=21,t.t2=t.catch(11),t.abrupt("return",null);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"dateToKey",value:function(t){return 100*t.getUTCFullYear()+(t.getUTCMonth()+1)}},{key:"getCacheSet",value:function(){var t=c()(o.a.mark(function t(e){var n,a,s,r,i,c,u,l,p,d,m,f,_;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=(new Date).getTime(),a=new Date(1e3*e),s=this.dateToKey(a);case 3:if(0!=(r=this.cache[s])){t.next=9;break}return t.next=7,N(5);case 7:t.next=10;break;case 9:return t.abrupt("break",12);case 10:t.next=3;break;case 12:if(!(null==r||n-r.last_updated>=6e5)){t.next=37;break}i=function(t,e){if(e)for(var n=0;n<e.length;n++)t.add(e[n])},this.cache[s]=0,r={last_updated:n,accounts:[],transactions:[],nsfw:[],pinned:[]},c=new Lt.a,u=new Lt.a,l=new Lt.a,p={},d=0;case 21:if(!(d<j.moderation.mods.length)){t.next=31;break}return t.next=24,this.resolve(j.moderation.mods[d],s);case 24:if(null!=(m=t.sent)){t.next=27;break}return t.abrupt("continue",28);case 27:try{if(i(c,m.account),i(u,m.transactions),i(l,m.nsfw),m.pinned)for(f in m.pinned)(_=p[f])||(_=new Lt.a,p[f]=_),i(_,m.pinned[f])}catch(t){console.log("error with moderator "+j.moderation.mods[d]+" for "+s)}case 28:d++,t.next=21;break;case 31:for(f in p)p[f]=Ut()(p[f]);r.account=Ut()(c),r.transactions=Ut()(u),r.nsfw=Ut()(l),r.pinned=p,this.cache[s]=r;case 37:return t.abrupt("return",r);case 38:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getCurrentSet",value:function(){var t=c()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getCacheSet(e.getTime()/1e3);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getBlockedAccounts",value:function(){var t=c()(o.a.mark(function t(){var e,n,a,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,t.next=3,this.getCurrentSet();case 3:return n=t.sent,t.next=6,this.getCacheSet((e.getTime()-26784e5)/1e3);case 6:for(a=t.sent,s=new Lt.a,r=0;r<n.accounts.length;r++)s.add(n.accounts[r]);for(r=0;r<a.accounts.length;r++)s.add(a.accounts[r]);for(r=0;r<j.moderation.accounts.length;r++)s.add(j.moderation.accounts[r]);return t.abrupt("return",Ut()(s));case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getPinned",value:function(){var t=c()(o.a.mark(function t(e){var n,a,s,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCurrentSet();case 2:return n=t.sent,a=[],(s=n.pinned.all)&&(a=zt()(a,s)),0==e.indexOf("anon-")&&(r=n.pinned.anon)&&(a=zt()(a,r)),"all"!=e&&(i=n.pinned[e])&&(a=zt()(a,i)),t.abrupt("return",a);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"isNsfw",value:function(){var t=c()(o.a.mark(function t(e,n){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCacheSet(e);case 2:return a=t.sent,t.abrupt("return",a.nsfw.includes(n));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"isBlocked",value:function(){var t=c()(o.a.mark(function t(e,n,a){var s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||!j.moderation.accounts.includes(a)){t.next=2;break}return t.abrupt("return",!0);case 2:if(!n||!j.moderation.transactions.includes(n)){t.next=4;break}return t.abrupt("return",!0);case 4:if(e){t.next=6;break}return t.abrupt("return",!1);case 6:return t.next=8,this.getCacheSet(e);case 8:return s=t.sent,t.abrupt("return",a&&s.accounts.includes(a)||n&&s.transactions.includes(n));case 10:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}()}]),t}()),Ht=function(){var t=c()(o.a.mark(function t(e){var n,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nt(),a=null,t.prev=2,t.t0=JSON,t.next=6,n.cors(e);case 6:t.t1=t.sent,a=t.t0.parse.call(t.t0,t.t1),t.next=13;break;case 10:return t.prev=10,t.t2=t.catch(2),t.abrupt("return",null);case 13:if(!(s=a.html.match(/src=\".+\"/))){t.next=18;break}return s=(s=s[0].substring(5)).substring(0,s.indexOf('"')),t.abrupt("return",{src:s,thumbnail:a.thumbnail_url,width:a.width,height:a.height});case 18:return t.abrupt("return",null);case 19:case"end":return t.stop()}},t,this,[[2,10]])}));return function(e){return t.apply(this,arguments)}}();function Gt(t){if(0==t.indexOf("magnet:"))return"magnet link";var e=document.createElement("a");return e.href=t,e.host.toLowerCase()}var Kt=function(){function t(e){L()(this,t),this.value="",this.type="",this.display="",this.width=0,this.height=0,e&&e.value&&e.type&&e.display&&(this.value=e.value,this.type=e.type,this.display=e.display,this.width=e.width?e.width:0,this.height=e.height?e.height:0)}return H()(t,[{key:"hasAttachment",value:function(t){return this.display==t}},{key:"isIframe",value:function(){return this.hasAttachment("iframe")}},{key:"isImg",value:function(){return this.hasAttachment("img")}},{key:"isMp4",value:function(){return this.hasAttachment("mp4")}},{key:"isMp3",value:function(){return this.hasAttachment("mp3")}},{key:"isLink",value:function(){return this.hasAttachment("link")}},{key:"normalize",value:function(){var t=c()(o.a.mark(function t(){var e,n,a,s,r,i,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,!(e=this)||!e.value){t.next=31;break}if("ipfs"!=e.type){t.next=8;break}e.type="url",e.value="https://gateway.ipfs.io/ipfs/"+e.value,t.next=29;break;case 8:if("url"!=e.type){t.next=29;break}if("youtu.be"==(a=Gt(e.value))&&(s=e.value.split("/"),e.value="https://www.youtube.com/watch?v="+s[s.length-1],a="youtube.com"),"youtube.com"!=a&&"www.youtube.com"!=a){t.next=16;break}return t.next=14,Ht("https://www.youtube.com/oembed?format=json&url="+e.value);case 14:null==(n=t.sent)&&(r=e.value.match("v=[a-zA-Z0-9_-]+"))&&r.length>0&&(n={src:"https://www.youtube.com/embed/"+r[0].substring(2),thumbnail:"",width:560,height:315});case 16:if("i.imgur.com"==a&&(e.display="img"),"i.redd.it"==a&&(e.display="img"),"twitter.com"==a&&(e.value="https://twitframe.com/show?url="+e.value,e.width=560,e.height=400,e.display="iframe"),"d.tube"!=a){t.next=24;break}return i=e.value.replace("/#!/","/"),t.next=23,Ht("https://api.d.tube/oembed?url="+i);case 23:n=t.sent;case 24:if("soundcloud.com"!=a){t.next=28;break}return t.next=27,Ht("https://soundcloud.com/oembed?format=json&url="+e.value);case 27:n=t.sent;case 28:"bitchute.com"!=a&&"www.bitchute.com"!=a||(c=e.value.match(/video\/[a-zA-Z0-9]+/))&&c.length>0&&(e.width=560,e.height=315,e.value="https://www.bitchute.com/embed/"+c[0].substring(6),e.display="iframe");case 29:"link"==e.display&&(e.value.endsWith(".png")||e.value.endsWith(".jpg")||e.value.endsWith(".jpeg")||e.value.endsWith(".gif"))&&(e.display="img"),"iframe"==e.display&&(0==e.value.indexOf("http:")&&(e.value="https:"+e.value.substring(5)),e.width||e.height||(e.width=560,e.height=315));case 31:n&&(e.thumbnail=n.thumbnail,e.width=n.width,e.height=n.height,e.value=n.src,e.display="iframe"),"img"!=e.display||e.thumbnail||(e.thumbnail=e.value);case 33:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),Wt=function(){function t(e){L()(this,t),e=_()({name:"",pub:"",sig:""},e),this.name=e.name?e.name:"",this.pub=e.pub?e.pub:"",this.sig=e.sig?e.sig:"",this.verified=!1}return H()(t,[{key:"verify",value:function(t){this.sig&&this.pub&&(this.verified=k.a.verify(this.sig,t,this.pub,"utf8"))}}]),t}(),Jt=function t(e){if(L()(this,t),"string"==typeof e)try{e=JSON.parse(e)}catch(t){}e=_()({title:"",sub:"",parent_uuid:"",parent_poster:"",edit:!1,attachment:null,reddit:null,anon_id:null},e),this.type=e.type,this.title=e.title,this.sub=e.sub,this.parent_uuid=e.parent_uuid,this.parent_poster=e.parent_poster,this.edit=!!e.edit,this.attachment=new Kt(e.attachment),this.reddit=new function t(e){L()(this,t),this.author="",this.permalink="",e&&e.author&&e.permalink&&(this.author=e.author,this.permalink=e.permalink)}(e.reddit),this.anon_id=new Wt(e.anon_id)},Yt=function t(e,n){L()(this,t),e=_()({poster:"",post_uuid:"",content:"",reply_to_poster:"",reply_to_post_uuid:"",certify:0,json_metadata:null,tags:[]},e),this.poster=e.poster,this.post_uuid=e.post_uuid,this.content=e.content,this.reply_to_poster=e.reply_to_poster,this.reply_to_post_uuid=e.reply_to_post_uuid,this.certify=e.certify,this.json_metadata=new Jt(e.json_metadata),this.json_metadata.anon_id.verify(this.content)},Qt=function(){var t=c()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(new Date).getTime(),!(null==ne||e-ne.last>=6e4)){t.next=8;break}return t.t0=JSON,t.next=5,M("https://s3.amazonaws.com/api.eosvotes.io/eosvotes/tallies/latest.json");case 5:t.t1=t.sent,n=t.t0.parse.call(t.t0,t.t1),ne={last:e,active:n};case 8:return t.abrupt("return",ne);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),Xt=function(){var t=c()(o.a.mark(function t(e,n){var a,s,r,i,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:if(!(n&&n.content||"post"!=n.name)){t.next=4;break}return t.abrupt("return",n);case 4:return a=yt(),t.next=7,a.getTransaction(e);case 7:s=t.sent,r=s.trx.trx.actions[0].data,i=new W(r),c={poster:i.readName(),post_uuid:i.readString(),content:i.readString(),reply_to_poster:i.readName(),reply_to_post_uuid:i.readString(),certify:i.readVarInt(),json_metadata:i.readString()};try{c.json_metadata=JSON.parse(c.json_metadata)}catch(t){}return t.abrupt("return",c);case 13:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),Zt=["referendum-v1","poll-yn-v1","poll-yna-v1","options-v1","multi-select-v1"],te=["no","yes"],ee=["no","yes","abstain"],ne=null,ae=function(){function t(e){if(L()(this,t),e&&"propose"==e.name){var n=e.data;this.setReferendum(e,e),e.data={poster:n.proposer,post_uuid:"ref-"+e.transaction,content:"",reply_to_poster:"",reply_to_post_uuid:"",certify:0,json_metadata:{title:n.title,type:"novusphere-forum",sub:"referendum",parent_uuid:"",parent_poster:"",edit:!1,attachment:{value:"",type:"",display:""}}}}e=_()({score:0,createdAt:0,transaction:"",name:"post",id:0,data:null,up:0,up_atmos:0,total_replies:0,recent_edit:null,parent:null,my_vote:null,referendum:null,tags:[],replies:[]},e),this._post=e,this._content="",this.score=e.score,this.parent=null,this.depth=0,this.is_pinned=!1,this.new_replies=0,this.children=[],this.createdAt=e.createdAt,this.transaction=e.transaction,this.id=e.id,this.up=e.up,this.total_replies=e.total_replies,this.my_vote=e.my_vote,this.referendum=e.referendum,this.tags=e.tags,this.tips=[],this.replies=e.replies,j.settings.atmos_upvotes&&(this.up=Math.floor(this.up+(e.up_atmos?e.up_atmos:0))),this.data=new Yt(null,this.createdAt),this.o_transaction=this.transaction,this.o_id=this.id,this.o_attachment=new Kt(this.data.json_metadata.attachment)}return H()(t,null,[{key:"fromArray",value:function(){var e=c()(o.a.mark(function e(n){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.map(function(e){return e instanceof t?e:new t(e)}),e.next=3,T.a.all(a.map(function(t){return t.normalize()}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"threadify",value:function(){var e=c()(o.a.mark(function e(n,a){var s,r,i,c,u,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.splice(0,0,n),e.next=3,t.fromArray(a);case 3:a=e.sent,s={},r=0,i=0;case 7:if(!(i<a.length)){e.next=26;break}if(c=a[i],s[c.data.post_uuid]=c,!(i>0)){e.next=23;break}if(c.parent=n,u=(u=c.data.json_metadata.parent_uuid)||n.data.post_uuid,l=s[u],!c.data.json_metadata.edit){e.next=21;break}if(!(c.data.poster==l.data.poster&&c.createdAt>l.createdAt)){e.next=19;break}return e.next=19,l.applyEdit(c);case 19:e.next=23;break;case 21:r++,l.addChild(c);case 23:i++,e.next=7;break;case 26:for(i=0;i<a.length;i++)a[i].children.sort(function(t,e){return e.score-t.score});return e.abrupt("return",{new_posts:r,responses:a,map:s});case 28:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),H()(t,[{key:"setReferendum",value:function(t,e){t.referendum={transaction:e.transaction,type:e.data.proposal_json.type||Zt[0],name:e.data.proposal_name,content:e.data.proposal_json.content,expired:Array.isArray(e.expired)?e.expired.length>0:e.expired,expires_at:e.data.expires_at,options:[],details:null},Zt.some(function(e){return e==t.referendum.type})||(t.referendum.type=Zt[0]),t.referendum.type==Zt[0]||t.referendum.type==Zt[1]?t.referendum.options=te:t.referendum.type==Zt[2]?t.referendum.options=ee:t.referendum.type==Zt[3]?t.referendum.options=(e.data.proposal_json.options||te).slice(0,255):t.referendum.type==Zt[4]&&(t.referendum.options=(e.data.proposal_json.options||te).slice(0,8))}},{key:"setReferendumDetails",value:function(){var t=c()(o.a.mark(function t(){var e,n,a,s,r,i,c,u,l,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.referendum){t.next=25;break}return isNaN(this.referendum.expires_at)&&(this.referendum.expires_at=new Date(this.referendum.expires_at).getTime()/1e3),this.referendum.expires_at<=(new Date).getTime()/1e3&&(this.referendum.expired=!0),t.next=5,Qt();case 5:for(e=t.sent,n=e.active,a=n[this.referendum.name],s={},r=0;r<this.referendum.options.length;r++)s[r]={value:0,percent:0};if(!a){t.next=24;break}i=a.stats.staked.total,this.referendum.type==Zt[4]&&(i=0),t.t0=o.a.keys(a.stats.staked);case 14:if((t.t1=t.t0()).done){t.next=23;break}if("total"!=(c=t.t1.value)){t.next=18;break}return t.abrupt("continue",14);case 18:if(u=a.stats.staked[c],u=(isNaN(u)?0:parseInt(u))/1e4,this.referendum.type==Zt[4])for(r=0;r<this.referendum.options.length;r++)0!=(c&1<<r)&&(r in s?s[r].value+=u:s[r]={value:u,percent:0},i+=1e4*u);else c in s&&(s[c].value=u);t.next=14;break;case 23:for(c in s)l=s[c].value,p=i>0?100*l/(i/1e4):0,s[c].percent=p.toFixed(1);case 24:this.referendum.details={votes:s,total_participants:a?a.stats.votes.total:0,total_eos:(a?a.stats.staked.total:0)/1e4};case 25:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"normalize",value:function(){var e=c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._post){e.next=2;break}return e.abrupt("return");case 2:return n=this._post,this._post=null,e.next=6,Xt(n.transaction,n.data);case 6:if(n.data=e.sent,this.data=new Yt(n.data,this.createdAt),this.o_attachment=new Kt(this.data.json_metadata.attachment),!n.recent_edit){e.next=12;break}return e.next=12,this.applyEdit(n.recent_edit);case 12:if(!n.parent){e.next=17;break}return this.parent=new t(n.parent),e.next=16,this.parent.normalize();case 16:this.data.json_metadata.title=this.parent.data.json_metadata.title;case 17:return e.next=19,this.detectAttachment();case 19:return e.next=21,this.detectContent();case 21:return e.next=23,this.setReferendumDetails();case 23:return e.next=25,this.data.json_metadata.attachment.normalize();case 25:this.detectTip();case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"detectTip",value:function(){var t=c()(o.a.mark(function t(){var e,n,a,s,r,i,c,u,l,p,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.data.json_metadata.edit){t.next=2;break}return t.abrupt("return");case 2:if(!this.tags.includes("tip")){t.next=27;break}return e=yt(),t.next=6,e.getTransaction(this.transaction);case 6:n=t.sent,a=n.trx.trx.actions,s=0;case 9:if(!(s<a.length)){t.next=27;break}if("transfer"!=a[s].name){t.next=24;break}return r=new W(a[s].hex_data),i=r.readName(),c=r.readName(),u=r.readInt32(),r.readInt32(),r.readByte(),l=r.readString(7).replace(/\0/g,""),p=r.readString(),t.next=21,Y(e,a[s].account,l);case 21:d=t.sent,u=(u/Math.pow(10,d)).toFixed(d),this.tips.push({from:i,to:c,amount:u,memo:p,symbol:l,contract:a[s].account});case 24:s++,t.next=9;break;case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getContent",value:function(){var t=this._content||this.data.content||"";return this.referendum&&(t&&(t+="\n\n---\n\n"),t+=this.referendum.content),t}},{key:"detectContent",value:function(){var t=c()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.data.content,n=/(.|)https:\/\/(\w|[:\/\.%-])+\.(png|jpg|jpeg|gif)(\?(\w|[:\/\.%-])+)?(.|)/g,e=e.replace(n,function(t){var e=t.trim();return e.startsWith("https")?"<center>!["+e+"]("+e+")</center>":t}),this._content=e;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"detectAttachment",value:function(){var t=c()(o.a.mark(function t(){var e,n,a,s,r,i,c,u,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.data.json_metadata.attachment).value||"referendum"!=e.display){t.next=7;break}return t.next=4,Be.actions.Referendum.GetProposal(e.value);case 4:return(n=t.sent)&&this.setReferendum(this,n),t.abrupt("return");case 7:if(!e.value.startsWith("https://trybe.one/")){t.next=25;break}return t.prev=8,t.next=11,M("https://db.novusphere.io/service/cors/?"+e.value);case 11:a=t.sent,(s=m()(a).find('div[class="entry-content"]')).find('div[class*="essb_links"]').remove(),s.find('div[class*="post-ratings"]').remove(),s.find('div[class*="post-ratings-loading"]').remove(),s.find("img").each(function(){var t="https://images.weserv.nl/?url=",e=m()(this);e.prop("src",t+e.prop("src"));var n=e.prop("srcset");n&&e.prop("srcset",n.split(", ").map(function(e){return t+e}).join(", "))}),e.type="markdown",e.display="markdown",e.value="**Source:** "+e.value+" \n\n----\n\n"+s.html(),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),console.log(t.t0);case 25:if(!e.value.startsWith("https://steemit.com")&&!e.value.startsWith("https://whaleshares.io")){t.next=39;break}return t.prev=26,t.next=29,M("https://db.novusphere.io/service/cors/?"+e.value);case 29:a=t.sent,s=m()(a).find(e.value.startsWith("https://steemit.com")?'div[class*="MarkdownViewer"]':'div[class*="StoryFull__content"]'),e.type="markdown",e.display="markdown",e.value="**Source:** "+e.value+" \n\n----\n\n"+s.html(),t.next=39;break;case 36:t.prev=36,t.t1=t.catch(26),console.log(t.t1);case 39:if(!e.value){t.next=41;break}return t.abrupt("return");case 41:r=function(t,n,a){e.value=t,e.type=n,e.display=a},i=[{match:/https:\/\/youtu.be\/[a-zA-Z0-9-_]+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/www.youtube.com\/watch\?v=[a-zA-Z0-9-_]+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/twitter.com\/[a-zA-Z0-9-_]+\/status\/[0-9]+/i,handle:function(t){return r(t[0],"url","link")}},{match:/https:\/\/t.me\/[\w]+\/[0-9]+/i,handle:function(t){return r(t[0],"url","link")}}],c=0;case 44:if(!(c<i.length)){t.next=53;break}if(u=i[c],!((l=this.data.content.match(u.match))&&l.length>0)){t.next=50;break}return u.handle(l),t.abrupt("break",53);case 50:c++,t.next=44;break;case 53:case"end":return t.stop()}},t,this,[[8,22],[26,36]])}));return function(){return t.apply(this,arguments)}}()},{key:"applyEdit",value:function(){var t=c()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xt(e.transaction,e.data);case 2:if(e.data=t.sent,this.createdAt=e.createdAt,this.transaction=e.transaction,this.id=e.id,this._content="",this.data.content=e.data.content,this.data.json_metadata.edit=!0,e.data.json_metadata.title&&(this.data.json_metadata.title=e.data.json_metadata.title),!e.data.json_metadata.attachment){t.next=18;break}return this.data.json_metadata.attachment=new Kt(e.data.json_metadata.attachment),t.next=14,this.detectAttachment();case 14:return t.next=16,this.detectContent();case 16:return t.next=18,this.setReferendumDetails();case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getTitle",value:function(){var t=this.data.json_metadata.title;return!t&&this.parent&&this.parent.data.json_metadata.title&&(t=this.parent.data.json_metadata.title),t||(t="untitled"),t}},{key:"getUrlTitle",value:function(){var t=this.getTitle();return t=t.replace(/\W/g,"_")}},{key:"addChild",value:function(t){t.depth=this.depth+1,this.children.push(t)}}]),t}(),se=function(){var t=c()(o.a.mark(function t(e,n){var a,s,r,i,c,u,l,p,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),a=Nt(),s={name:"propose",createdAt:{$gte:1547183719}},r={from:"eosforum",let:{proposal_name:"$data.proposal_name",createdAt:"$createdAt"},pipeline:[{$match:{name:"clnproposal"}},{$project:{txid:"$transaction",test:{$and:[{$eq:["$data.proposal_name","$$proposal_name"]},{$gte:["$createdAt","$$createdAt"]}]}}},{$match:{test:!0}}],as:"expired"},(new Date).getTime()/1e3,i={"expired.0":{$exists:"old"==n}},t.next=8,a.api({aggregate:"eosforum",maxTimeMS:7500,cursor:{},pipeline:[{$match:s},{$lookup:r},{$match:i},{$count:"n"}]});case 8:return c=(c=t.sent.cursor.firstBatch[0])?c.n:0,u=Math.ceil(c/25),t.next=13,a.api({aggregate:"eosforum",maxTimeMS:7500,cursor:{},pipeline:[{$match:s},{$lookup:r},{$match:i},{$sort:a.query.sort.time()},{$skip:a.query.skip.page(e,25)},{$limit:25},{$lookup:a.query.lookup.threadReplies(!0)},{$project:a.query.project.post({total_replies:!0})}]});case 13:l=t.sent.cursor.firstBatch,new Date,p=0;case 16:if(!(p<l.length)){t.next=24;break}return d=new ae(l[p]),t.next=20,d.normalize();case 20:l[p]=d;case 21:p++,t.next=16;break;case 24:return t.abrupt("return",{sub:"referendum",posts:l,pages:u,current_page:e});case 25:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),re=function(){var t=c()(o.a.mark(function t(e,n,a){var s,r,i,c,u,l,p,d,m,f,_,h,v;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||"referendum"!=n.toLowerCase()){t.next=2;break}return t.abrupt("return",se(e,a));case 2:if(e=parseInt(e||1),n||(n=j.subscribed_subs),s=Nt(),!j.moderation.hide_spam_threads){t.next=11;break}return t.next=8,Vt.getBlockedAccounts();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=[];case 12:return r=t.t0,t.next=15,s.api({count:s.config.collection_forum,maxTimeMS:7500,query:s.query.match.threadsBySub(n,r)});case 15:return i=t.sent.n,c=Math.ceil(i/25),t.next=19,dt();case 19:return u=t.sent,t.next=22,s.api({aggregate:s.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:s.query.match.threadsBySub(n,r)},{$lookup:s.query.lookup.postState()},{$project:s.query.project.post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:a},{$skip:s.query.skip.page(e,25)},{$limit:25},{$lookup:s.query.lookup.threadReplies()},{$lookup:s.query.lookup.postMyVote(u.account)},{$project:s.query.project.post({normalize_my_vote:!0,recent_edit:!0,total_replies:!0,tip_replies_only:!0,score:!1})}]});case 22:return l=t.sent.cursor.firstBatch,t.next=25,Vt.getPinned(n);case 25:return p=t.sent,t.next=28,s.api({aggregate:s.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:s.query.match.threadById(p)},{$lookup:s.query.lookup.postState()},{$project:s.query.project.post({normalize_up:!0,normalize_parent:!0})},{$lookup:s.query.lookup.threadReplies()},{$lookup:s.query.lookup.postMyVote(u.account)},{$project:s.query.project.post({normalize_my_vote:!0,recent_edit:!0,total_replies:!0,tip_replies_only:!0})}]});case 28:return d=t.sent.cursor.firstBatch,p=p.map(function(t){return d.find(function(e){return e.transaction==t})}).filter(function(t){return t}),t.next=32,ae.fromArray(zt()(p,l.filter(function(t){return!p.find(function(e){return e.transaction==t.transaction})})));case 32:l=t.sent,m=0;case 34:if(!(m<l.length)){t.next=55;break}if(f=l[m],m<d.length&&(f.is_pinned=!0),!(f.replies&&f.replies.length>0)){t.next=48;break}_=0;case 39:if(!(_<f.replies.length)){t.next=48;break}if(f.replies[_].data.json_metadata.parent_uuid!=f.data.post_uuid){t.next=45;break}return h=new ae(f.replies[_]),t.next=44,h.normalize();case 44:f.children.push(h);case 45:_++,t.next=39;break;case 48:(v=j.new_posts[f.data.post_uuid])&&isNaN(v)&&(v=v.replies),f.new_replies=void 0==v?f.total_replies+1:f.total_replies-v,f.new_replies=Math.max(f.new_replies,0);case 52:m++,t.next=34;break;case 55:return t.abrupt("return",{is_subscribed:j.subscribed_subs.includes(n),posts:l,pages:c,current_page:e,sub:Array.isArray(n)?"":n});case 56:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}(),oe=function(){var t=c()(o.a.mark(function t(e,n,a){var s,r,i,c,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),n=n.toLowerCase(),s=Nt(),t.next=5,s.api({count:s.config.collection_forum,maxTimeMS:7500,query:s.query.match.postsByTag(n)});case 5:return r=t.sent.n,i=Math.ceil(r/25),t.next=9,dt();case 9:return c=t.sent,t.next=12,s.api({aggregate:s.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:s.query.match.postsByTag(n)},{$lookup:s.query.lookup.postState()},{$lookup:s.query.lookup.postParent()},{$project:s.query.project.post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:a},{$skip:s.query.skip.page(e,25)},{$limit:25},{$lookup:s.query.lookup.postReplies()},{$lookup:s.query.lookup.postMyVote(c.account)},{$project:s.query.project.post({normalize_my_vote:!0,recent_edit:!0})},{$match:s.query.match.validParent()}]});case 12:return u=t.sent.cursor.firstBatch,t.next=15,ae.fromArray(u);case 15:return u=t.sent,t.abrupt("return",{posts:u,pages:i,current_page:e,tag:n});case 17:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}(),ie=function(){var t=c()(o.a.mark(function t(e){var n,a,s,r,i,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Nt(),t.next=3,dt();case 3:return a=t.sent,t.next=6,n.api({aggregate:n.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:{transaction:e}},{$lookup:n.query.lookup.postState()},{$lookup:n.query.lookup.postMyVote(a.account)},{$project:n.query.project.post({normalize_up:!0,normalize_my_vote:!0})}]});case 6:return s=t.sent.cursor.firstBatch[0],s=new ae(s),t.next=10,s.normalize();case 10:return t.next=12,n.api({find:n.config.collection_forum,maxTimeMS:7500,filter:n.query.match.postEdits(s.data.poster,s.data.post_uuid),sort:n.query.sort.time(!0)});case 12:return r=t.sent.cursor.firstBatch,t.next=15,ae.fromArray(r);case 15:for(r=t.sent,i=0;i<r.length;i++)(c=r[i]).up=s.up,c.my_vote=s.my_vote,s.addChild(c);return t.abrupt("return",{main_post:s});case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),ce=function(){var t=c()(o.a.mark(function t(e,n){var a,s,r,i,c,u,l,p,d,m,f,_,h,v,b;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Nt(),t.next=3,dt();case 3:return s=t.sent,t.next=6,a.api({aggregate:a.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:a.query.match.threadById(e)},{$lookup:a.query.lookup.postState()},{$lookup:a.query.lookup.postMyVote(s.account)},{$project:a.query.project.post({normalize_up:!0,normalize_my_vote:!0})}]});case 6:return r=t.sent.cursor.firstBatch[0],r=new ae(r),t.next=10,r.normalize();case 10:if(10239!=r.data.content.length){t.next=15;break}return t.next=13,a.api({aggregate:a.config.collection_nsdb,maxTimeMS:7500,cursor:{},pipeline:[{$match:{"data.account":r.data.poster,"data.json.method":"content_ext","data.json.data.post_uuid":r.data.post_uuid}}]});case 13:(i=t.sent.cursor.firstBatch[0])&&(r.data.content+=i.data.json.data.content);case 15:c=j.new_posts[r.data.post_uuid],r.__seen=c?c.seen:(new Date).getTime()/1e3,u=[],l=0;case 19:return t.next=21,a.api({aggregate:a.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:a.query.match.threadReplies(r.data.post_uuid)},{$lookup:a.query.lookup.postState()},{$lookup:a.query.lookup.postMyVote(s.account)},{$project:a.query.project.post({normalize_up:!0,normalize_my_vote:!0})},{$skip:l}]});case 21:for(p=t.sent.cursor.firstBatch,l+=p.length,d=0;d<p.length;d++)u.push(p[d]);if(p&&0!=p.length&&!(p.length<100)){t.next=26;break}return t.abrupt("break",28);case 26:t.next=19;break;case 28:return t.next=30,ae.threadify(r,u);case 30:return m=t.sent,f=m.new_posts,u=m.responses,j.new_posts[r.data.post_uuid]={title:r.data.json_metadata.title,sub:r.data.json_metadata.sub,id:r.o_id,replies:f,seen:parseInt((new Date).getTime()/1e3)},A(),_=r,n&&(h=function t(e){for(var n=0;n<e.children.length;n++){var a=e.children[n];a.depth=e.depth+1,t(a)}return e},64==n.length?v=u.find(function(t){return t.o_transaction==n}):(n=parseInt(n),v=u.find(function(t){return t.o_id==n})),v.depth>=1&&((b=m.map[v.data.json_metadata.parent_uuid]).children.length=0,b.children.push(v),v=b),v.parent=r,v.depth=0,v.data.json_metadata.title=r.data.json_metadata.title,r=h(v)),t.abrupt("return",{opening_post:_,main_post:r,count:u.length});case 38:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),ue=function(){var t=c()(o.a.mark(function t(e){var n,a,s,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),n=Nt(),t.next=4,dt();case 4:if((a=t.sent).account){t.next=7;break}return t.abrupt("return",{current_page:1,pages:0,posts:[]});case 7:return t.next=9,n.api({count:n.config.collection_forum,maxTimeMS:7500,query:n.query.match.notifications(a.account)});case 9:return s=t.sent.n,r=Math.ceil(s/25),t.next=13,n.api({aggregate:n.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:n.query.match.notifications(a.account)},{$lookup:n.query.lookup.postState()},{$lookup:n.query.lookup.postParent()},{$project:n.query.project.post({normalize_up:!0,normalize_parent:!0})},{$sort:n.query.sort.time()},{$skip:n.query.skip.page(e,25)},{$limit:25},{$lookup:n.query.lookup.postReplies()},{$lookup:n.query.lookup.postMyVote(a.account)},{$project:n.query.project.post({normalize_my_vote:!0,recent_edit:!0})},{$match:n.query.match.validParent()}]});case 13:return i=t.sent.cursor.firstBatch,t.next=16,ae.fromArray(i);case 16:return i=t.sent,t.abrupt("return",{current_page:e,pages:r,posts:i});case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),le=function(){var t=c()(o.a.mark(function t(e,n,a){var s,r,i,c,u,l,p,d,m,f;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e||1),t.next=3,Vt.isBlocked(0,null,n);case 3:return s=t.sent,r=yt(),i=Nt(),t.t0=parseFloat,t.next=9,r.getCurrencyBalance("novusphereio",n,"ATMOS");case 9:return t.t1=t.sent[0],c=(0,t.t0)(t.t1),c=(isNaN(c)?0:c).toFixed(3),t.next=14,i.api({count:i.config.collection_forum,maxTimeMS:1e4,query:i.query.match.postsByAccount(n,!0)});case 14:return u=t.sent.n,t.next=17,i.api({count:i.config.collection_forum,maxTimeMS:1e4,query:i.query.match.threadsByAccount(n)});case 17:return l=t.sent.n,p=Math.ceil((u+l)/25),t.next=21,dt();case 21:return d=t.sent,t.next=24,i.api({aggregate:i.config.collection_forum,maxTimeMS:1e4,cursor:{},pipeline:[{$match:i.query.match.postsByAccount(n,!1)},{$lookup:i.query.lookup.postState()},{$lookup:i.query.lookup.postParent()},{$project:i.query.project.post({normalize_up:!0,normalize_parent:!0,score:!0})},{$sort:a},{$skip:i.query.skip.page(e,25)},{$limit:25},{$lookup:i.query.lookup.postReplies()},{$lookup:i.query.lookup.postMyVote(d.account)},{$project:i.query.project.post({normalize_my_vote:!0,recent_edit:!0})},{$match:i.query.match.validParent()}]});case 24:return m=t.sent.cursor.firstBatch,t.next=27,ae.fromArray(m);case 27:return m=t.sent,f=m.length>0?new Date(1e3*m[0].createdAt).toLocaleString():"N/A",t.abrupt("return",{current_page:e,account:n,is_blocked:s,balance_atmos:c,n_comments:u,n_threads:l,last_activity:f,posts:m,pages:p});case 30:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}(),pe=function(){var t=c()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Nt(),t.next=3,e.api({aggregate:e.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:{"data.json_metadata.sub":{$exists:!0,$ne:""},"data.json_metadata.edit":!1}},{$group:{_id:"$data.json_metadata.sub",count:{$sum:1}}},{$sort:{count:-1}}]});case 3:return n=t.sent.cursor.firstBatch,t.abrupt("return",{subs:n});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),de=function(){var t=c()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("anon-r-eos"!=e){t.next=3;break}throw"You cannot make new threads in this sub from eos-forum";case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),me=function(){var t=c()(o.a.mark(function t(e,n){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(t,e){for(;;){var n=t.indexOf(e);if(n<0)break;t.splice(n,1)}},!e){t.next=8;break}if(!j.subscribed_subs.includes(n)){t.next=4;break}return t.abrupt("return",!0);case 4:a(j.unsubscribed_subs,n),j.subscribed_subs.push(n),t.next=12;break;case 8:if(!j.unsubscribed_subs.includes(n)){t.next=10;break}return t.abrupt("return",!1);case 10:a(j.subscribed_subs,n),j.unsubscribed_subs.push(n);case 12:return j.subscribed_subs=j.subscribed_subs.sort(),A(),t.next=16,Bt();case 16:return t.abrupt("return",e);case 17:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),fe=function(){var t=c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt();case 2:return t.sent.notifications=0,j.last_notification=parseInt((new Date).getTime()/1e3),A(),t.next=8,Bt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),_e=function(){var t=c()(o.a.mark(function t(e,n){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n?(a=j.moderation.accounts.indexOf(e))>-1&&j.moderation.accounts.splice(a,1):j.moderation.accounts.push(e),A();case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),he=function(){var t=c()(o.a.mark(function t(e,n){var a,s,r,i,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=parseFloat(n),!(isNaN(n)||n<=0)){t.next=3;break}throw"Invalid quantity of atmos";case 3:return t.next=5,dt();case 5:return a=t.sent,yt(),[{actor:a.account,permission:a.auth}],s="upvote for "+e.o_transaction,r=(n/(a.account==e.data.poster?1:2)).toFixed(3)+" ATMOS",t.prev=10,i=[],a.account!=e.data.poster&&i.push({contract:"novusphereio",name:"transfer",data:{from:a.account,to:e.data.poster,quantity:r,memo:s}}),i.push({contract:"novusphereio",name:"transfer",data:{from:a.account,to:"novuspheredb",quantity:r,memo:s}}),t.next=16,ft(i);case 16:t.sent,t.next=23;break;case 19:throw t.prev=19,t.t0=t.catch(10),console.log(t.t0),"Error: upvote transaction failed!";case 23:return c=Math.floor(n/R),t.abrupt("return",parseInt(e.up)+c);case 25:case"end":return t.stop()}},t,this,[[10,19]])}));return function(e,n){return t.apply(this,arguments)}}(),ve=function(){var t=c()(o.a.mark(function t(e){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt();case 2:if((n=t.sent).account){t.next=5;break}throw"You must be logged in to upvote comments!";case 5:return a={contract:"novuspheredb",name:"push",data:{account:n.account,json:v()({protocol:"novusphere",method:"forum_vote",data:{txid:e.o_transaction}})}},t.next=8,ft(a);case 8:return t.sent,e.my_vote||(e.my_vote={account:n.account,txid:e.o_transaction}),t.abrupt("return",(e.up?e.up:0)+1);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),be=function(){var t=c()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JSON,t.next=3,M("https://raw.githubusercontent.com/Novusphere/eos-forum-settings/master/mod-list.json");case 3:return t.t1=t.sent,e=t.t0.parse.call(t.t0,t.t1),t.abrupt("return",e.list);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),ye=function(){var t=c()(o.a.mark(function t(e,n,a,s,r,i){var c,u,l,p,d,m,f,_,h,v;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(!n.edit){t.next=4;break}return t.abrupt("return");case 4:if((c=e.content.match(/\#tip [0-9\.]+ [A-Z]+( @[a-z0-9\.]+)?/gi))&&0!=c.length){t.next=7;break}return t.abrupt("return");case 7:return u=yt(),t.next=10,J();case 10:l=t.sent,p=0;case 12:if(!(p<c.length)){t.next=30;break}if(d=n.parent_poster,(m=c[p].split(" ")).length>=4&&(d=m[3].substring(1)),m[2]=m[2].toUpperCase(),f=l.find(function(t){return t.symbol==m[2]})){t.next=21;break}return r("Error: could not find contract for tip symbol "+m[2]),t.abrupt("return",!1);case 21:return t.next=23,Y(u,f.account,f.symbol);case 23:_=t.sent,h=parseFloat(m[1]).toFixed(_),v={contract:f.account,name:"transfer",data:{from:i.account,to:d,quantity:h+" "+f.symbol,memo:"tip for "+a}},s.push(v);case 27:p++,t.next=12;break;case 30:case"end":return t.stop()}},t,this)}));return function(e,n,a,s,r,o){return t.apply(this,arguments)}}(),ge=function(){var t=c()(o.a.mark(function t(e,n,a,s,r,i){var c,u,l,p,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(!n.edit){t.next=4;break}return t.abrupt("return");case 4:if((c=e.content.match(/\#giftaccount [A-Za-z0-9\.]{12}/gi))&&0!=c.length){t.next=7;break}return t.abrupt("return");case 7:return u=c[0].split(" ")[1],l=Nt(),t.next=11,l.api({aggregate:l.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:l.query.match.threadById(a)}]});case 11:if((p=t.sent.cursor.firstBatch[0])&&p.data.json_metadata.anon_id){t.next=14;break}return t.abrupt("return");case 14:d=p.data.json_metadata.anon_id.pub,s.push({contract:"eosio",name:"newaccount",data:{creator:i.account,name:u,owner:d,active:d}}),s.push({contract:"eosio",name:"buyrambytes",data:{payer:i.account,receiver:u,bytes:4092}}),s.push({contract:"eosio",name:"delegatebw",data:{from:i.account,receiver:u,stake_net_quantity:"0.0500 EOS",stake_cpu_quantity:"0.1500 EOS",transfer:0}});case 18:case"end":return t.stop()}},t,this)}));return function(e,n,a,s,r,o){return t.apply(this,arguments)}}(),ke=function(){var t=c()(o.a.mark(function t(e,n,a){var s,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=10240,!(e.content.length<s)){t.next=3;break}return t.abrupt("return");case 3:r=e.content.substring(s-1),i=e.content.substring(0,s-1),e.content=i,n.push({contract:"novuspheredb",name:"push",data:{account:a.account,json:v()({protocol:"novusphere",method:"content_ext",data:{post_uuid:e.post_uuid,content:r}})}});case 7:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}(),we=function(){var t=c()(o.a.mark(function t(e,n,a,s,r,i){var c,u,l,p,d,m;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:return r||(r=function(){}),c=Nt(),t.next=6,dt();case 6:if(u=t.sent,e.poster=a?e.poster:u.account,t.prev=8,!a){t.next=26;break}if(!s){t.next=16;break}return t.next=13,confirm("Are you sure you want to post this anonymously?");case 13:if(t.sent){t.next=16;break}return r("Error: post canceled"),t.abrupt("return",!1);case 16:return t.next=18,c.anonymousPost(e);case 18:if(!(p=t.sent).error){t.next=23;break}return r(p.error),console.log(p.error),t.abrupt("return",!1);case 23:l=p.transaction_id,t.next=38;break;case 26:return yt(),d=JSON.parse(e.json_metadata),m=[{contract:"eosio.forum",name:"post",data:e}],t.next=31,ye(e,d,n,m,r,u);case 31:return t.next=33,ge(e,d,n,m,r,u);case 33:return t.next=35,ke(e,m,u);case 35:return t.next=37,ft(m);case 37:l=t.sent;case 38:t.next=45;break;case 40:return t.prev=40,t.t0=t.catch(8),r("Creating tx and broadcasting to EOS... Failed!"),console.log(t.t0),t.abrupt("return",!1);case 45:if(i){t.next=49;break}return r("Waiting for Novusphere to index..."),t.next=49,c.waitTx(l,500,1e3);case 49:return r(""),t.abrupt("return",l);case 51:case"end":return t.stop()}},t,this,[[8,40]])}));return function(e,n,a,s,r,o){return t.apply(this,arguments)}}(),xe=n("EKx1"),Ce=n.n(xe),$e={GetProposal:function(t){var e=this;return c()(o.a.mark(function n(){var a,s,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nt(),s={name:"propose",transaction:t},r={from:"eosforum",let:{proposal_name:"$data.proposal_name",createdAt:"$createdAt"},pipeline:[{$match:{name:"clnproposal"}},{$project:{txid:"$transaction",test:{$and:[{$eq:["$data.proposal_name","$$proposal_name"]},{$gte:["$createdAt","$$createdAt"]}]}}},{$match:{test:!0}}],as:"expired"},e.next=5,a.api({aggregate:"eosforum",maxTimeMS:7500,cursor:{},pipeline:[{$match:s},{$lookup:r}]});case 5:return i=e.sent.cursor.firstBatch,e.abrupt("return",i&&i.length>0?i[0]:null);case 7:case"end":return e.stop()}},n,e)}))()},GetVotes:function(t){var e=this;return c()(o.a.mark(function n(){var a,s,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nt(),e.next=3,a.api({find:"eosforum",maxTimeMS:7500,filter:{name:"vote","data.proposal_name":t.data.proposal_name,createdAt:{$gte:t.createdAt}},sort:a.query.sort.time()});case 3:return s=e.sent.cursor.firstBatch,e.next=6,a.api({find:"eosforum",maxTimeMS:7500,filter:{name:"unvote","data.proposal_name":t.data.proposal_name,createdAt:{$gte:t.createdAt}},sort:a.query.sort.time()});case 6:return r=e.sent.cursor.firstBatch,e.abrupt("return",{votes:s,unvotes:r});case 8:case"end":return e.stop()}},n,e)}))()},Status:function(t){var e=this;return c()(o.a.mark(function n(){var a,s,r,i,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return yt(),n.next=3,e.GetProposal(t);case 3:return a=n.sent,n.t0=JSON,n.next=7,M("https://s3.amazonaws.com/api.eosvotes.io/eosvotes/tallies/latest.json");case 7:return n.t1=n.sent,s=n.t0.parse.call(n.t0,n.t1),r=s[a.data.proposal_name],i=0,c=0,r&&(i=r.stats.staked[1],c=r.stats.staked[0],i=(isNaN(i)?0:parseInt(i))/1e4,c=(isNaN(c)?0:parseInt(c))/1e4),n.abrupt("return",{title:a.data.title,for:i,against:c,approval:i/Math.max(i+c,1),voters:r?r.stats.votes.total:-1});case 13:case"end":return n.stop()}},n,e)}))()},PushNewProposal:function(t){var e=this;return c()(o.a.mark(function n(){var a,s,r,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(t,e){for(var n=Ce()(t+e),a="",s=0;s<12;s++){var r=n.charCodeAt(s);a+=r>=48&&r<=57?String.fromCharCode(122-(r-48)):String.fromCharCode(r)}return a},!(t.title.length>1024)){e.next=3;break}throw"Title is too long, over limit by "+(1024-t.title.length)+" characters";case 3:if(!(t.content.length>3e4)){e.next=5;break}throw"Post is too long, over limit by "+(3e4-t.content.length)+" characters";case 5:return e.next=7,dt();case 7:return s=e.sent,r={proposer:s.account,proposal_name:a(s.account,t.content),title:t.title,proposal_json:v()({type:t.type,content:t.content,options:t.options}),expires_at:new Date(t.expires_at).getTime()/1e3},e.prev=9,e.next=12,ft({contract:"eosio.forum",name:"propose",data:r});case 12:i=e.sent,e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(9),console.log(e.t0),"Error: Failed to submit proposal!";case 19:return c=Nt(),e.next=22,c.waitTx(i,500,1e3,"eosforum");case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}},n,e,[[9,15]])}))()},CleanProposal:function(t){var e=this;return c()(o.a.mark(function n(){var a,s,r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.GetProposal(t);case 2:return a=n.sent,s={contract:"eosio.forum",name:"clnproposal",data:{proposal_name:a.data.proposal_name,max_count:4294967295}},n.next=6,ft(s);case 6:return r=n.sent,n.abrupt("return",r);case 8:case"end":return n.stop()}},n,e)}))()},Expire:function(t){var e=this;return c()(o.a.mark(function n(){var a,s,r,i;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.GetProposal(t);case 2:return a=n.sent,s={contract:"eosio.forum",name:"expire",data:{proposal_name:a.data.proposal_name}},n.next=6,ft(s);case 6:return r=n.sent,i=Nt(),n.next=10,i.waitTx(r,500,1e3,"eosforum");case 10:case"end":return n.stop()}},n,e)}))()},Vote:function(t,e){var n=this;return c()(o.a.mark(function a(){var s,r,i,c;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,dt();case 2:return s=a.sent,a.next=5,n.GetProposal(t);case 5:return r=a.sent,i={contract:"eosio.forum",name:"vote",data:{voter:s.account,proposal_name:r.data.proposal_name,vote:e,vote_json:""}},a.next=9,ft(i);case 9:return c=a.sent,a.abrupt("return",c);case 11:case"end":return a.stop()}},a,n)}))()}},je=n("DlMc"),Se=n("HKE2"),Pe=n.n(Se),Ae=["A","B","BLOCKQUOTE","CODE","DEL","DD","DL","EM","H1","H2","H3","H4","I","IMG","KBD","LI","OL","P","PRE","S","SUP","SUB","STRONG","STRIKE","UL","BR","HR","#text","DIV","FIGURE","CENTER"],Ee=new RegExp("javascript","i"),Te=new RegExp("vbscript","i"),qe=new RegExp("data","i"),Me=function(){function t(e,n){L()(this,t),this.text=(e||"").replace(/&#x200B;/g,""),this.html="",this.attachments=[],(void 0==n||n>=1538136731)&&(this.useTwitter=!0),this._generateHtml(),this._postProcess()}return H()(t,[{key:"_generateHtml",value:function(){var t,e,n=[];if(this.useTwitter){var a="hash"==window.__ROUTER_MODE__?"\\#":"";n.push((t=function(t){return'<a href="'+a+"/u/"+t.trim().substring(1)+'">'+t+"</a>"},e=function(t){return' <a href="'+a+"/tag/"+t+'">#'+t+"</a>"},function(){return[{type:"lang",regex:"\\s([@][\\w.]+)",replace:function(e,n,a){return"\\"===n?e:t(e)}},{type:"lang",regex:"(.)?#([a-zA-Z0-9_]+)\\b",replace:function(t,n,a){return"\\"===n||"/"==n?t:e(a)}},{type:"lang",regex:"\\\\@",replace:"@"}]}))}var s=new Pe.a.Converter({extensions:n,simplifiedAutoLink:!0,requireSpaceBeforeHeadingText:!!this.useTwitter});this.html=s.makeHtml(this.text)}},{key:"_postProcess",value:function(){for(var t=m.a.parseHTML(this.html),e="",n=0;n<t.length;n++)e+=this._strip(t[n]);this.html=e}},{key:"_safeAttribute",value:function(t){return!t||0!=t.search(Ee)&&0!=t.search(Te)&&0!=t.search(qe)?t:"javascript:void(0)"}},{key:"_strip",value:function(t){if(t.children)for(var e=0;e<t.children.length;e++)this._strip(t.children[e]);if("SCRIPT"==t.nodeName)t.innerHTML="";else if(-1==Ae.indexOf(t.nodeName)){"IFRAME"==t.nodeName&&this.attachments.push({value:this._safeAttribute(t.getAttribute("src")),width:this._safeAttribute(t.getAttribute("width")),height:this._safeAttribute(t.getAttribute("height")),display:"iframe",type:"url"});for(e=0;e<t.attributes.length;e++)t.attributes[e].value="";t.innerHTML="",t.style="display: none;"}if(t.attributes)for(e=0;e<t.attributes.length;e++)t.attributes[e].value=this._safeAttribute(t.attributes[e].value);return t.outerHTML?t.outerHTML:""}}]),t}();var Ne={GetRandomHeaderText:function(){return I[Math.floor(Math.random()*I.length)]},GenerateAnonData:function(){var t=c()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={name:j.anon_id.name,pub:"",sig:""},j.anon_id.key){t.next=6;break}return t.next=4,k.a.randomKey();case 4:j.anon_id.key=t.sent,A();case 6:return j.anon_id.key&&k.a.isValidPrivate(j.anon_id.key)&&(n.pub=k.a.privateToPublic(j.anon_id.key),n.sig=k.a.sign(e,j.anon_id.key,"utf8")),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),PlaceholderPost:function(){return new ae},UpvotesToAtmos:function(t){return t*R},AtmosToUpvotes:function(t){return t/R},IsAnonSub:function(t){return"anon"==t||0==t.indexOf("anon-")},GeneratePostUuid:function(){return Object(je.v4)()},ParseMarkdown:function(t,e){return new Me(t,e)},GetHost:function(t){if(0==t.indexOf("magnet:"))return"magnet link";var e=document.createElement("a");return e.href=t,e.host.toLowerCase()},Route:function(t,e){var n=_()({},t.query),a=_()({},t.params),s=t.name;return e.query&&(n=_()(n,e.query)),e.params&&(a=_()(a,e.params)),{name:s,query:n,params:a}},UpdateBrand:function(t){t&&(t=t.toLowerCase());var e=t&&t in O?O[t]:O.novusphere;_()(z,e)}};window.addEventListener("identity",c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It();case 2:return t.next=4,Bt();case 4:A();case 5:case"end":return t.stop()}},t,this)}))),window.addEventListener("identityUpdate",c()(o.a.mark(function t(){var e,n,a,s,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=yt(),t.next=3,dt();case 3:return n=t.sent,t.t0=parseFloat,t.next=7,e.getCurrencyBalance("novusphereio",n.account,"ATMOS");case 7:if(t.t1=t.sent[0],a=(0,t.t0)(t.t1),s=a,!z.token_contract||"novusphereio"==z.token_contract&&"ATMOS"==z.token_symbol){t.next=16;break}return t.t2=parseFloat,t.next=14,e.getCurrencyBalance(z.token_contract,n.account,z.token_symbol);case 14:t.t3=t.sent[0],s=(0,t.t2)(t.t3);case 16:return r=Nt(),t.next=19,r.api({aggregate:r.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:r.query.match.notifications(n.account,j.last_notification)},{$count:"n"}]});case 19:i=t.sent.cursor.firstBatch,n.atmos=(isNaN(a)?0:a).toFixed(3),n.token=(isNaN(s)?0:s).toFixed(3),n.notifications=i.length>0?i[0].n:0;case 23:case"end":return t.stop()}},t,this)})));var Be={views:{Home:re,Tag:oe,Thread:ce,UserNotifications:ue,UserProfile:le,PostHistory:ie,Search:pe,Referendum:se},actions:{CheckCreateThread:de,Subscribe:me,MarkNotificationsAsRead:fe,BlockUser:_e,UpvotePaid:he,UpvoteFree:ve,GetReccomendedModList:be,PushNewPost:we,Referendum:$e},helpers:Ne},Re={name:"UpvoteModal",mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},computed:{upvotes:function(){return Be.helpers.AtmosToUpvotes(this.atmos)}},methods:{upvote:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.actions.UpvotePaid(t.post,t.atmos);case 3:t.post.up=e.sent,m()("#upvoteModal").modal("hide"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.error=e.t0;case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},modal:function(t){this.post=t,this.atmos=Be.helpers.UpvotesToAtmos(1),this.error="",m()("#upvoteModal").modal()}},data:function(){return{error:"",atmos:10,post:Be.helpers.PlaceholderPost()}}},Ie={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"upvoteModal"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("Upvote post by "+t._s(t.post.data.poster))]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"text-center"},[t._v("\n              You have already used your free up vote on this post, however, you can use your ATMOS to up vote it further.\n              Half of the ATMOS used to up vote this post will go to the poster and\n              the other half is send to novuspheredb account as a DAO fund.\n              If you are up voting your own post, the entire amount will be sent to the DAO fund.\n              Enter the amount of ATMOS you would like to use below.\n          ")]),t._v(" "),n("form",{staticClass:"mt-3"},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("ATMOS")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.atmos,expression:"atmos"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.atmos},on:{input:function(e){e.target.composing||(t.atmos=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Upvotes")]),t._v(" "),n("label",{staticClass:"col-sm-10 col-form-label"},[t._v(t._s(t.upvotes))])])]),t._v(" "),t.error?n("div",{staticClass:"text-center text-danger mt-3"},[n("p",[t._v(t._s(t.error))])]):t._e()]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.upvote()}}},[t._v("upvote")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("close")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]},Oe={name:"App",components:{ErrorModal:St,ConfirmModal:Et,UpvoteModal:n("VU/8")(Re,Ie,!1,null,null,null).exports},mounted:function(){window._VueApp=this,screen.width<=600&&(this.$root.showSubs=!1),localStorage.getItem("preview")&&(this.$root.showPreview=JSON.parse(localStorage.getItem("preview")))},methods:{},computed:{},data:function(){return{}}},ze={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("ErrorModal"),this._v(" "),e("ConfirmModal"),this._v(" "),e("UpvoteModal",{ref:"upvote"}),this._v(" "),e("router-view")],1)},staticRenderFns:[]},De=n("VU/8")(Oe,ze,!1,null,null,null).exports,Ue=n("/ocq"),Fe={name:"Test",mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},methods:{},data:function(){return{}}},Le={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Ve=n("VU/8")(Fe,Le,!1,null,null,null).exports,He={name:"Pager",props:{current_page:{type:Number,required:!0},pages:{type:Number,required:!0}},methods:{page:function(t){var e=Be.helpers.Route(this.$route,{query:{page:this.current_page+t}});this.$router.push(e)}},data:function(){return{}}},Ge={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.current_page>1?n("button",{staticClass:"btn btn-primary",on:{click:function(e){t.page(-1)}}},[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}})],1):t._e(),t._v(" "),t.current_page<t.pages?n("button",{staticClass:"btn btn-primary",on:{click:function(e){t.page(1)}}},[n("font-awesome-icon",{attrs:{icon:["fas","arrow-right"]}})],1):t._e()])},staticRenderFns:[]},Ke=n("VU/8")(He,Ge,!1,null,null,null).exports,We={name:"PostSorter",props:{change:{type:Function,required:!1,default:null},options:{type:Array,required:!1,default:function(){return["popular","time"]}},default_by:{type:String,required:!1,default:"popular"}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},watch:{default_by:function(){this.load(),this.change&&this.change(this.by)},"$route.query.sort":function(){this.load(),this.change&&this.change(this.by)}},methods:{load:function(){var t=this.$route.query.sort;this.by=t&&this.options.includes(t)?t:this.default_by},setBy:function(t){var e=Be.helpers.Route(this.$route,{query:{sort:t}});this.$router.push(e)},getSorter:function(){var t=Nt();return"popular"==this.by?t.query.sort.score():"time"==this.by?t.query.sort.time():this.by}},data:function(){return{by:"popular"}}},Je={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown d-inline-block"},[n("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{type:"button",id:"sortBy","data-toggle":"dropdown"}},[t._v("\n    "+t._s(t.by)+"\n  ")]),t._v(" "),n("div",{staticClass:"dropdown-menu"},t._l(t.options,function(e){return n("a",{key:e,staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(n){t.setBy(e)}}},[t._v(t._s(e))])}),0)])},staticRenderFns:[]},Ye=n("VU/8")(We,Je,!1,null,null,null).exports,Qe=n("2Fkr"),Xe=n("wO9E"),Ze={name:"PostAttachment",components:{Tweet:Qe.Tweet},props:{attachment:{type:Object,required:!1,default:null},id:{type:String,required:!0},collapse:{type:Boolean,required:!0}},mounted:function(){var t=this;return c()(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.show_iframe=!t.collapse,t.telegramID&&(n=document.getElementById(t.random_id+"-telegram"),(a=document.createElement("script")).setAttribute("data-telegram-post",t.telegramID),a.setAttribute("data-telegram-rn",t.random_id),a.setAttribute("data-width","100%"),n.appendChild(a),Object(Xe.a)(window));case 2:case"end":return e.stop()}},e,t)}))()},computed:{twitterID:function(){if(this.attachment.value.includes("twitframe.com/show")){var t=this.attachment.value.match(/status\/[0-9]+/);if(t&&t.length>0)return t[0].split("/")[1]}return""},telegramID:function(){if("url"==this.attachment.type){var t=this.attachment.value.indexOf("://t.me/");if(t>-1)return this.attachment.value.substring(t+"://t.me/".length)}return""},iframe:function(){return this.hasAttachment("iframe")&&!this.attachment.value.includes("twitframe.com/show")},img:function(){return this.hasAttachment("img")},mp4:function(){return this.hasAttachment("mp4")},mp3:function(){return this.hasAttachment("mp3")},link:function(){return this.hasAttachment("link")},markdown:function(){return this.hasAttachment("markdown")},markdown_html:function(){return new Me(this.attachment.value).html},any:function(){return this.attachment&&this.attachment.value&&this.attachment.display}},methods:{hasAttachment:function(t){return this.attachment.display==t}},data:function(){return{random_id:2147483647*Math.random()|0,show_iframe:!1}}},tn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return this.attachment&&this.attachment.value?n("div",{class:this.collapse?"row collapse":"row",attrs:{id:this.id}},[n("div",{staticClass:"col-md-12"},[t.twitterID?n("Tweet",{attrs:{id:t.twitterID}}):t.telegramID?n("div",{attrs:{id:t.random_id+"-telegram"}}):t.iframe?n("div",{staticClass:"text-center"},[n("iframe",{staticStyle:{"max-width":"100%"},attrs:{src:this.show_iframe?t.attachment.value:"",height:t.attachment.height,width:t.attachment.width,frameborder:"0",allow:"encrypted-media",allowfullscreen:""}})]):t.markdown?n("div",[n("p",{domProps:{innerHTML:t._s(t.markdown_html)}})]):t.img?n("div",[n("img",{staticClass:"limit-height",attrs:{src:t.attachment.value}})]):t.mp4?n("div",{staticClass:"text-center"},[n("video",{staticClass:"limit-height",attrs:{controls:""}},[n("source",{attrs:{src:t.attachment.value,type:"video/mp4"}})])]):t.mp3?n("div",[n("audio",{staticClass:"limit-height",attrs:{controls:""}},[n("source",{attrs:{src:t.attachment.value,type:"audio/mpeg"}})])]):t.link?n("div",[n("div",[n("a",{attrs:{target:"_blank",href:t.attachment.value}},[t._v(t._s(t.attachment.value))])])]):t._e()],1)]):t._e()},staticRenderFns:[]};var en=n("VU/8")(Ze,tn,!1,function(t){n("wKeD")},"data-v-cdc43650",null).exports,nn=n("PJh5"),an=n.n(nn),sn={name:"Post",components:{PostAttachment:en},props:{notification:{type:Boolean,required:!1,default:!1},preview:{type:Boolean,required:!1,default:!1},post:{type:Object,required:!0},thread:{type:Object,required:!1,default:null},showChildren:{type:Boolean,required:!1,default:!0}},computed:{created_at:function(){return an()(1e3*this.post.createdAt).fromNow()},received_tips:function(){var t=this,e={};return this.post.children.forEach(function(n){n.tips&&n.tips.filter(function(e){return e.to==t.post.data.poster}).forEach(function(t){void 0===e[t.symbol]?e[t.symbol]=Number(t.amount):e[t.symbol]+=Number(t.amount)})}),e},is_multi_referendum:function(){return this.post.referendum&&"multi-select-v1"==this.post.referendum.type},multi_vote_value:function(){for(var t=0,e=0;e<this.vote_value_multi.length;e++)this.vote_value_multi[e]&&(t|=1<<e);return t},is_edit:function(){return this.post.data.json_metadata.edit&&this.post.o_id!=this.post.id},is_mine:function(){return this.identity.account&&this.post.data.poster==this.identity.account},is_op:function(){return!this.post.data.reply_to_poster||this.notification},offsite:function(){return"url"==this.post.data.json_metadata.attachment.type&&this.post.data.json_metadata.attachment.value?Be.helpers.GetHost(this.post.data.json_metadata.attachment.value):null},sub:function(){return this.thread?this.thread.data.json_metadata.sub:this.post.data.json_metadata.sub},selectedPostID:function(){return this.post.parent?this.post.parent.o_id:this.thread?this.thread.o_id||this.thread.o_transaction:this.post.o_id||this.post.o_transaction},selectedPostTitle:function(){return this.thread?this.thread.getUrlTitle():this.post.getUrlTitle()},zen_mode:function(){var t=this.selectedPostID;return{name:"Thread",params:{sub:this.sub,id:t,title:this.selectedPostTitle,child_id:this.post.o_id||this.post.o_transaction}}},thread_link:function(){var t=this.selectedPostID;return{name:"Thread",params:{sub:this.sub,id:t,title:this.selectedPostTitle}}},perma_link:function(){var t=this.thread_link;return t.params.child_id=this.post.o_id||this.post.o_transaction,t},reddit:function(){return this.post.data.json_metadata.reddit},is_anon_alias:function(){return"eosforumanon"==this.post.data.poster&&this.post.data.json_metadata.anon_id.name},poster_name:function(){return this.reddit.author?this.reddit.author:this.is_anon_alias?this.post.data.json_metadata.anon_id.name.substring(0,12):this.post.data.poster},thumbnail:function(){var t=null;return t=t||(this.sub in O?O[this.sub].logo:O.novusphere.logo)}},mounted:function(){var t=this;return c()(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.$root.icons.length){e.next=7;break}return e.next=3,J();case 3:n=e.sent,a={},n.forEach(function(t){a[t.symbol]=t}),t.$root.icons=a;case 7:return e.next=9,dt();case 9:return t.identity=e.sent,t.hide_spam_threads=j.moderation.hide_spam_threads,e.next=13,Vt.isBlocked(t.post.createdAt,t.post.o_transaction,t.post.data.poster);case 13:if(t.is_spam=e.sent,t.hide=!!t.is_spam,e.t0=t.post.tags&&t.post.tags.includes("nsfw"),e.t0){e.next=23;break}if(e.t1=t.is_op,!e.t1){e.next=22;break}return e.next=21,Vt.isNsfw(t.post.createdAt,t.post.o_transaction);case 21:e.t1=e.sent;case 22:e.t0=e.t1;case 23:t.is_nsfw=e.t0;case 24:case"end":return e.stop()}},e,t)}))()},methods:{post_content_html:function(){var t=this.post.getContent();return new Me(t,this.post.createdAt).html},goToSub:function(t){var e=y()(O).find(function(e){if(O[e].token_symbol===t)return e});e&&e!==this.$route.params.sub?this.$router.push("/e/"+e):t||this.sub===this.$route.params.sub||this.$router.push("/e/"+this.sub)},showQuickEdit:function(){this.show_quick_edit=!this.show_quick_edit,this.quick_reply=this.show_quick_edit?this.post.data.content:"",this.show_quick_reply=!1},showQuickReply:function(){this.show_quick_reply=!this.show_quick_reply,this.show_quick_edit&&(this.quick_reply=""),this.show_quick_edit=!1},addTip:function(){var t=this;return c()(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=O.novusphere,O[t.sub]&&O[t.sub].token_symbol&&(n=O[t.sub]),a="#tip 1 "+n.token_symbol+" @"+t.post.data.poster,t.quick_reply+=" "+a;case 4:case"end":return e.stop()}},e,t)}))()},upvote:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.post.my_vote){e.next=3;break}return window._VueApp.$refs.upvote.modal(t.post),e.abrupt("return");case 3:return e.prev=3,e.next=6,Be.actions.UpvoteFree(t.post);case 6:t.post.up=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0),alert(e.t0);case 13:case"end":return e.stop()}},e,t,[[3,9]])}))()},quickReply:function(t){var e=this;return c()(o.a.mark(function n(){var a,s,r,i,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.quick_reply,s=e.post.data.json_metadata.attachment,e.setStatus("Generating post..."),!t){n.next=6;break}return n.next=6,N(100);case 6:if(n.t0=t?"eosforumanon":e.identity.account,n.t1=e.post.data.reply_to_poster||e.post.data.poster,n.t2=e.post.data.reply_to_post_uuid||e.post.data.post_uuid,n.t3=a,n.t4=Be.helpers.GeneratePostUuid(),n.t5=v.a,n.t6=e.sub,n.t7=e.post.data.post_uuid,n.t8=e.post.data.poster,n.t9=!!e.show_quick_edit,n.t10={value:e.show_quick_edit?s.value:"",type:e.show_quick_edit?s.type:"",display:e.show_quick_edit?s.display:""},!t){n.next=23;break}return n.next=20,Be.helpers.GenerateAnonData(a);case 20:n.t11=n.sent,n.next=24;break;case 23:n.t11=null;case 24:return n.t12=n.t11,n.t13={title:"",type:"novusphere-forum",sub:n.t6,parent_uuid:n.t7,parent_poster:n.t8,edit:n.t9,attachment:n.t10,anon_id:n.t12},n.t14=(0,n.t5)(n.t13),r={poster:n.t0,reply_to_poster:n.t1,reply_to_post_uuid:n.t2,certify:0,content:n.t3,post_uuid:n.t4,json_metadata:n.t14},e.setStatus("Waiting on confirmation / posting service..."),n.next=31,Be.actions.PushNewPost(r,e.post.transaction,t,!0,e.setStatus,!0);case 31:if(i=n.sent){n.next=34;break}return n.abrupt("return");case 34:if(!e.show_quick_edit){n.next=38;break}e.post.data.content=e.quick_reply,n.next=43;break;case 38:return c=new ae({createdAt:parseInt((new Date).getTime()/1e3),transaction:i,id:0,name:"post",data:r}),n.next=41,c.normalize();case 41:c.depth=e.post.depth+1,e.post.children.splice(0,0,c);case 43:e.show_quick_reply=!1,e.show_quick_edit=!1,e.quick_reply="",e.setStatus("");case 47:case"end":return n.stop()}},n,e)}))()},setStatus:function(t){this.status=t},referendumColor:function(t){return t>=this.referendum_colors.length?this.referendum_colors[0]:this.referendum_colors[t]},referendumClean:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.actions.Referendum.CleanProposal(t.post.referendum.transaction);case 2:case"end":return e.stop()}},e,t)}))()},referendumExpire:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.actions.Referendum.Expire(t.post.referendum.transaction);case 2:case"end":return e.stop()}},e,t)}))()},referendumVote:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.identity.account){e.next=3;break}return alert("You must be logged in to vote"),e.abrupt("return");case 3:if(!t.post.referendum.expired){e.next=6;break}return alert("This proposal has expired and can no longer be voted on"),e.abrupt("return");case 6:return e.next=8,Be.actions.Referendum.Vote(t.post.referendum.transaction,t.is_multi_referendum?t.multi_vote_value:t.vote_value);case 8:n=e.sent,alert("Snapshots are taken every hour, so it may take awhile before your vote is processed. Below is your transaction id. "+n,{title:"Thanks for voting!",text_class:"text-success"});case 10:case"end":return e.stop()}},e,t)}))()},togglePost:function(){this.hide=!this.hide,this.$forceUpdate()},openPost:function(){screen.width>600?this.$emit("openPost",this.selectedPostID,this.post.data.json_metadata.sub,this.selectedPostTitle):this.$router.push(this.thread_link)}},data:function(){return{vote_value_multi:[0,0,0,0,0,0,0,0],vote_value:0,referendum_colors:["#dc3545","#28a745","#98FB98","#48D1CC","#A52A2A","#9932CC","#FFE4E1","#FFDAB9"],status:"",identity:{},show_quick_reply:!1,show_quick_edit:!1,quick_reply:"",is_nsfw:!1,is_spam:!1,hide_spam_threads:!1,hide:!1}}},rn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.showChildren&&t.hide_spam_threads&&t.is_spam?t._e():n("div",{staticClass:"post",on:{click:t.openPost}},[0!==t.post.depth?[n("div",{staticClass:"post-toggle",on:{click:function(e){e.stopPropagation(),t.togglePost()}}},[n("font-awesome-icon",{staticClass:"toggle-icon",attrs:{icon:["fas",t.hide?"plus-circle":"minus-circle"]}}),t._v(" "),n("li",{staticClass:"list-inline-item"},[t.reddit.author?n("a",{attrs:{href:"https://www.reddit.com/user/"+t.reddit.author},on:{click:function(t){t.stopPropagation()}}},[n("font-awesome-icon",{staticClass:"fas",attrs:{icon:["fab","reddit"]}}),t._v("\n          "+t._s(t.poster_name)+"\n        ")],1):t.post.transaction?n("router-link",{attrs:{to:{name:"UserProfile",params:{account:t.post.data.poster}}},nativeOn:{click:function(t){t.stopPropagation()}}},[n("font-awesome-icon",{staticClass:"fas",attrs:{icon:["fas",t.is_anon_alias?"user-secret":"user-circle"]}}),t._v("\n          "+t._s(t.poster_name)+"\n        ")],1):t._e()],1),t._v(" "),n("div",{staticClass:"date"},[t._v("\n        "+t._s(t.created_at)+"\n      ")]),t._v(" "),n("div",{staticClass:"flex-center received-tips ml-1"},t._l(t.received_tips,function(e,a){return n("div",{key:a,staticClass:"flex hover",attrs:{title:e+" "+a},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.goToSub(a)}}},[a in t.$root.icons?n("img",{staticClass:"tip-icon",attrs:{src:t.$root.icons[a].logo}}):n("span",[t._v(t._s(a))]),t._v(" "),n("div",{staticClass:"tip-amount"},[t._v(" x "+t._s(e)+" ")])])}),0)],1)]:t._e(),t._v(" "),n("div",{staticClass:"post-body",class:{hidden:!0===t.hide&&0!==t.post.depth}},[n("div",{staticClass:"flex-column"},[n("div",{staticClass:"userinfo"},[t.is_op?n("div",{staticClass:"post-icon"},[n("div",[n("img",{staticClass:"hover",attrs:{src:t.thumbnail,alt:"thumbnail"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.goToSub()}}})]),t._v(" "),t.post.referendum&&t.post.referendum.details?n("div",{staticClass:"text-center"},[n("div",[n("font-awesome-icon",{attrs:{icon:["fas","user"]}}),t._v("\n              "+t._s(t.post.referendum.details.total_participants)+"\n            ")],1)]):t._e()]):t._e(),t._v(" "),n("div",[n("div",{staticClass:"flex-center"},[n("a",{staticClass:"title",attrs:{target:"_blank"},on:{click:function(e){e.stopPropagation(),t.$emit("openPost",t.selectedPostID,t.post.data.json_metadata.sub)}}},[t._v("\n                "+t._s(t.post.data.json_metadata.title)+"\n              ")]),t._v(" "),t.post.is_pinned||t.is_spam||t.is_nsfw?n("div",{staticClass:"text-center ml-1 mr-1"},[t.post.is_pinned?n("font-awesome-icon",{attrs:{icon:["fas","thumbtack"]}}):t._e(),t._v(" "),t.is_spam?n("font-awesome-icon",{attrs:{icon:["fas","exclamation-triangle"]}}):t._e(),t._v(" "),t.is_nsfw?n("font-awesome-icon",{attrs:{icon:["fas","eye-slash"]}}):t._e()],1):t._e(),t._v(" "),t.offsite?n("a",{staticClass:"offsite",attrs:{href:t.post.data.json_metadata.attachment.value,target:"_blank"}},[t._v("\n                ("+t._s(t.offsite)+")\n              ")]):t._e(),t._v(" "),t.is_op?[n("div",{staticClass:"flex-center received-tips ml-1"},t._l(t.received_tips,function(e,a){return n("div",{key:a,staticClass:"flex hover",attrs:{title:e+" "+a},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.goToSub(a)}}},[a&&a in t.$root.icons?n("img",{staticClass:"tip-icon",attrs:{src:t.$root.icons[a].logo}}):n("div",[t._v(t._s(a))]),t._v(" "),n("div",{staticClass:"tip-amount"},[t._v(" x "+t._s(e)+" ")])])}),0)]:t._e()],2),t._v(" "),t.is_op?n("div",[n("li",{staticClass:"list-inline-item"},[t.reddit.author?n("a",{attrs:{href:"https://www.reddit.com/user/"+t.reddit.author},on:{click:function(t){t.stopPropagation()}}},[n("font-awesome-icon",{attrs:{icon:["fab","reddit"]}}),t._v("\n                  "+t._s(t.poster_name)+"\n                ")],1):t.post.transaction?n("router-link",{attrs:{to:{name:"UserProfile",params:{account:t.post.data.poster}}},nativeOn:{click:function(t){t.stopPropagation()}}},[n("font-awesome-icon",{staticClass:"fas",attrs:{icon:["fas",t.is_anon_alias?"user-secret":"user-circle"]}}),t._v("\n                  "+t._s(t.poster_name)+"\n                ")],1):t._e()],1),t._v(" "),!t.thread||t.is_op?n("li",{staticClass:"list-inline-item"},[t._v("\n                in\n                "),t.post.id?n("router-link",{attrs:{to:{name:"Sub",params:{sub:t.post.data.json_metadata.sub}}},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v("\n                  "+t._s(t.post.data.json_metadata.sub)+"\n                ")]):t._e()],1):t._e()]):t._e()]),t._v(" "),t.is_op?n("div",{staticClass:"op-upvote"},[n("a",{staticClass:"up",on:{click:function(e){e.stopPropagation(),t.upvote()}}},[n("font-awesome-icon",{attrs:{icon:["fas","caret-up"]}}),t._v("\n            "+t._s(t.post.up)+"\n          ")],1)]):t._e()]),t._v(" "),n("div",{staticClass:"posttext float-left",class:{"op-posttext":t.is_op}},[n("div",[n("post-attachment",{ref:"post_attachment",attrs:{attachment:t.post.data.json_metadata.attachment,id:"content-"+t.post.data.post_uuid,collapse:!1}})],1),t._v(" "),t.post.referendum&&t.post.referendum.details?n("div",[t._l(t.post.referendum.options,function(e,a){return n("div",{key:a,staticClass:"mb-1"},[n("div",{staticClass:"progress"},[t.identity.account&&!t.is_multi_referendum?n("input",{directives:[{name:"model",rawName:"v-model",value:t.vote_value,expression:"vote_value"}],staticClass:"checkbox",attrs:{type:"radio",name:"vote"},domProps:{value:a,checked:t._q(t.vote_value,a)},on:{change:function(e){t.vote_value=a}}}):t._e(),t._v(" "),t.identity.account&&t.is_multi_referendum?n("input",{directives:[{name:"model",rawName:"v-model",value:t.vote_value_multi[a],expression:"vote_value_multi[i]"}],staticClass:"checkbox",attrs:{type:"checkbox",name:"vote2"},domProps:{checked:Array.isArray(t.vote_value_multi[a])?t._i(t.vote_value_multi[a],null)>-1:t.vote_value_multi[a]},on:{change:function(e){var n=t.vote_value_multi[a],s=e.target,r=!!s.checked;if(Array.isArray(n)){var o=t._i(n,null);s.checked?o<0&&t.$set(t.vote_value_multi,a,n.concat([null])):o>-1&&t.$set(t.vote_value_multi,a,n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.vote_value_multi,a,r)}}}):t._e(),t._v(" "),n("div",{staticClass:"referendumbar progress-bar",style:"width: "+t.post.referendum.details.votes[a].percent+"%; background-color: "+t.referendumColor(a),attrs:{role:"progressbar"}},[t._v("\n                "+t._s(e)+" ("+t._s(t.post.referendum.details.votes[a].percent)+"%)\n              ")])])])}),t._v(" "),t.identity.account?n("div",{staticClass:"text-center"},[t.post.referendum.expired?t._e():n("a",{staticClass:"btn btn-sm btn-primary",class:{referendum:t.post.referendum},on:{click:function(e){e.stopPropagation(),t.referendumVote()}}},[t._v("vote")]),t._v(" "),t.post.referendum.expired||t.post.data.poster!=t.identity.account?t._e():n("a",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){e.stopPropagation(),t.referendumExpire()}}},[t._v("expire")]),t._v(" "),t.post.data.poster==t.identity.account?n("a",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){e.stopPropagation(),t.referendumClean()}}},[t._v("clean")]):t._e()]):t._e()],2):t._e(),t._v(" "),t.post_content_html()?n("p",{domProps:{innerHTML:t._s(t.post_content_html())}}):t._e()]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"postinfobot"},[n("div",{staticClass:"posted"},[n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[t.is_op?t._e():n("a",{staticClass:"up",staticStyle:{"margin-right":"10px",display:"inline"},on:{click:function(e){e.stopPropagation(),t.upvote()}}},[n("font-awesome-icon",{attrs:{icon:["fas","caret-up"]}}),t._v("\n              "+t._s(t.post.up)+"\n            ")],1),t._v(" "),!t.thread&&t.post.transaction?n("a",{staticClass:"link",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$router.push(t.thread_link)}}},[n("font-awesome-icon",{attrs:{icon:["fas","reply"]}}),t._v(" "),t.post.parent?t._e():n("span",[t._v(t._s(t.post.total_replies)+" comments")])],1):n("a",{staticClass:"reply",on:{click:function(e){e.stopPropagation(),t.showQuickReply()}}},[n("font-awesome-icon",{attrs:{icon:["fas","reply"]}}),t._v("\n              reply\n            ")],1)]),t._v(" "),t.post.referendum&&t.post.referendum.details?n("li",{staticClass:"list-inline-item"},[n("img",{staticStyle:{display:"inline-block",height:"2em"},attrs:{src:"https://cdn.novusphere.io/static/eos3.svg"}}),t._v("\n            "+t._s(t.post.referendum.details.total_eos.toFixed(4))+"\n          ")]):t._e(),t._v(" "),t.is_mine&&t.thread&&!t.post.referendum?n("li",{staticClass:"list-inline-item"},[n("div",{staticClass:"hover",on:{click:function(e){e.stopPropagation(),t.is_op?t.$router.push({name:"EditThread",params:{sub:t.sub,edit_id:t.post.o_transaction}}):t.showQuickEdit()}}},[n("font-awesome-icon",{attrs:{icon:["fas","edit"]}}),t._v("\n              edit\n            ")],1)]):t._e(),t._v(" "),t.is_op?n("li",{staticClass:"list-inline-item"},[t.post.referendum?t._e():[n("font-awesome-icon",{attrs:{icon:["fas","clock"]}}),t._v("\n              "+t._s(t.created_at)+"\n            ")],t._v(" "),t.post.id&&t.is_edit?n("router-link",{attrs:{to:{name:"History",params:{id:t.post.o_transaction}}},nativeOn:{click:function(t){t.stopPropagation()}}},[n("font-awesome-icon",{attrs:{icon:["fas","history"]}})],1):t._e()],2):t._e(),t._v(" "),t.post.referendum?n("li",{staticClass:"list-inline-item"},[t.post.referendum.expired?n("span",{staticClass:"text-danger"},[t._v("expired")]):n("span",[t._v("expires on "+t._s(new Date(1e3*t.post.referendum.expires_at).toLocaleString()))])]):t._e(),t._v(" "),t.is_op?t._e():n("li",{staticClass:"list-inline-item"},[t.reddit.author?n("a",{attrs:{target:"_blank",href:"https://reddit.com"+t.reddit.permalink},on:{click:function(t){t.stopPropagation()}}},[n("font-awesome-icon",{attrs:{icon:["fab","reddit"]}}),t._v("\n              permalink\n            ")],1):t.post.transaction?n("router-link",{attrs:{to:t.perma_link},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v("\n              permalink\n            ")]):t._e()],1),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{href:"https://eosq.app/tx/"+t.post.transaction},on:{click:function(t){t.stopPropagation()}}},[n("font-awesome-icon",{attrs:{icon:["fas","link"]}})],1)]),t._v(" "),t.post.depth>=5?n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"hover black follow-discussion",on:{click:function(e){t.$root.mode="zen",t.$router.push(t.zen_mode)}}},[t._v("\n              follow the discussion\n            ")])]):t._e()])]),t._v(" "),n("div",{class:"quick-reply "+(t.show_quick_reply||t.show_quick_edit?"":"collapse"),attrs:{id:"qreply-"+t.post.data.post_uuid}},[n("div",{staticClass:"col-sm-12"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.quick_reply,expression:"quick_reply"}],staticClass:"form-control",attrs:{rows:"2",placeholder:"Content"},domProps:{value:t.quick_reply},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.quick_reply=e.target.value)}}})]),t._v(" "),t.status?n("div",{staticClass:"col-sm-12 text-center"},[n("span",[t._v(t._s(t.status))])]):t._e(),t._v(" "),n("div",{staticClass:"col-sm-12 mt-1 mb-2"},[t.identity.account?n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){t.quickReply(!1)}}},[t._v(t._s(t.show_quick_edit?"edit":"post"))]):t._e(),t._v(" "),t.show_quick_reply?n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){t.quickReply(!0)}}},[t._v("post anon")]):t._e(),t._v(" "),t.identity.account?n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){t.addTip()}}},[t._v("tip")]):t._e()])]),t._v(" "),n("div",{staticClass:"clearfix"})])]),t._v(" "),t.showChildren&&t.post.depth<5?t._l(t.post.children,function(e){return n("div",{key:e.o_id},[n("div",[!1===t.hide?n("post",{staticClass:"post-child",attrs:{post:e,thread:t.thread}}):t._e()],1)])}):t._e()],2)},staticRenderFns:[]};var on=n("VU/8")(sn,rn,!1,function(t){n("6yV3")},"data-v-623d457a",null).exports,cn=(n("lqu7"),n("x9ll"),n("gRE1")),un=n.n(cn),ln={name:"RecentlyVisited",mounted:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=(n=un()(j.new_posts)).filter(function(t){return t.id}).sort(function(t,e){return e.seen-t.seen}).slice(0,5).map(function(t){return _()({},t)}),t.posts=n;case 3:case"end":return e.stop()}},e,t)}))()},methods:{},data:function(){return{posts:[]}}},pn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Recently Visited")]),t._v(" "),t._l(t.posts,function(e){return n("div",{key:e.id},[n("div",{staticClass:"divline"}),t._v(" "),n("div",{staticClass:"blocktxt"},[n("router-link",{attrs:{to:{name:"Thread",params:{id:e.id,sub:e.sub}}}},[t._v("\n        "+t._s(e.title)+"\n      ")])],1)])})],2)},staticRenderFns:[]},dn={name:"Layout",metaInfo:function(){return{title:z.title,link:[{rel:"icon",href:this.brand_icon}],htmlAttrs:{lang:"en",amp:void 0}}},components:{RecentlyVisited:n("VU/8")(ln,pn,!1,null,null,null).exports},props:{load:{type:Function,required:!1}},watch:{"$route.params.sub":function(){this.updateBrand()}},computed:{subscribed_subs:function(){return j.subscribed_subs},noRightBar:function(){return!this.$slots.right_sidebar}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.updateBrand(),e.next=3,dt();case 3:t.identity=e.sent,window.addEventListener("identity",t.updateIdentity);case 5:case"end":return e.stop()}},e,t)}))()},beforeDestroy:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.removeEventListener("identity",t.updateIdentity);case 1:case"end":return e.stop()}},e,t)}))()},methods:{is_subscribed:function(){return this.subscribed_subs.includes(this.$route.params.sub)},subscribe:function(t){var e=this;return c()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.actions.Subscribe(t,e.$route.params.sub);case 2:e.$forceUpdate();case 3:case"end":return n.stop()}},n,e)}))()},subs:function(){for(var t=this,e=j.subscribed_subs.map(function(t){return{sub:t,logo:O.novusphere.logo}}).filter(function(e){return!t.defaultSubs.includes(e.sub)}),n=0;n<e.length;n++){var a=O[e[n].sub];a&&a.logo&&(e[n].logo=a.logo)}return e},updateBrand:function(){Be.helpers.UpdateBrand(this.$route.params.sub),this.brand_logo=z.logo,this.brand_icon=z.icon,this.brand_symbol=z.token_symbol,this.brand_banner=z.banner},updateIdentity:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt();case 2:t.identity=e.sent,t.load&&t.load();case 4:case"end":return e.stop()}},e,t)}))()},setIdentity:function(t){var e=this;return c()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,dt(t);case 2:e.identity=n.sent;case 3:case"end":return n.stop()}},n,e)}))()},login:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(!0);case 2:t.identity=e.sent,t.identity.account||alert("Failed to detect a compatible EOS wallet! If your wallet is open, and we failed to detect it try refreshing the page. However if you don't have a compatible EOS wallet, you can still post to the forum anonymously for free!");case 4:case"end":return e.stop()}},e,t)}))()},logout:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt();case 2:case"end":return t.stop()}},e,t)}))()},toggleSubs:function(){this.$root.showSubs=!this.$root.showSubs}},data:function(){return{eos_referendum:j.eos_referendum,identity:{},brand_logo:"",brand_icon:"",brand_symbol:"",brand_banner:"",sub_count:0,defaultSubs:["all","referendum"]}}},mn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid px-0"},[t.brand_banner?n("div",{staticClass:"BrandBanner__Container"},[n("div",{staticClass:"BrandBanner__Banner"},[t.brand_banner.endsWith(".svg")?n("object",{staticClass:"BrandBanner__Image",attrs:{data:t.brand_banner,type:"image/svg+xml"}}):n("img",{staticClass:"BrandBanner__Image",attrs:{src:t.brand_banner}})])]):t._e(),t._v(" "),n("div",{staticClass:"HeaderNavigation"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row navbar"},[n("div",{staticClass:"flex-center"},[n("div",{staticClass:"d-inline-block px-2 px-lg-4"},[n("router-link",{attrs:{to:{name:"Index"}}},[n("img",{staticStyle:{height:"38px"},attrs:{src:t.brand_logo}})])],1),t._v(" "),n("div",{staticClass:"d-sm-inline-block"},[n("b-dropdown",{staticClass:"mobile",attrs:{variant:"link",text:t.$route.params.sub||"Home"}},[n("b-dropdown-item",{on:{click:function(e){t.$router.push({name:"Index"})}}},[t._v("\n                Home\n              ")]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.$router.push({name:"Sub",params:{sub:"all"}})}}},[t._v("\n                All\n              ")]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.$router.push({name:"Sub",params:{sub:"referendum"}})}}},[t._v("\n                Referendum \n              ")]),t._v(" "),t._l(t.subs(),function(e){return n("b-dropdown-item",{key:e.sub,on:{click:function(n){t.$router.push({name:"Sub",params:{sub:e.sub}})}}},[e.logo?n("img",{staticStyle:{"max-width":"24px"},attrs:{src:e.logo}}):t._e(),t._v(" "),n("div",{staticStyle:{flex:"1"}},[t._v("\n                  e/"+t._s(e.sub)+"\n                ")]),t._v(" "),t._e()],1)})],2),t._v(" "),n("div",{staticClass:"desktop sub"},[t._v("\n              "+t._s(t.$route.params.sub||"Home")+"\n            ")])],1)]),t._v(" "),n("div",{staticClass:"text-right navbar-actions"},[t.identity.account?t._e():n("button",{staticClass:"btn btn-primary mx-2 mx-lg-4 ConnectButton",on:{click:function(e){t.login()}}},[t._v("\n            login\n          ")]),t._v(" "),n("div",{staticClass:"d-inline-block MenuIconButton"},[n("router-link",{attrs:{to:{name:"StartThread",params:{sub:t.$route.params.sub?t.$route.params.sub:"all"}}}},[n("font-awesome-icon",{attrs:{icon:["fas","pen"]}})],1)],1),t._v(" "),t.identity.account?n("div",{staticClass:"d-inline-block MenuIconButton"},[n("router-link",{class:t.identity.notifications>0?"text-danger":"",attrs:{to:{name:"UserNotifications"}}},[n("font-awesome-icon",{attrs:{icon:["fas","envelope"]}}),t._v(" "),t.identity.notifications>0?n("span",[t._v("\n                "+t._s(t.identity.notifications)+"\n              ")]):t._e()],1)],1):t._e(),t._v(" "),t.identity.account?n("div",{staticClass:"d-inline-block dropdown MenuIconButton"},[n("a",{attrs:{"data-toggle":"dropdown",href:"#"}},[n("font-awesome-icon",{attrs:{icon:["fas","user"]}})],1),t._v(" "),n("ul",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[n("li",{staticClass:"dropdown-item"},[n("router-link",{attrs:{to:{name:"UserProfile",params:{account:t.identity.account}}}},[t._v("\n                    "+t._s(t.identity.account)+"\n                ")])],1),t._v(" "),n("li",{staticClass:"dropdown-item"},[t._v("\n                  "+t._s(t.identity.atmos)+" ATMOS\n              ")]),t._v(" "),t.brand_symbol&&"ATMOS"!=t.brand_symbol?n("li",{staticClass:"dropdown-item"},[t._v("\n                  "+t._s(t.identity.token)+" "+t._s(t.brand_symbol)+"\n              ")]):t._e(),t._v(" "),n("li",{staticClass:"dropdown-item"},[n("a",{attrs:{role:"menuitem",tabindex:"-3",href:"javascript:void(0)"},on:{click:function(e){t.logout()}}},[t._v("\n                    disconnect\n                  ")])])])]):t._e(),t._v(" "),n("div",{staticClass:"d-inline-block MenuIconButton"},[n("router-link",{attrs:{to:{name:"Settings"}}},[n("font-awesome-icon",{attrs:{icon:["fas","cog"]}})],1)],1)])])])]),t._v(" "),n("section",{staticClass:"Content"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-lg-12 col-xl-12"},[n("div",{staticClass:"mt-1 mb-1"}),t._v(" "),t._t("content-full")],2)]),t._v(" "),n("div",{staticClass:"row"},["normal"===t.$root.mode?n("div",{staticClass:"col-0 col-lg-3 col-xl-3 sidebarblock"},[n("div",{staticClass:"desktop block"},[n("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Index"}}},[t._v("\n              Home\n            ")]),t._v(" "),n("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Sub",params:{sub:"all"}}}},[t._v("\n              All\n            ")]),t._v(" "),t.eos_referendum?n("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"Sub",params:{sub:"referendum"}}}},[t._v("\n                Referendum\n            ")]):t._e(),t._v(" "),n("div",{staticClass:"divline"}),t._v(" "),t._l(t.subs(),function(e){return n("router-link",{key:e.sub,staticClass:"dropdown-item",attrs:{to:{name:"Sub",params:{sub:e.sub}}}},[e.logo?n("img",{staticStyle:{"max-width":"24px"},attrs:{src:e.logo}}):t._e(),t._v(" "),n("div",[t._v("\n                e/"+t._s(e.sub)+"\n              ")]),t._v(" "),t._e()],1)})],2),t._v(" "),t.$route.params.sub?n("div",{staticClass:"block mobile"},[n("h3",[t._v("\n              /e/"+t._s(t.$route.params.sub)+"\n            ")]),t._v(" "),n("h3",[n("button",{staticClass:"btn subscribe",class:[{"btn-outline":!t.is_subscribed()},{"btn-primary":t.is_subscribed()}],attrs:{type:"button"},on:{click:function(e){t.subscribe(!t.is_subscribed())}}},[t._v("\n                "+t._s(t.is_subscribed()?"subscribed":"subscribe")+"\n              ")])])]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"col-12",class:[{"col-lg-6":"normal"===t.$root.mode},{"col-xl-6":"normal"===t.$root.mode}]},[t._t("content")],2),t._v(" "),"normal"===t.$root.mode?n("div",{staticClass:"col-0 col-lg-3 col-xl-3 sidebarblock"},[t.$route.params.sub?n("div",{staticClass:"block desktop"},[n("h3",[t._v("\n              /e/"+t._s(t.$route.params.sub)+"\n            ")]),t._v(" "),n("h3",[n("button",{staticClass:"btn subscribe",class:[{"btn-outline":!t.is_subscribed()},{"btn-primary":t.is_subscribed()}],attrs:{type:"button"},on:{click:function(e){t.subscribe(!t.is_subscribed())}}},[t._v("\n                "+t._s(t.is_subscribed()?"subscribed":"subscribe")+"\n              ")])])]):t._e(),t._v(" "),t.noRightBar?n("div",{staticClass:"block"},[n("recently-visited")],1):t._t("right_sidebar")],2):t._e()])])]),t._v(" "),n("footer",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 pt-2"},[n("p",{staticClass:"text-center",staticStyle:{"font-size":"20px"}},[n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://discord.gg/PtXzUVr"}},[n("font-awesome-icon",{attrs:{icon:["fab","discord"]}})],1)]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://www.youtube.com/channel/UCEHErggJuJJWDuBEoyLiRVQ"}},[n("font-awesome-icon",{attrs:{icon:["fab","youtube"]}})],1)]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://twitter.com/thenovusphere"}},[n("font-awesome-icon",{attrs:{icon:["fab","twitter"]}})],1)]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://medium.com/@thenovusphere/"}},[n("font-awesome-icon",{attrs:{icon:["fab","medium"]}})],1)]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://github.com/Novusphere"}},[n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://t.me/atmosforum"}},[n("font-awesome-icon",{attrs:{icon:["fab","telegram"]}})],1)])])]),t._v(" "),t._m(0),t._v(" "),n("p",{staticClass:"text-center"},[n("strong",[t._v("Partners")]),t._v(" "),n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[n("router-link",{attrs:{to:{name:"Sub",params:{sub:"eoscafe"}}}},[n("img",{attrs:{src:"https://cdn.discordapp.com/attachments/522320367293825036/522320438161047552/icon-1.png",width:"60"}}),t._v("EOS Cafe")])],1),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("router-link",{attrs:{to:{name:"Sub",params:{sub:"pixeos"}}}},[n("img",{attrs:{src:"https://raw.githubusercontent.com/eoscafe/eos-airdrops/master/logos/pixeos.png",width:"60"}}),t._v("pixEOS")])],1)])]),t._v(" "),t._m(1),t._v(" "),t._m(2)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[t._v("\n            This site is hosted entirely from "),n("a",{attrs:{href:"https://github.com/Novusphere/novusphere-eos/tree/gh-pages"}},[t._v("GitHub Pages")]),t._v(" and is fully "),n("a",{attrs:{href:"https://github.com/Novusphere/novusphere-eos"}},[t._v("open source")]),t._v(".\n            "),n("br"),t._v("\n            The developers of this software take no responsibility for the content displayed.\n            "),n("br"),t._v("\n            No images, files or media are hosted by the forum,\n            "),n("br"),t._v("\n            please contact the respective site owners hosting content in breach of DMCA.\n        ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("img",{staticStyle:{width:"12.5%"},attrs:{src:"https://cdn.novusphere.io/static/atmos.svg"}}),this._v(" "),e("img",{staticStyle:{width:"12.5%"},attrs:{src:"https://cdn.novusphere.io/static/eos3.svg"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-center"},[n("strong",[t._v("Special Thanks")]),t._v(" "),n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://www.eoscanada.com/"}},[t._v("EOS Canada")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://greymass.com/"}},[t._v("Greymass")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://www.genereos.io/"}},[t._v("GenerEOS")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://get-scatter.com/"}},[t._v("Scatter")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://eoslynx.com/"}},[t._v("EOS Lynx")])]),t._v(" "),n("li",{staticClass:"list-inline-item"},[n("a",{attrs:{target:"_blank",href:"https://eosflare.io/"}},[t._v("EOS Flare")])])])])}]};var fn=n("VU/8")(dn,mn,!1,function(t){n("DMna"),n("5/kA")},"data-v-74255aee",null).exports,_n={name:"Modal",mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},beforeCreate:function(){m()("html").css("overflow-y","hidden")},beforeDestroy:function(){m()("html").css("overflow-y","")},methods:{}},hn={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal"},[e("div",{staticClass:"body"},[this._t("default")],2)])},staticRenderFns:[]};var vn=n("VU/8")(_n,hn,!1,function(t){n("aKgn")},"data-v-5a4dc8f2",null).exports,bn={name:"ThreadModal",metaInfo:function(){return{titleTemplate:"%s | "+this.main_post.data.json_metadata.title}},components:{Pager:Ke,PostSorter:Ye,Post:on,Layout:fn},watch:{"$route.params.id":function(){this.load()},"$route.params.child_id":function(){this.load()}},beforeDestroy:function(){this.inactive=!0},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load(t.id);case 1:case"end":return e.stop()}},e,t)}))()},props:{id:{default:0,type:Number}},methods:{load:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$route.params.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$route.params.child_id;return c()(o.a.mark(function a(){var s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.inactive){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,Be.views.Thread(e,n);case 4:(s=a.sent).count>t.count&&(t.opening_post=s.opening_post,t.main_post=s.main_post,t.count=s.count),setTimeout(function(){return t.load(e,n)},7500);case 7:case"end":return a.stop()}},a,t)}))()},postContent:function(t,e){this.load()}},data:function(){return{opening_post:Be.helpers.PlaceholderPost(),main_post:Be.helpers.PlaceholderPost(),loading:!0,count:0,inactive:!1}}},yn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"thread-container",on:{click:function(e){t.$emit("close")}}},[t.opening_post.id?n("post",{staticClass:"root",attrs:{post:t.main_post,thread:t.opening_post},nativeOn:{click:function(t){t.stopPropagation()}}}):n("div",{staticClass:"loader"},[n("div",{staticClass:"white-bg"},[n("div",[t._v("\n        Loading thread...\n      ")]),t._v(" "),n("h1",[n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)])])],1)},staticRenderFns:[]};var gn=n("VU/8")(bn,yn,!1,function(t){n("kgR/")},"data-v-d90994aa",null).exports,kn={name:"Home2",metaInfo:function(){return{titleTemplate:"%s | "+(this.sub?"e/"+this.sub:"Home")}},components:{Pager:Ke,PostSorter:Ye,Post:on,Layout:fn,Modal:vn,ThreadModal:gn},watch:{"$route.query.page":function(){this.load()},"$route.params.sub":function(){this.load()}},computed:{default_sorter:function(){return"referendum"==this.sub?"active":"popular"},sorter_options:function(){return"referendum"==this.sub?["active","old"]:["popular","time"]},subs:function(){return j.subscribed_subs}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.sub=t.$route.params.sub,t.posts=[],t.pages=0,t.selectedPostID=void 0,window.scrollTo(0,0),Nt(),e.next=9,Be.views.Home(t.$route.query.page,t.sub,t.$refs.sorter.getSorter());case 9:n=e.sent,t.sub=n.sub,t.posts=n.posts,t.pages=n.pages,t.current_page=n.current_page,t.loading=!1;case 15:case"end":return e.stop()}},e,t)}))()},newThread:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.actions.CheckCreateThread(t.sub);case 3:t.$refs.submit_modal.showModal(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},hidePreview:function(){this.$root.showPreview=!1,localStorage.setItem("preview",!1)},showPreview:function(){this.$root.showPreview=!0,localStorage.setItem("preview",!0)}},data:function(){return{loading:!1,current_page:0,pages:0,sub:"",posts:[],selectedPostID:void 0,eos_referendum:j.eos_referendum}}},wn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{ref:"layout",attrs:{load:t.load}},[n("template",{slot:"topic"},[t.$root.sub?n("span",[t._v("e/"+t._s(t.$root.sub))]):n("span",[t._v("Home")])]),t._v(" "),n("template",{slot:"content"},[n("div",{staticClass:"mt-1 mb-3"},[n("div",{staticClass:"ml-1 float-left"},[n("post-sorter",{ref:"sorter",attrs:{default_by:t.default_sorter,options:t.sorter_options,change:t.load}})],1),t._v(" "),t.loading?t._e():n("div",{staticClass:"ml-1 float-left"},[n("button",{staticClass:"btn btn-none",class:{"btn-primary":t.$root.showPreview,"btn-outline":!t.$root.showPreview},attrs:{type:"button"},on:{click:function(e){t.showPreview()}}},[n("font-awesome-icon",{attrs:{icon:["fas","th-list"]}})],1),t._v(" "),n("button",{staticClass:"btn",class:{"btn-primary":!t.$root.showPreview,"btn-outline":t.$root.showPreview},attrs:{type:"button"},on:{click:function(e){t.hidePreview()}}},[n("font-awesome-icon",{attrs:{icon:["fas","list"]}})],1)]),t._v(" "),n("div",{staticClass:"float-right"},[n("pager",{attrs:{pages:t.pages,current_page:t.current_page}})],1),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),t.loading?n("div",{staticClass:"text-center"},[n("h1",[n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)]):n("div",{staticClass:"post-container"},[0==t.posts.length?n("div",[n("div",{staticClass:"text-center"},[n("h1",[t._v("There doesn't seem to be any posts here! Why not make one?")])])]):t._e(),t._v(" "),t._l(t.posts,function(e){return n("post",{key:e.transaction,staticClass:"post-parent",class:{"hide-preview":!1===t.$root.showPreview},attrs:{post:e,showChildren:!1},on:{openPost:t.$_openPost}})}),t._v(" "),t.selectedPostID?n("modal",{nativeOn:{click:function(e){return e.stopPropagation(),t.$_closePost(e)}}},[n("thread-modal",{attrs:{id:t.selectedPostID},on:{close:t.$_closePost}})],1):t._e()],2),t._v(" "),t.loading?t._e():n("div",{staticClass:"float-right mb-3"},[n("pager",{attrs:{pages:t.pages,current_page:t.current_page}})],1)])],2)},staticRenderFns:[]},xn=n("VU/8")(kn,wn,!1,null,null,null).exports,Cn={name:"Thread",metaInfo:function(){return{titleTemplate:"%s | "+this.main_post.data.json_metadata.title}},components:{Pager:Ke,PostSorter:Ye,Post:on,Layout:fn},watch:{"$route.params.id":function(){this.load(!0)},"$route.params.child_id":function(){this.load(!0)}},beforeDestroy:function(){this.inactive=!0,this.$root.mode="normal"},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},computed:{is_perma:function(){return this.$route.params.child_id}},methods:{load:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$route.params.id,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.$route.params.child_id;return c()(o.a.mark(function s(){var r;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.loading=!0,!e.inactive){s.next=3;break}return s.abrupt("return");case 3:return s.next=5,Be.views.Thread(n,a);case 5:r=s.sent,(t||a||r.count>e.count)&&(e.opening_post=r.opening_post,e.main_post=r.main_post,e.count=r.count),e.loading=!1;case 9:case"end":return s.stop()}},s,e)}))()},postContent:function(t,e){this.load()}},data:function(){return{opening_post:Be.helpers.PlaceholderPost(),main_post:Be.helpers.PlaceholderPost(),count:0,inactive:!1,loading:!1}}},$n={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{attrs:{load:t.load,mode:t.$route.params.mode}},[n("template",{slot:"topic"},[n("span",[t._v("Thread")])]),t._v(" "),n("template",{slot:"content"},[t.opening_post.id?n("div",{staticClass:"mb-1"},[n("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){t.$root.mode="normal",t.$router.push({name:t.is_perma?"Thread":"Sub",params:{sub:t.$route.params.sub,id:t.$route.params.id}})}}},[t.is_perma?[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}}),t._v("\n          back to original post\n        ")]:[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}}),t._v("\n          e/"+t._s(t.opening_post.data.json_metadata.sub)+"\n        ")]],2)]):t._e(),t._v(" "),t.opening_post.id&&!t.loading?n("post",{staticClass:"mb-2 pb-2",attrs:{post:t.main_post,thread:t.opening_post}}):n("div",{staticClass:"text-center"},[n("h1",[n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)])],1)],2)},staticRenderFns:[]},jn=n("VU/8")(Cn,$n,!1,null,null,null).exports,Sn={name:"UserProfile",components:{Layout:fn,Pager:Ke,Post:on,PostSorter:Ye,Modal:vn,ThreadModal:gn},watch:{"$route.query.page":function(){this.load()},"$route.params.account":function(){this.load()}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.sorter.by="time",t.load();case 2:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{load:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Be.views.UserProfile(t.$route.query.page,t.$route.params.account,t.$refs.sorter.getSorter());case 3:n=e.sent,t.current_page=n.current_page,t.account=n.account,t.is_blocked=n.is_blocked,t.balances.atmos=n.balance_atmos,t.comments=n.n_comments,t.threads=n.n_threads,t.last_activity=n.last_activity,t.posts=n.posts,t.pages=n.pages,t.loading=!1;case 14:case"end":return e.stop()}},e,t)}))()},toggleBlock:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.actions.BlockUser(t.account,t.is_blocked);case 2:return e.next=4,t.load();case 4:case"end":return e.stop()}},e,t)}))()}},data:function(){return{loading:!1,is_blocked:!1,account:"",balances:{atmos:0},comments:0,threads:0,last_activity:"",posts:[],current_page:1,pages:0,selectedPostID:void 0}}},Pn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{attrs:{load:t.load}},[n("template",{slot:"topic"},[n("span",[t._v("u/"+t._s(t.account))])]),t._v(" "),n("template",{slot:"content"},[n("b-tabs",[n("b-tab",{attrs:{title:"comments",active:""}},[n("div",{staticClass:"mt-2 mb-2"},[n("div",{staticClass:"float-left"},[n("post-sorter",{ref:"sorter",attrs:{change:t.load}})],1),t._v(" "),n("div",{staticClass:"float-left ml-1"},[n("b-button",{staticClass:"btn btn-danger",on:{click:function(e){t.toggleBlock()}}},[t._v(t._s(t.is_blocked?"unblock":"block"))])],1),t._v(" "),n("div",{staticClass:"float-right"},[n("pager",{attrs:{pages:t.pages,current_page:t.current_page}})],1),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),t.loading?n("div",{staticClass:"text-center"},[n("h1",[n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)]):n("div",{staticClass:"post-container"},[0==t.posts.length?n("div",[n("div",{staticClass:"text-center"},[n("h1",[t._v("There doesn't seem to be any posts here! Why not make one?")])])]):t._e(),t._v(" "),t._l(t.posts,function(e){return n("post",{key:e.o_id,staticClass:"post-parent",attrs:{post:e},on:{openPost:t.$_openPost}})}),t._v(" "),t.selectedPostID?n("modal",{nativeOn:{click:function(e){return t.$_closePost(e)}}},[n("thread-modal",{attrs:{id:t.selectedPostID},nativeOn:{click:function(t){t.stopPropagation()}}})],1):t._e()],2)]),t._v(" "),n("b-tab",{attrs:{title:"threads"}},[t._v("\n        Threads...\n      ")]),t._v(" "),n("b-tab",{attrs:{title:"blogs"}},[t._v("\n        Blogs...\n      ")])],1)],1),t._v(" "),n("template",{slot:"right_sidebar"},[n("div",{staticClass:"block"},[n("h3",[t._v(t._s(t.account))]),t._v(" "),n("div",{staticClass:"divline"}),t._v(" "),n("div",{staticClass:"blocktxt"},[t._v("\n        Balances: "+t._s(t.balances.atmos)+" ATMOS\n      ")]),t._v(" "),n("div",{staticClass:"blocktxt"},[t._v("\n        Comments: "+t._s(t.comments)+"\n      ")]),t._v(" "),n("div",{staticClass:"blocktxt"},[t._v("\n        Threads: "+t._s(t.threads)+"\n      ")]),t._v(" "),n("div",{staticClass:"blocktxt"},[t._v("\n        Last Activity: "+t._s(t.last_activity)+"\n      ")])])])],2)},staticRenderFns:[]},An=n("VU/8")(Sn,Pn,!1,null,null,null).exports,En={name:"UserNotifications",components:{Layout:fn,Pager:Ke,Post:on,PostSorter:Ye,Modal:vn,ThreadModal:gn},watch:{"$route.query.page":function(){this.load()}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},computed:{},methods:{load:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Be.views.UserNotifications(t.$route.query.page);case 3:return n=e.sent,t.current_page=n.current_page,t.pages=n.pages,t.posts=n.posts,e.next=9,Be.actions.MarkNotificationsAsRead();case 9:t.loading=!1;case 10:case"end":return e.stop()}},e,t)}))()}},data:function(){return{loading:!1,posts:[],current_page:1,pages:0,selectedPostID:void 0}}},Tn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{attrs:{load:t.load}},[n("template",{slot:"topic"},[n("span",[t._v("Notifications")])]),t._v(" "),n("template",{slot:"content"},[n("div",{staticClass:"mb-1"},[n("div",{staticClass:"float-right"},[n("pager",{attrs:{pages:t.pages,current_page:t.current_page}})],1),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),t.loading?n("div",{staticClass:"text-center"},[n("h1",[n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)]):n("div",[0==t.posts.length?n("div",[n("div",{staticClass:"text-center"},[n("h1",[t._v("You have no notifications")])])]):t._e(),t._v(" "),t._l(t.posts,function(e){return n("post",{key:e.transaction,staticClass:"notification post-parent",attrs:{notification:!0,post:e},on:{openPost:t.$_openPost}})}),t._v(" "),t.selectedPostID?n("modal",{nativeOn:{click:function(e){return t.$_closePost(e)}}},[n("thread-modal",{attrs:{id:t.selectedPostID},nativeOn:{click:function(t){t.stopPropagation()}}})],1):t._e()],2)])],2)},staticRenderFns:[]},qn=n("VU/8")(En,Tn,!1,null,null,null).exports,Mn={name:"Tag",components:{Pager:Ke,Post:on,PostSorter:Ye,Layout:fn},watch:{"$route.query.page":function(){this.load()},"$route.params.tag":function(){this.load()}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.tag=t.$route.params.tag,e.next=4,Be.views.Tag(t.$route.query.page,t.tag,t.$refs.sorter.getSorter());case 4:n=e.sent,t.posts=n.posts,t.pages=n.pages,t.current_page=n.current_page,t.tag=n.tag,t.loading=!1;case 10:case"end":return e.stop()}},e,t)}))()}},data:function(){return{loading:!1,current_page:0,pages:0,tag:"",posts:[]}}},Nn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{attrs:{load:t.load}},[n("template",{slot:"topic"},[n("span",[t._v("#"+t._s(t.tag))])]),t._v(" "),n("template",{slot:"content"},[n("div",{staticClass:"mb-1"},[n("div",{staticClass:"float-left"},[n("post-sorter",{ref:"sorter",attrs:{change:t.load}})],1),t._v(" "),n("div",{staticClass:"float-right"},[n("pager",{attrs:{pages:t.pages,current_page:t.current_page}})],1),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),t.loading?n("div",{staticClass:"text-center"},[n("h1",[n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)]):n("div",[0==t.posts.length?n("div",[n("div",{staticClass:"text-center"},[n("h1",[t._v("No posts with #"+t._s(t.tag)+" found!")])])]):t._e(),t._v(" "),t._l(t.posts,function(t){return n("post",{key:t.o_id,attrs:{post:t}})})],2)])],2)},staticRenderFns:[]},Bn=n("VU/8")(Mn,Nn,!1,null,null,null).exports,Rn={name:"History",metaInfo:function(){return{titleTemplate:"%s | "+this.main_post.data.json_metadata.title}},components:{Pager:Ke,PostSorter:Ye,Post:on,Layout:fn},watch:{"$route.params.id":function(){this.load()}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{load:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.views.PostHistory(t.$route.params.id);case 2:n=e.sent,t.main_post=n.main_post,t.opening_post=n.main_post;case 5:case"end":return e.stop()}},e,t)}))()}},data:function(){return{opening_post:Be.helpers.PlaceholderPost(),main_post:Be.helpers.PlaceholderPost()}}},In={render:function(){var t=this.$createElement,e=this._self._c||t;return e("layout",[e("template",{slot:"topic"},[e("span",[this._v("History")])]),this._v(" "),e("template",{slot:"content"},[this.opening_post.id?e("post",{attrs:{post:this.main_post,thread:this.opening_post}}):e("div",{staticClass:"text-center"},[e("h1",[e("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)])],1)],2)},staticRenderFns:[]},On=n("VU/8")(Rn,In,!1,null,null,null).exports,zn={name:"StartThread",components:{Pager:Ke,Post:on,PostSorter:Ye,Layout:fn},watch:{},computed:{is_referendum:function(){return"referendum"==this.sub2.sub},is_referendum_multi:function(){return"options-v1"==this.referendum_type||"multi-select-v1"==this.referendum_type},expiry_delta:function(){var t=new Date(this.referendum_expires);return isNaN(t.getTime())?"?":this.getDeltaDays(t)}},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},methods:{updateTemp:function(t){1===t.key.length&&(this.customSub+=t.key),"Backspace"===t.key&&(this.customSub=this.customSub.substr(0,this.customSub.length-1))},addCustom:function(){var t={icon:"",sub:this.customSub,type:"custom"};this.sub_options.unshift(t),this.sub2=t,this.customSub=""},getDeltaDays:function(t){return((t.getTime()-(new Date).getTime())/864e5).toFixed(2)},load:function(){var t=this;return c()(o.a.mark(function e(){var n,a,s,r,i,c,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt();case 2:if(t.identity=e.sent,t.sub=t.$route.params.sub,!t.$route.params.edit_id){e.next=22;break}return n=t.$route.params.edit_id,a=Nt(),t.identity,e.next=10,a.api({aggregate:a.config.collection_forum,maxTimeMS:7500,cursor:{},pipeline:[{$match:a.query.match.threadById(n)},{$lookup:a.query.lookup.threadReplies()},{$project:a.query.project.post({recent_edit:!0})}]});case 10:return s=e.sent.cursor.firstBatch[0],s=new ae(s),e.next=14,s.normalize();case 14:t.edit_post=s,t.sub=s.data.json_metadata.sub,t.title=s.data.json_metadata.title,t.content=s.data.content,r=s.data.json_metadata.attachment,t.attachment.value=r.value,t.attachment.type=r.type,t.attachment.display=r.display;case 22:i=[{icon:"",sub:t.sub}],c=0;case 24:if(!(c<j.subscribed_subs.length)){e.next=31;break}if(!i.find(function(t){return t.sub==j.subscribed_subs[c]})){e.next=27;break}return e.abrupt("continue",28);case 27:i.push({logo:O.novusphere.logo,sub:j.subscribed_subs[c]});case 28:c++,e.next=24;break;case 31:for(c=0;c<i.length;c++)(u=O[i[c].sub])&&u.logo&&(i[c].logo=u.logo);t.sub2=i[0],t.sub_options=i;case 34:case"end":return e.stop()}},e,t)}))()},setStatus:function(t){this.status=t},makePost:function(t){var e=this;return c()(o.a.mark(function n(){var a,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=e.title.length){n.next=3;break}return e.setStatus("Post must have a title"),n.abrupt("return");case 3:if(0!=e.content.length){n.next=6;break}return e.setStatus("Post must have at least 1 character of content"),n.abrupt("return");case 6:if(a=e.edit_post,n.t0=e.identity.account||"eosforumanon",n.t1=a?a.data.reply_to_poster||a.data.poster:"",n.t2=a?a.data.reply_to_post_uuid||a.data.post_uuid:"",n.t3=e.content,n.t4=Be.helpers.GeneratePostUuid(),n.t5=v.a,n.t6=e.title,n.t7=a?a.data.json_metadata.sub:e.sub2.sub,n.t8=a?a.data.post_uuid:"",n.t9=a?a.data.poster:"",n.t10=!!a,n.t11={value:e.attachment.value.trim(),type:e.attachment.type,display:e.attachment.value?e.attachment.display:""},!t){n.next=25;break}return n.next=22,Be.helpers.GenerateAnonData(e.content);case 22:n.t12=n.sent,n.next=26;break;case 25:n.t12=null;case 26:return n.t13=n.t12,n.t14={title:n.t6,type:"novusphere-forum",sub:n.t7,parent_uuid:n.t8,parent_poster:n.t9,edit:n.t10,attachment:n.t11,anon_id:n.t13},n.t15=(0,n.t5)(n.t14),s={poster:n.t0,reply_to_poster:n.t1,reply_to_post_uuid:n.t2,certify:0,content:n.t3,post_uuid:n.t4,json_metadata:n.t15},n.abrupt("return",s);case 31:case"end":return n.stop()}},n,e)}))()},postContent:function(t,e){var n=this;return c()(o.a.mark(function a(){var s,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.setStatus("Creating tx and broadcasting to EOS..."),a.next=3,n.makePost(t);case 3:if(s=a.sent){a.next=6;break}return a.abrupt("return",null);case 6:if(r=null,!n.is_referendum){a.next=17;break}if(!n.is_referendum||!n.is_referendum_multi){a.next=12;break}if(!(n.referendum_options.length<2)){a.next=12;break}return n.setStatus("You must set at least 2 options for this referendum type!"),a.abrupt("return");case 12:return a.next=14,Be.actions.Referendum.PushNewProposal({expires_at:n.referendum_expires,title:n.title,content:n.content,type:n.referendum_type,options:n.referendum_options});case 14:r=a.sent,a.next=20;break;case 17:return a.next=19,Be.actions.PushNewPost(s,"",t,e,n.setStatus);case 19:r=a.sent;case 20:if(r){a.next=22;break}return a.abrupt("return",null);case 22:n.$router.push({name:"Thread",params:{sub:n.sub2.sub,id:n.edit_post?n.edit_post.o_transaction:r}});case 23:case"end":return a.stop()}},a,n)}))()},updatePreview:function(){var t=this;return c()(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setStatus(""),e.next=3,t.makePost(!1);case 3:if(n=e.sent,!t.status){e.next=6;break}return e.abrupt("return");case 6:return a=new ae({createdAt:parseInt((new Date).getTime()/1e3),transaction:"preview",id:1,name:"post",data:n}),e.next=9,a.normalize();case 9:t.preview=a;case 10:case"end":return e.stop()}},e,t)}))()}},data:function(){return{sub_options:[],preview:null,edit_post:null,identity:{},status:"",sub:"",sub2:{},title:"",content:"",attachment:{value:"",type:"",display:""},referendum_type:"referendum-v1",referendum_expires:"",referendum_option:"",referendum_options:[],customSub:""}}},Dn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{attrs:{load:t.load}},[n("template",{slot:"topic"},[n("span",[t._v(" "+t._s(t.edit_post?"Edit Thread":"Start Thread"))])]),t._v(" "),n("template",{slot:"content"},[n("b-button",{staticClass:"btn btn-sm btn-primary mb-1",on:{click:function(e){t.$router.go(-1)}}},[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}}),t._v("\n        back\n      ")],1),t._v(" "),n("div",{staticClass:"post"},[n("form",{staticClass:"form newtopic",attrs:{action:"#"}},[n("div",{staticClass:"topwrap"},[n("div",{staticClass:"posttext pull-left ml-2"},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Title")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),t._v(" "),t.edit_post||t.is_referendum?t._e():n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Sub")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("v-select",{staticClass:"form-control",attrs:{options:t.sub_options,label:"sub"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),t.addCustom(e)):null},click:function(e){t.customSub=""},keydown:function(e){return e.stopPropagation(),t.updateTemp(e)}},scopedSlots:t._u([{key:"option",fn:function(e){return[e.logo?n("img",{staticStyle:{"max-width":"24px"},attrs:{src:e.logo}}):t._e(),t._v("\n                          "+t._s(e.sub)+"\n                        ")]}}]),model:{value:t.sub2,callback:function(e){t.sub2=e},expression:"sub2"}})],1)]),t._v(" "),t.is_referendum?n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Type")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("b-form-select",{model:{value:t.referendum_type,callback:function(e){t.referendum_type=e},expression:"referendum_type"}},[n("option",{attrs:{value:"referendum-v1"}},[t._v("Referendum")]),t._v(" "),n("option",{attrs:{value:"poll-yn-v1"}},[t._v("Poll (Y/N)")]),t._v(" "),n("option",{attrs:{value:"poll-yna-v1"}},[t._v("Poll (Y/N/A)")]),t._v(" "),n("option",{attrs:{value:"options-v1"}},[t._v("Options Poll")]),t._v(" "),n("option",{attrs:{value:"multi-select-v1"}},[t._v("Multi-select Poll")])])],1)]):t._e(),t._v(" "),t.is_referendum?n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Expiry")]),t._v(" "),n("div",{staticClass:"col-sm-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.referendum_expires,expression:"referendum_expires"}],staticClass:"form-control",attrs:{type:"text",placeholder:"mm-dd-yyyy"},domProps:{value:t.referendum_expires},on:{input:function(e){e.target.composing||(t.referendum_expires=e.target.value)}}})]),t._v(" "),n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("("+t._s(t.expiry_delta)+" days from now)")])]):t._e(),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Content")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{rows:"10",placeholder:"Content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])]),t._v(" "),t.is_referendum&&t.is_referendum_multi?n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Options")]),t._v(" "),n("div",{staticClass:"col-sm-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.referendum_option,expression:"referendum_option"}],staticClass:"form-control",attrs:{type:"text",placeholder:"option"},domProps:{value:t.referendum_option},on:{input:function(e){e.target.composing||(t.referendum_option=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-sm-2"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.referendum_options.push(t.referendum_option)}}},[t._v("add")])]),t._v(" "),n("div",{staticClass:"offset-sm-2 col-sm-10"},t._l(t.referendum_options,function(e,a){return n("ul",{key:a},[n("li",[t._v("\n                          "+t._s(e)+"\n                          "),n("button",{staticClass:"btn btn-sm btn-danger ml-2",attrs:{type:"button"},on:{click:function(e){t.referendum_options.splice(a,1)}}},[n("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1)])])}),0)]):t._e(),t._v(" "),t.is_referendum?t._e():n("fieldset",{staticClass:"form-group"},[n("div",{staticClass:"row"},[n("legend",{staticClass:"col-form-label col-sm-2 pt-0"}),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.type,expression:"attachment.type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentType",value:"",checked:""},domProps:{checked:t._q(t.attachment.type,"")},on:{change:function(e){t.$set(t.attachment,"type","")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("No attachment")])]),t._v(" "),n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.type,expression:"attachment.type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentType",value:"url"},domProps:{checked:t._q(t.attachment.type,"url")},on:{change:function(e){t.$set(t.attachment,"type","url")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("URL")])]),t._v(" "),n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.type,expression:"attachment.type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentType",value:"ipfs"},domProps:{checked:t._q(t.attachment.type,"ipfs")},on:{change:function(e){t.$set(t.attachment,"type","ipfs")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("IPFS")])]),t._v(" "),n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.type,expression:"attachment.type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentType",value:"txid"},domProps:{checked:t._q(t.attachment.type,"txid")},on:{change:function(e){t.$set(t.attachment,"type","txid")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("TXID")])])])])]),t._v(" "),""!=t.attachment.type?n("fieldset",{staticClass:"form-group"},[n("div",{staticClass:"row"},[n("legend",{staticClass:"col-form-label col-sm-2 pt-0"}),t._v(" "),"txid"==t.attachment.type?n("div",{staticClass:"col-sm-10"},[n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.display,expression:"attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"referendum"},domProps:{checked:t._q(t.attachment.display,"referendum")},on:{change:function(e){t.$set(t.attachment,"display","referendum")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("referendum")])])]):n("div",{staticClass:"col-sm-10"},[n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.display,expression:"attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"link",checked:""},domProps:{checked:t._q(t.attachment.display,"link")},on:{change:function(e){t.$set(t.attachment,"display","link")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("link")])]),t._v(" "),n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.display,expression:"attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"iframe"},domProps:{checked:t._q(t.attachment.display,"iframe")},on:{change:function(e){t.$set(t.attachment,"display","iframe")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("iframe")])]),t._v(" "),n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.display,expression:"attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"mp4"},domProps:{checked:t._q(t.attachment.display,"mp4")},on:{change:function(e){t.$set(t.attachment,"display","mp4")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("mp4")])]),t._v(" "),n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.display,expression:"attachment.display"}],staticClass:"form-check-input",attrs:{type:"radio",name:"attachmentDisplay",value:"mp3"},domProps:{checked:t._q(t.attachment.display,"mp3")},on:{change:function(e){t.$set(t.attachment,"display","mp3")}}}),t._v(" "),n("label",{staticClass:"form-check-label"},[t._v("mp3")])])])])]):t._e(),t._v(" "),""!=t.attachment.type?n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-sm-2 col-form-label"}),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.attachment.value,expression:"attachment.value"}],staticClass:"form-control",attrs:{placeholder:"IPFS hash / URL / TXID"},domProps:{value:t.attachment.value},on:{input:function(e){e.target.composing||t.$set(t.attachment,"value",e.target.value)}}})])]):t._e(),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"text-center"},[n("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.status))])]),t._v(" "),!t.identity.account&&t.is_referendum?n("div",{staticClass:"text-center"},[n("span",[t._v("You must be logged in to create a referendum proposal")])]):t._e()])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"offset-sm-2 col-sm-10"},[t.identity.account?n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.postContent(!1)}}},[t._v("Post")]):t._e(),t._v(" "),t.edit_post||t.is_referendum?t._e():n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.postContent(!0,!0)}}},[t._v("Post Anon")]),t._v(" "),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.updatePreview()}}},[t._v("Preview")])])]),t._v(" "),t.preview?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("post",{attrs:{post:t.preview}})],1)]):t._e()]),t._v(" "),n("div",{staticClass:"clearfix"})])])])],1)],2)},staticRenderFns:[]};var Un=n("VU/8")(zn,Dn,!1,function(t){n("7uYd"),n("AF4G")},"data-v-1f71af79",null).exports,Fn={name:"Settings",components:{Pager:Ke,Post:on,PostSorter:Ye,Layout:fn},mounted:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.load();case 1:case"end":return e.stop()}},e,t)}))()},computed:{anon_identity:function(){return this.anon_key?k.a.privateToPublic(this.anon_key):""}},methods:{load:function(t){var e=this;return c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.settings=v()(j.settings,null,2),e.mods=j.moderation.mods,e.new_theme=j.settings.theme,e.anon_key=j.anon_id.key,e.anon_name=j.anon_id.name,t.next=7,e.loadReccomendedMods();case 7:case"end":return t.stop()}},t,e)}))()},loadReccomendedMods:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.actions.GetReccomendedModList();case 2:t.mod_list=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},modListChange:function(){this.new_mod=this.mod_list_value},themeListChange:function(){this.new_theme=this.theme_list_value},reset:function(){this.settings=v()($.settings,null,2)},save:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j.settings=JSON.parse(t.settings),t.theme=j.settings.theme,t.mods=j.moderation.mods,A();case 4:case"end":return e.stop()}},e,t)}))()},forgetAll:function(){window.__forgetStorage()},saveTheme:function(){j.settings.theme=this.new_theme,this.theme=this.new_theme,A()},addMod:function(){var t=this;return c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.moderation.mods.includes(t.new_mod)){e.next=2;break}return e.abrupt("return");case 2:return n=Vt.dateToKey(new Date),e.next=5,Vt.resolve(t.new_mod,n);case 5:if(e.t0=e.sent,null!=e.t0){e.next=11;break}return e.next=9,confirm('"'+t.new_mod+'" does not seem like a valid moderation endpoint, are you sure you want to add it?');case 9:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:j.moderation.mods.push(t.new_mod),Vt.resetCache(),A(),t.mods=j.moderation.mods,t.new_mod="";case 16:case"end":return e.stop()}},e,t)}))()},removeMod:function(t){j.moderation.mods.splice(t,1),Vt.resetCache(),A(),this.mods=j.moderation.mods},newAnonId:function(){var t=this;return c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.randomKey();case 2:t.anon_key=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},saveAnonId:function(){var t=this;return c()(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.anon_name.length>12)){e.next=3;break}return alert("Anonymous name must be less than 13 characters"),e.abrupt("return");case 3:if(j.anon_id.name=t.anon_name,j.anon_id.key=t.anon_key&&k.a.isValidPrivate(t.anon_key)?t.anon_key:"",!j.anon_id.key){e.next=19;break}return e.next=8,It();case 8:A(),t.$forceUpdate(),n=v()({name:j.anon_id.name,key:j.anon_id.key,identity:k.a.privateToPublic(j.anon_id.key)}),(a=window.document.createElement("a")).href=window.URL.createObjectURL(new Blob([n],{type:"application/json"})),a.download="forum-anonid.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),e.next=20;break;case 19:A();case 20:case"end":return e.stop()}},e,t)}))()}},data:function(){return{settings:"",theme:j.settings.theme,mods:[],mod_list:[],mod_list_value:"",new_mod:"",theme_list_value:"",new_theme:"",anon_name:"",anon_key:""}}},Ln={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{attrs:{load:t.load}},[n("template",{slot:"topic"},[n("span",[t._v("Settings")])]),t._v(" "),n("template",{slot:"content"},[n("b-button",{staticClass:"btn btn-sm btn-primary mb-1",on:{click:function(e){t.$router.go(-1)}}},[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}}),t._v("\n      back\n    ")],1),t._v(" "),n("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#mod",role:"tab"}},[t._v("\n          Moderation\n        ")])]),t._v(" "),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#anonid",role:"tab"}},[t._v("\n          Anon Id\n        ")])]),t._v(" "),t._e(),t._v(" "),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#api",role:"tab"}},[t._v("\n          Raw\n        ")])])]),t._v(" "),n("div",{staticClass:"tab-content mt-2"},[n("div",{staticClass:"tab-pane fade show active",attrs:{id:"mod",role:"tabpanel"}},[n("div",{staticClass:"text-center"},[n("p",{},[t._v("\n                Use this panel to control your delegated moderation settings.\n                "),n("a",{attrs:{target:"_blank",href:"https://github.com/Novusphere/eos-forum-mod-list"}},[t._v("Click here to learn more")]),t._v(".\n            ")])]),t._v(" "),n("form",{staticClass:"mx-4"},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"},[t._v("Known")]),t._v(" "),n("div",{staticClass:"col-8"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.mod_list_value,expression:"mod_list_value"}],staticClass:"form-control",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.mod_list_value=e.target.multiple?n:n[0]},function(e){t.modListChange()}]}},t._l(t.mod_list,function(e){return n("option",{key:e.name,domProps:{value:e.endpoint}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}),0)]),t._v(" "),n("div",{staticClass:"col-2"})]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"}),t._v(" "),n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.new_mod,expression:"new_mod"}],staticClass:"form-control",attrs:{type:"text",placeholder:"endpoint"},domProps:{value:t.new_mod},on:{input:function(e){e.target.composing||(t.new_mod=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-2"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.addMod()}}},[t._v("\n                add\n              ")])])]),t._v(" "),t._l(t.mods,function(e,a){return n("div",{key:a,staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"}),t._v(" "),n("div",{staticClass:"col-8"},[n("input",{staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e}})]),t._v(" "),n("div",{staticClass:"col-2"},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.removeMod(a)}}},[n("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1)])])})],2)]),t._v(" "),n("div",{staticClass:"tab-pane fade",attrs:{id:"anonid",role:"tabpanel"}},[n("div",{staticClass:"text-center"},[n("p",{},[t._v("\n                Use this panel to control your anonymous identity.\n                This is used when posting anonymously to identify your posts.\n                You can regenerate a new anonymous identity at any time.\n            ")])]),t._v(" "),n("form",{staticClass:"mx-4"},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"},[t._v("Name")]),t._v(" "),n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.anon_name,expression:"anon_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"name"},domProps:{value:t.anon_name},on:{input:function(e){e.target.composing||(t.anon_name=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"},[t._v("Key")]),t._v(" "),n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.anon_key,expression:"anon_key"}],staticClass:"form-control",attrs:{type:"text",placeholder:"identity key"},domProps:{value:t.anon_key},on:{input:function(e){e.target.composing||(t.anon_key=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"}),t._v(" "),n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.anon_identity,expression:"anon_identity"}],staticClass:"form-control",attrs:{type:"text",readonly:"",placeholder:"identity public key"},domProps:{value:t.anon_identity},on:{input:function(e){e.target.composing||(t.anon_identity=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.newAnonId()}}},[t._v("new")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveAnonId()}}},[t._v("save")])])])]),t._v(" "),n("div",{staticClass:"tab-pane fade",attrs:{id:"api",role:"tabpanel"}},[n("div",{staticClass:"text-center"},[n("p",{staticClass:"text-alert"},[n("strong",[t._v("Warning:")]),t._v(' You should not modify these settings unless you know what you\'re doing!\n                If you incorrectly change something, click "reset" then "save" to restore the default settings.\n            ')])]),t._v(" "),n("form",{staticClass:"mx-4"},[n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-sm-12"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings,expression:"settings"}],staticClass:"form-control",attrs:{rows:"10",placeholder:"Content"},domProps:{value:t.settings},on:{input:function(e){e.target.composing||(t.settings=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.save()}}},[t._v("save")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.reset()}}},[t._v("reset")]),t._v(" "),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.forgetAll()}}},[t._v("forget all")])])])]),t._v(" "),n("div",{staticClass:"tab-pane fade",attrs:{id:"theme",role:"tabpanel"}},[n("div",{staticClass:"text-center"},[n("p",{},[t._v("\n                Use this panel to control your theme settings.\n            ")])]),t._v(" "),n("form",{staticClass:"mx-4"},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"},[t._v("Known")]),t._v(" "),n("div",{staticClass:"col-8"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.theme_list_value,expression:"theme_list_value"}],staticClass:"form-control",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.theme_list_value=e.target.multiple?n:n[0]},function(e){t.themeListChange()}]}},[n("option",{attrs:{value:"https://eos-forum.org/static/css/theme/night.css"}},[t._v("night theme")]),t._v(" "),n("option",{attrs:{value:"https://eos-forum.org/static/css/theme/day.css"}},[t._v("day theme")])])]),t._v(" "),n("div",{staticClass:"col-2"})]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-2 col-form-label"}),t._v(" "),n("div",{staticClass:"col-8"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.new_theme,expression:"new_theme"}],staticClass:"form-control",attrs:{type:"text",placeholder:"theme css url"},domProps:{value:t.new_theme},on:{input:function(e){e.target.composing||(t.new_theme=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-2"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.saveTheme()}}},[t._v("save")])])])])])])],1)],2)},staticRenderFns:[]},Vn=n("VU/8")(Fn,Ln,!1,null,null,null).exports;u.a.use(Ue.a),window.__ROUTER_MODE__=window.__ROUTER_MODE__||"hash",window.__PRE_ROUTE__="hash"==window.__ROUTER_MODE__?"#":"";var Hn=new Ue.a({mode:window.__ROUTER_MODE__,routes:[{path:"/",name:"Index",component:xn},{path:"/e/:sub?",name:"Sub",component:xn},{path:"/e/:sub/new",name:"StartThread",component:Un},{path:"/e/:sub/edit/:edit_id",name:"EditThread",component:Un},{path:"/e/:sub/:id/:title?/:child_id?",name:"Thread",component:jn},{path:"/history/:id",name:"History",component:On},{path:"/settings",name:"Settings",component:Vn},{path:"/u/:account",name:"UserProfile",component:An},{path:"/tag/:tag",name:"Tag",component:Bn},{path:"/notifications",name:"UserNotifications",component:qn},{path:"/test",name:"Test",component:Ve}]});Hn.beforeEach(function(t,e,n){window.scrollTo(0,0),n()});var Gn=Hn,Kn=n("p3jY"),Wn=n.n(Kn),Jn=n("AYPi"),Yn=n.n(Jn),Qn=n("T1ft"),Xn=n.n(Qn);window._jQuery=m.a,kt.c.add(wt.a),kt.c.add(xt.a),kt.c.add(Ct.a),c()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("history"!=window.__ROUTER_MODE__){t.next=4;break}if(!window.location.hash){t.next=4;break}return window.location.href=window.location.origin+window.location.hash.substring(1),t.abrupt("return");case 4:return u.a.component("v-select",Xn.a),u.a.component("font-awesome-icon",gt.a),u.a.use(l.a),u.a.use(Wn.a),u.a.mixin(p),e={id:"UA-131745808-1",router:Gn},window.__ANALYTICS__&&(e.customResourceURL=window.__ANALYTICS__),u.a.use(Yn.a,e),u.a.config.productionTip=!1,t.next=15,B();case 15:return t.next=17,w();case 17:return t.next=19,J();case 19:new u.a({el:"#app",router:Gn,components:{App:De},data:function(){return{icons:[],showSubs:!0,showPreview:!0,mode:"normal"}},template:"<App/>"});case 20:case"end":return t.stop()}},t,this)}))()},NoFI:function(t,e){t.exports={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"permission_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"transaction_id_type",type:"checksum256"},{new_type_name:"weight_type",type:"uint16"}],____comment:"eosio.bios structs: set_account_limits, setpriv, set_global_limits, producer_key, set_producers, require_auth are provided so abi available for deserialization in future.",structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"key_weight",base:"",fields:[{name:"key",type:"public_key"},{name:"weight",type:"weight_type"}]},{name:"bidname",base:"",fields:[{name:"bidder",type:"account_name"},{name:"newname",type:"account_name"},{name:"bid",type:"asset"}]},{name:"permission_level_weight",base:"",fields:[{name:"permission",type:"permission_level"},{name:"weight",type:"weight_type"}]},{name:"wait_weight",base:"",fields:[{name:"wait_sec",type:"uint32"},{name:"weight",type:"weight_type"}]},{name:"authority",base:"",fields:[{name:"threshold",type:"uint32"},{name:"keys",type:"key_weight[]"},{name:"accounts",type:"permission_level_weight[]"},{name:"waits",type:"wait_weight[]"}]},{name:"newaccount",base:"",fields:[{name:"creator",type:"account_name"},{name:"name",type:"account_name"},{name:"owner",type:"authority"},{name:"active",type:"authority"}]},{name:"setcode",base:"",fields:[{name:"account",type:"account_name"},{name:"vmtype",type:"uint8"},{name:"vmversion",type:"uint8"},{name:"code",type:"bytes"}]},{name:"setabi",base:"",fields:[{name:"account",type:"account_name"},{name:"abi",type:"bytes"}]},{name:"updateauth",base:"",fields:[{name:"account",type:"account_name"},{name:"permission",type:"permission_name"},{name:"parent",type:"permission_name"},{name:"auth",type:"authority"}]},{name:"deleteauth",base:"",fields:[{name:"account",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"linkauth",base:"",fields:[{name:"account",type:"account_name"},{name:"code",type:"account_name"},{name:"type",type:"action_name"},{name:"requirement",type:"permission_name"}]},{name:"unlinkauth",base:"",fields:[{name:"account",type:"account_name"},{name:"code",type:"account_name"},{name:"type",type:"action_name"}]},{name:"canceldelay",base:"",fields:[{name:"canceling_auth",type:"permission_level"},{name:"trx_id",type:"transaction_id_type"}]},{name:"onerror",base:"",fields:[{name:"sender_id",type:"uint128"},{name:"sent_trx",type:"bytes"}]},{name:"buyrambytes",base:"",fields:[{name:"payer",type:"account_name"},{name:"receiver",type:"account_name"},{name:"bytes",type:"uint32"}]},{name:"sellram",base:"",fields:[{name:"account",type:"account_name"},{name:"bytes",type:"uint64"}]},{name:"buyram",base:"",fields:[{name:"payer",type:"account_name"},{name:"receiver",type:"account_name"},{name:"quant",type:"asset"}]},{name:"delegatebw",base:"",fields:[{name:"from",type:"account_name"},{name:"receiver",type:"account_name"},{name:"stake_net_quantity",type:"asset"},{name:"stake_cpu_quantity",type:"asset"},{name:"transfer",type:"bool"}]},{name:"undelegatebw",base:"",fields:[{name:"from",type:"account_name"},{name:"receiver",type:"account_name"},{name:"unstake_net_quantity",type:"asset"},{name:"unstake_cpu_quantity",type:"asset"}]},{name:"refund",base:"",fields:[{name:"owner",type:"account_name"}]},{name:"delegated_bandwidth",base:"",fields:[{name:"from",type:"account_name"},{name:"to",type:"account_name"},{name:"net_weight",type:"asset"},{name:"cpu_weight",type:"asset"}]},{name:"user_resources",base:"",fields:[{name:"owner",type:"account_name"},{name:"net_weight",type:"asset"},{name:"cpu_weight",type:"asset"},{name:"ram_bytes",type:"uint64"}]},{name:"total_resources",base:"",fields:[{name:"owner",type:"account_name"},{name:"net_weight",type:"asset"},{name:"cpu_weight",type:"asset"},{name:"ram_bytes",type:"uint64"}]},{name:"refund_request",base:"",fields:[{name:"owner",type:"account_name"},{name:"request_time",type:"time_point_sec"},{name:"net_amount",type:"asset"},{name:"cpu_amount",type:"asset"}]},{name:"blockchain_parameters",base:"",fields:[{name:"max_block_net_usage",type:"uint64"},{name:"target_block_net_usage_pct",type:"uint32"},{name:"max_transaction_net_usage",type:"uint32"},{name:"base_per_transaction_net_usage",type:"uint32"},{name:"net_usage_leeway",type:"uint32"},{name:"context_free_discount_net_usage_num",type:"uint32"},{name:"context_free_discount_net_usage_den",type:"uint32"},{name:"max_block_cpu_usage",type:"uint32"},{name:"target_block_cpu_usage_pct",type:"uint32"},{name:"max_transaction_cpu_usage",type:"uint32"},{name:"min_transaction_cpu_usage",type:"uint32"},{name:"max_transaction_lifetime",type:"uint32"},{name:"deferred_trx_expiration_window",type:"uint32"},{name:"max_transaction_delay",type:"uint32"},{name:"max_inline_action_size",type:"uint32"},{name:"max_inline_action_depth",type:"uint16"},{name:"max_authority_depth",type:"uint16"}]},{name:"eosio_global_state",base:"blockchain_parameters",fields:[{name:"max_ram_size",type:"uint64"},{name:"total_ram_bytes_reserved",type:"uint64"},{name:"total_ram_stake",type:"int64"},{name:"last_producer_schedule_update",type:"block_timestamp_type"},{name:"last_pervote_bucket_fill",type:"uint64"},{name:"pervote_bucket",type:"int64"},{name:"perblock_bucket",type:"int64"},{name:"total_unpaid_blocks",type:"uint32"},{name:"total_activated_stake",type:"int64"},{name:"thresh_activated_stake_time",type:"uint64"},{name:"last_producer_schedule_size",type:"uint16"},{name:"total_producer_vote_weight",type:"float64"},{name:"last_name_close",type:"block_timestamp_type"}]},{name:"producer_info",base:"",fields:[{name:"owner",type:"account_name"},{name:"total_votes",type:"float64"},{name:"producer_key",type:"public_key"},{name:"is_active",type:"bool"},{name:"url",type:"string"},{name:"unpaid_blocks",type:"uint32"},{name:"last_claim_time",type:"uint64"},{name:"location",type:"uint16"}]},{name:"regproducer",base:"",fields:[{name:"producer",type:"account_name"},{name:"producer_key",type:"public_key"},{name:"url",type:"string"},{name:"location",type:"uint16"}]},{name:"unregprod",base:"",fields:[{name:"producer",type:"account_name"}]},{name:"setram",base:"",fields:[{name:"max_ram_size",type:"uint64"}]},{name:"regproxy",base:"",fields:[{name:"proxy",type:"account_name"},{name:"isproxy",type:"bool"}]},{name:"voteproducer",base:"",fields:[{name:"voter",type:"account_name"},{name:"proxy",type:"account_name"},{name:"producers",type:"account_name[]"}]},{name:"voter_info",base:"",fields:[{name:"owner",type:"account_name"},{name:"proxy",type:"account_name"},{name:"producers",type:"account_name[]"},{name:"staked",type:"int64"},{name:"last_vote_weight",type:"float64"},{name:"proxied_vote_weight",type:"float64"},{name:"is_proxy",type:"bool"}]},{name:"claimrewards",base:"",fields:[{name:"owner",type:"account_name"}]},{name:"setpriv",base:"",fields:[{name:"account",type:"account_name"},{name:"is_priv",type:"int8"}]},{name:"rmvproducer",base:"",fields:[{name:"producer",type:"account_name"}]},{name:"set_account_limits",base:"",fields:[{name:"account",type:"account_name"},{name:"ram_bytes",type:"int64"},{name:"net_weight",type:"int64"},{name:"cpu_weight",type:"int64"}]},{name:"set_global_limits",base:"",fields:[{name:"cpu_usec_per_period",type:"int64"}]},{name:"producer_key",base:"",fields:[{name:"producer_name",type:"account_name"},{name:"block_signing_key",type:"public_key"}]},{name:"set_producers",base:"",fields:[{name:"schedule",type:"producer_key[]"}]},{name:"require_auth",base:"",fields:[{name:"from",type:"account_name"}]},{name:"setparams",base:"",fields:[{name:"params",type:"blockchain_parameters"}]},{name:"connector",base:"",fields:[{name:"balance",type:"asset"},{name:"weight",type:"float64"}]},{name:"exchange_state",base:"",fields:[{name:"supply",type:"asset"},{name:"base",type:"connector"},{name:"quote",type:"connector"}]},{name:"namebid_info",base:"",fields:[{name:"newname",type:"account_name"},{name:"high_bidder",type:"account_name"},{name:"high_bid",type:"int64"},{name:"last_bid_time",type:"uint64"}]}],actions:[{name:"newaccount",type:"newaccount",ricardian_contract:""},{name:"setcode",type:"setcode",ricardian_contract:""},{name:"setabi",type:"setabi",ricardian_contract:""},{name:"updateauth",type:"updateauth",ricardian_contract:""},{name:"deleteauth",type:"deleteauth",ricardian_contract:""},{name:"linkauth",type:"linkauth",ricardian_contract:""},{name:"unlinkauth",type:"unlinkauth",ricardian_contract:""},{name:"canceldelay",type:"canceldelay",ricardian_contract:""},{name:"onerror",type:"onerror",ricardian_contract:""},{name:"buyrambytes",type:"buyrambytes",ricardian_contract:""},{name:"buyram",type:"buyram",ricardian_contract:""},{name:"sellram",type:"sellram",ricardian_contract:""},{name:"delegatebw",type:"delegatebw",ricardian_contract:""},{name:"undelegatebw",type:"undelegatebw",ricardian_contract:""},{name:"refund",type:"refund",ricardian_contract:""},{name:"regproducer",type:"regproducer",ricardian_contract:""},{name:"setram",type:"setram",ricardian_contract:""},{name:"bidname",type:"bidname",ricardian_contract:""},{name:"unregprod",type:"unregprod",ricardian_contract:""},{name:"regproxy",type:"regproxy",ricardian_contract:""},{name:"voteproducer",type:"voteproducer",ricardian_contract:""},{name:"claimrewards",type:"claimrewards",ricardian_contract:""},{name:"setpriv",type:"setpriv",ricardian_contract:""},{name:"rmvproducer",type:"rmvproducer",ricardian_contract:""},{name:"setalimits",type:"set_account_limits",ricardian_contract:""},{name:"setglimits",type:"set_global_limits",ricardian_contract:""},{name:"setprods",type:"set_producers",ricardian_contract:""},{name:"reqauth",type:"require_auth",ricardian_contract:""},{name:"setparams",type:"setparams",ricardian_contract:""}],tables:[{name:"producers",type:"producer_info",index_type:"i64",key_names:["owner"],key_types:["uint64"]},{name:"global",type:"eosio_global_state",index_type:"i64",key_names:[],key_types:[]},{name:"voters",type:"voter_info",index_type:"i64",key_names:["owner"],key_types:["account_name"]},{name:"userres",type:"user_resources",index_type:"i64",key_names:["owner"],key_types:["uint64"]},{name:"delband",type:"delegated_bandwidth",index_type:"i64",key_names:["to"],key_types:["uint64"]},{name:"rammarket",type:"exchange_state",index_type:"i64",key_names:["supply"],key_types:["uint64"]},{name:"refunds",type:"refund_request",index_type:"i64",key_names:["owner"],key_types:["uint64"]},{name:"namebids",type:"namebid_info",index_type:"i64",key_names:["newname"],key_types:["account_name"]}],ricardian_clauses:[],abi_extensions:[]}},OPeQ:function(t,e){t.exports={version:"eosio::abi/1.0",types:[],structs:[{name:"nonce",base:"",fields:[{name:"value",type:"string"}]}],actions:[{name:"nonce",type:"nonce",ricardian_contract:""}],tables:[],ricardian_clauses:[],abi_extensions:[]}},"U+8V":function(t,e){t.exports={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"}],structs:[{name:"transfer",base:"",fields:[{name:"from",type:"account_name"},{name:"to",type:"account_name"},{name:"quantity",type:"asset"},{name:"memo",type:"string"}]},{name:"create",base:"",fields:[{name:"issuer",type:"account_name"},{name:"maximum_supply",type:"asset"}]},{name:"issue",base:"",fields:[{name:"to",type:"account_name"},{name:"quantity",type:"asset"},{name:"memo",type:"string"}]},{name:"account",base:"",fields:[{name:"balance",type:"asset"}]},{name:"currency_stats",base:"",fields:[{name:"supply",type:"asset"},{name:"max_supply",type:"asset"},{name:"issuer",type:"account_name"}]}],actions:[{name:"transfer",type:"transfer",ricardian_contract:""},{name:"issue",type:"issue",ricardian_contract:""},{name:"create",type:"create",ricardian_contract:""}],tables:[{name:"accounts",type:"account",index_type:"i64",key_names:["currency"],key_types:["uint64"]},{name:"stat",type:"currency_stats",index_type:"i64",key_names:["currency"],key_types:["uint64"]}],ricardian_clauses:[],abi_extensions:[]}},aKgn:function(t,e){},cB4U:function(t,e){t.exports={name:"uint64",checksum160:"fixed_bytes20",checksum256:"fixed_bytes32",checksum512:"fixed_bytes64",signature:"fixed_bytes65",public_key:"fixed_bytes33",message_type:"fixed_string16",symbol:"uint64",symbol_code:"uint64",field_name:"string",account_name:"name",permission_name:"name",type_name:"string",token_name:"name",table_name:"name",scope_name:"name",action_name:"name",time_point:"int64",time_point_sec:"time",timestamp:"uint32",block_timestamp_type:"timestamp",block_id:"fixed_bytes32",checksum_type:"fixed_bytes32",checksum256_type:"fixed_bytes32",checksum512_type:"fixed_bytes64",checksum160_type:"fixed_bytes20",sha256:"fixed_bytes32",sha512:"fixed_bytes64",sha160:"fixed_bytes20",weight_type:"uint16",block_num_type:"uint32",share_type:"int64",digest_type:"checksum_type",context_free_type:"bytes",unsigned_int:"varuint32",bool:"uint8",extensions_type:{base:"",fields:{type:"uint16",data:"bytes"}},transaction_header:{base:"",fields:{expiration:"time",ref_block_num:"uint16",ref_block_prefix:"uint32",max_net_usage_words:"unsigned_int",max_cpu_usage_ms:"uint8",delay_sec:"unsigned_int"}},transaction:{base:"transaction_header",fields:{context_free_actions:"action[]",actions:"action[]",transaction_extensions:"extensions_type[]"}},signed_transaction:{base:"transaction",fields:{signatures:"signature[]",context_free_data:"bytes[]"}},fields:"field_def[]",field_def:{fields:{name:"field_name",type:"type_name"}},asset:{fields:{amount:"share_type",sym:"symbol"}},producer_key:{fields:{producer_name:"account_name",block_signing_key:"public_key"}},producer_schedule:{fields:{version:"uint32",producers:"producer_key[]"}},chain_config:{fields:{target_block_size:"uint32",max_block_size:"uint32",target_block_acts_per_scope:"uint32",max_block_acts_per_scope:"uint32",target_block_acts:"uint32",max_block_acts:"uint32",real_threads:"uint64",max_storage_size:"uint64",max_transaction_lifetime:"uint32",max_authority_depth:"uint16",max_transaction_exec_time:"uint32",max_inline_depth:"uint16",max_inline_action_size:"uint32",max_generated_transaction_size:"uint32"}},type_def:{base:"",fields:{new_type_name:"type_name",type:"type_name"}},struct_def:{base:"",fields:{name:"type_name",base:"type_name",fields:"field_def[]"}},clause_pair:{base:"",fields:{id:"string",body:"string"}},error_message:{base:"",fields:{error_code:"uint64",error_msg:"string"}},abi_def:{base:"",fields:{version:"string",types:"type_def[]",structs:"struct_def[]",actions:"action_def[]",tables:"table_def[]",ricardian_clauses:"clause_pair[]",error_messages:"error_message[]",abi_extensions:"extensions_type[]"}},table_def:{base:"",fields:{name:"table_name",index_type:"type_name",key_names:"field_name[]",key_types:"type_name[]",type:"type_name"}},permission_level:{base:"",fields:{actor:"account_name",permission:"permission_name"}},action:{base:"",fields:{account:"account_name",name:"action_name",authorization:"permission_level[]",data:"bytes"}},action_def:{base:"",fields:{name:"action_name",type:"type_name",ricardian_contract:"string"}},block_header:{base:"",fields:{previous:"checksum256",timestamp:"timestamp",transaction_mroot:"checksum256",action_mroot:"checksum256",block_mroot:"checksum256",producer:"account_name",schedule_version:"uint32",new_producers:"producer_schedule?"}},packed_transaction:{fields:{signatures:"signature[]",compression:"uint8",packed_context_free_data:"bytes",packed_trx:"bytes"}}}},h61r:function(t,e){t.exports={get_info:{brief:"Return general network information.",params:null,results:"string"},get_account:{brief:"Fetch a blockchain account",params:{account_name:"name"},results:"string"},get_code:{brief:"Fetch smart contract code",params:{account_name:"name",code_as_wasm:{type:"bool",default:!1}},results:{account_name:"name",wast:"string",wasm:"string",code_hash:"sha256",abi:"optional<abi_def>"}},get_code_hash:{brief:"",params:{account_name:"name"},results:{account_name:"name",code_hash:"sha256"}},get_abi:{params:{account_name:"name"},results:{account_name:"name",abi:"abi_def?"}},get_raw_code_and_abi:{params:{account_name:"name"},results:{account_name:"name",wasm:"bytes",abi:"abi_def?"}},abi_json_to_bin:{brief:"Manually serialize json into binary hex.  The binayargs is usually stored in Action.data.",params:{code:"name",action:"name",args:"bytes"},results:{binargs:"bytes"}},abi_bin_to_json:{brief:"Convert bin hex back into Abi json definition.",params:{code:"name",action:"name",binargs:"bytes"},results:{args:"bytes"}},get_required_keys:{params:{transaction:"transaction",available_keys:"set[public_key]"},results:"Set[public_key]"},get_block:{brief:"Fetch a block from the blockchain.",params:{block_num_or_id:"string"},results:"variant",errors:{"unknown block":null}},get_block_header_state:{brief:"Fetch the minimum state necessary to validate transaction headers.",params:{block_num_or_id:"string"},results:"string",errors:{block_id_type_exception:"Invalid block ID",unknown_block_exception:"Could not find reversible block"}},get_table_rows:{brief:"Fetch smart contract data from an account.",params:{json:{type:"bool",default:!1},code:"name",scope:"string",table:"name",table_key:"string",lower_bound:{type:"string",default:"0"},upper_bound:{type:"string",default:"-1"},limit:{type:"uint32",default:"10"},key_type:{type:"string",doc:"The key type of --index, primary only supports (i64), all others support (i64, i128, i256, float64, float128). Special type 'name' indicates an account name."},index_position:{type:"string",doc:"1 - primary (first), 2 - secondary index (in order defined by multi_index), 3 - third index, etc"}},results:{rows:{type:"vector",doc:"One row per item, either encoded as hex String or JSON object"},more:{type:"bool",doc:"True if last element in data is not the end and sizeof data() < limit"}}},get_currency_balance:{params:{code:"name",account:"name",symbol:"optional<string>"},results:"asset[]"},get_currency_stats:{params:{code:"name",symbol:"string"},results:{supply:"asset",max_supply:"asset",issuer:"account_name"}},get_producers:{brief:"Fetch smart contract data from producer.",params:{json:{type:"bool",default:!1},lower_bound:"string",limit:{type:"uint32",default:"50"}},results:{rows:{type:"vector",doc:"one row per item, either encoded as hex String or JSON object"},total_producer_vote_weight:{type:"double",doc:"total vote"},more:{type:"string",doc:"fill lower_bound with this value to fetch more rows"}}},get_producer_schedule:{brief:"",params:{},results:{vector:"proposed"}},get_scheduled_transactions:{brief:"",params:{json:{type:"bool",default:!1},lower_bound:{type:"string",doc:"timestamp OR transaction ID"},limit:{type:"uint32",default:"50"}},results:{vector:"transactions",more:{type:"string",doc:"fill lower_bound with this to fetch next set of transactions"}}},push_block:{brief:"Append a block to the chain database.",params:{block:"signed_block"},results:null},push_transaction:{brief:"Attempts to push the transaction into the pending queue.",params:{signed_transaction:"signed_transaction"},results:{transaction_id:"fixed_bytes32",processed:"bytes"}},push_transactions:{brief:"Attempts to push transactions into the pending queue.",params:{"signed_transaction[]":"signed_transaction"},results:"vector[push_transaction.results]"}}},"kgR/":function(t,e){},lqu7:function(t,e){},uslO:function(t,e,n){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function s(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(a)},s.resolve=r,t.exports=s,s.id="uslO"},wKeD:function(t,e){},wO9E:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);__webpack_exports__.a=function(window){!function(window){window.__parseFunction=function(__func,__attrs){return __attrs=__attrs||[],__func="(function("+__attrs.join(",")+"){"+__func+"})",window.execScript?window.execScript(__func):eval(__func)}}(window),function(t){function e(t,e,n){for(var a=e.split(/\s+/),s=0;s<a.length;s++)t.addEventListener?t.addEventListener(a[s],n):t.attachEvent("on"+a[s],n)}function n(t,e,n){for(var a=e.split(/\s+/),s=0;s<a.length;s++)t.removeEventListener?t.removeEventListener(a[s],n):t.detachEvent("on"+a[s],n)}function a(e,n){return t.getComputedStyle?t.getComputedStyle(e,"").getPropertyValue(n)||null:e.currentStyle&&e.currentStyle[n]||null}var s=function(t){var e=document.createElement("A");e.href=document.currentScript&&document.currentScript.src||"https://t.me";var n=e.origin||e.protocol+"//"+e.hostname;return"https://telegram.org"==n&&(n=t),n};function r(r){var o,i,c,u,l,p,d,m,f,_,h={},v=[];if(!r.tagName||!("SCRIPT"==r.tagName.toUpperCase()||"BLOCKQUOTE"==r.tagName.toUpperCase()&&r.classList.contains("telegram-post")))return null;if(o=r.getAttribute("data-telegram-post"))c=s("https://t.me"),i="telegram-post-"+o.replace(/[^a-z0-9_]/gi,"-")+"-"+r.getAttribute("data-telegram-rn"),l=c+"/"+o+"?embed=1",v=["userpic","single?"],p=r.getAttribute("data-width")||"100%",d="",h.minWidth="320px";else{if(!r.hasAttribute("data-telegram-login"))return null;if(o=r.getAttribute("data-telegram-login"),c=s("https://oauth.telegram.org"),i="telegram-login-"+o.replace(/[^a-z0-9_]/gi,"-"),l=c+"/embed/"+o+"?origin="+encodeURIComponent(location.origin||location.protocol+"//"+location.hostname),v=["size","userpic","init_auth","request_access","radius","min_width","max_width","lang"],p=186,d=28,r.hasAttribute("data-size")){var b=r.getAttribute("data-size");"small"==b?(p=148,d=20):"large"==b&&(p=238,d=40)}if(r.hasAttribute("data-onauth"))m=f=__parseFunction(r.getAttribute("data-onauth"),["user"]);else if(r.hasAttribute("data-auth-url")){var y=document.createElement("A");y.href=r.getAttribute("data-auth-url"),f=function(t){var e=y.href;e+=e.indexOf("?")>=0?"&":"?";var n=[];for(var a in t)n.push(a+"="+encodeURIComponent(t[a]));e+=n.join("&"),location.href=e}}r.hasAttribute("data-onunauth")&&(_=__parseFunction(r.getAttribute("data-onunauth")))}if(u=document.getElementById(i))return u;for(var g=0;g<v.length;g++){var k=v[g],w="?"==k.substr(-1);w&&(k=k.slice(0,-1));var x="data-"+k.replace(/_/g,"-");if(r.hasAttribute(x))l+="&"+k+"="+(w?"1":encodeURIComponent(r.getAttribute(x)))}function C(){try{if(function(e,n){var s=e;if("hidden"==a(s,"visibility"))return!1;for(;s&&s!==document.documentElement;){var r=a(s,"display");if("none"==r)return!1;var o=a(s,"opacity");if(null!==o&&o<.1)return!1;s=s.parentNode}if(e.getBoundingClientRect){n=+n||0;var i=e.getBoundingClientRect(),c=document.documentElement;if(i.bottom<n||i.right<n||i.top>(t.innerHeight||c.clientHeight)-n||i.left>(t.innerWidth||c.clientWidth)-n)return!1}return!0}($,50)){var e={event:"visible",frame:i};$.contentWindow.postMessage(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e),"*")}}catch(t){}}var $=document.createElement("iframe");for(var j in $.id=i,$.src=l,$.width=p,$.height=d,$.setAttribute("frameborder","0"),$.setAttribute("scrolling","no"),$.style.border="none",$.style.overflow="hidden",h)$.style[j]=h[j];return r.parentNode&&(r.parentNode.insertBefore($,r),"BLOCKQUOTE"==r.tagName.toUpperCase()&&r.parentNode.removeChild(r)),e($,"load",function(){n($,"load",C),e(t,"scroll",C),e(t,"resize",C),C()}),e(t,"message",function(e){if(e.source===$.contentWindow&&e.origin==c){try{var a=JSON.parse(e.data)}catch(t){a={}}"resize"==a.event?(a.height&&($.style.height=a.height+"px"),a.width&&($.style.width=a.width+"px")):"visible_off"==a.event?(n(t,"scroll",C),n(t,"resize",C)):"auth_user"==a.event?a.init?m&&m(a.auth_data):f&&f(a.auth_data):"unauthorized"==a.event&&_&&_()}}),$}if(!document.currentScript||!r(document.currentScript)){var o;o=document.querySelectorAll?document.querySelectorAll("script[data-telegram-post],blockquote.telegram-post,script[data-telegram-login]"):(o=Array.prototype.slice.apply(document.getElementsByTagName("SCRIPT"))).concat(Array.prototype.slice.apply(document.getElementsByTagName("BLOCKQUOTE")));for(var i=0;i<o.length;i++)r(o[i])}}(window)}},x9ll:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cd9d9a6d055870e23e4f.js.map